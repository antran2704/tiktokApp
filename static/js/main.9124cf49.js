/*! For license information please see main.9124cf49.js.LICENSE.txt */
!function(){var e={136:function(e,t,n){"use strict";n(791);t.Z=n.p+"static/media/logo.2c09544518b754ec025aa443d223f74f.svg"},582:function(e,t,n){"use strict";n(791);t.Z=n.p+"static/media/tiktok.00d68adfe6003dcfe33369018a521d79.svg"},448:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(i.apply(this,n));else if("object"===a)if(n.toString===Object.prototype.toString)for(var o in n)r.call(n,o)&&n[o]&&e.push(this&&this[o]||o);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},881:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,v=function(){return f.Date.now()};function m(e,t,n){var i,a,o,s,u,c,l=0,f=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=a;return i=a=void 0,l=t,s=e.apply(r,n)}function k(e){return l=e,u=setTimeout(x,t),f?b(e):s}function w(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=o}function x(){var e=v();if(w(e))return _(e);u=setTimeout(x,function(e){var n=t-(e-c);return d?p(n,o-(e-l)):n}(e))}function _(e){return u=void 0,m&&i?b(e):(i=a=void 0,s)}function S(){var e=v(),n=w(e);if(i=arguments,a=this,c=e,n){if(void 0===u)return k(c);if(d)return u=setTimeout(x,t),b(c)}return void 0===u&&(u=setTimeout(x,t)),s}return t=y(t)||0,g(n)&&(f=!!n.leading,o=(d="maxWait"in n)?h(y(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=a=u=void 0},S.flush=function(){return void 0===u?s:_(v())},S}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),m(e,t,{leading:i,maxWait:t,trailing:a})}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Oe=!1;function Ae(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Te(e,t,n)}finally{Oe=!1,(null!==_e||null!==Se)&&(Ne(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){De=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){De=!1}function Re(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ve=null,Ue={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Re.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Ct=[],Tt=null,Nt=null,Ot=null,At=new Map,Pt=new Map,Dt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ot&&Ft(Ot)&&(Ot=null),At.forEach(Vt),Pt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),null!==Ot&&Bt(Ot,e),At.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Ot=Mt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),dn=an(fn),hn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(j({},hn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),gn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),Tn=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),On=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(An),Dn=[9,13,27,32],Ln=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Mn=l&&"TextEvent"in window&&!Rn,jn=l&&(!Ln||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Cr=Ir("animationiteration"),Tr=Ir("animationstart"),Nr=Ir("transitionend"),Or=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Or.set(e,t),u(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Lr=Ar[Dr];Pr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Or.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Er:case Cr:case Tr:u=gn;break;case Nr:u=On;break;case"scroll":u=dn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:ki(u),h=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,yi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Hn(s))if(Jn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ki(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(g=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),Zt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ci={},Ti=Si(Ci),Ni=Si(!1),Oi=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ni),Ii(Ti)}function Li(e,t,n){if(Ti.current!==Ci)throw Error(a(168));Ei(Ti,t),Ei(Ni,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Oi=Ti.current,Ei(Ti,e),Ei(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ti),Ei(Ti,e)):Ii(Ni),Ei(Ni,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Ji="";function Xi(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=$i,$i=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=Si(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function xa(e){var t=ga.current;Ii(ga),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ca(e){null===Ea?Ea=[e]:Ea.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=j({},f,d);break e;case 2:Oa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(nc(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(nc(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=La(e,i,r))&&(nc(t,e,r,n),Ra(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Oi:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Oi:Ti.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,s,u,c){var l=R(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&Xi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Rc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(R(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=$a(!0),Ja=$a(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ei(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function Io(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Po(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Vo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Ro(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Nu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Uo,useState:function(){return No(To)},useDebugValue:$o,useDeferredValue:function(e){return Xo(Co(),mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Co().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Jo,useReducer:Oo,useRef:Uo,useState:function(){return Oo(To)},useDebugValue:$o,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Oo(To)[0],Co().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),ds(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,La(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Cs(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Du,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Du,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Du,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Du,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Pi(n)?Oi:Ti.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ai(t,c=Pi(n)?Oi:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Oa=!1;var d=t.memoizedState;o.state=d,ja(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ni.current||Oa?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Oa||za(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ia(u):u=Ai(t,u=Pi(n)?Oi:Ti.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Ha(t,o,r,u),Oa=!1,d=t.memoizedState,o.state=d,ja(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Ni.current||Oa?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(c=Oa||za(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Ds,Ls,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Rc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Rs,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Rc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Rs,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=$i,Yi=e.id,Ji=e.overflow,$i=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Rc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pi(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Ps(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ii(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ii(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>zu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Je()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=lu,i=fu;lu=null,du(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,du(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,du(e,t,n),Ys=r):du(e,t,n);break;default:du(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));hu(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Sc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Je())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,vu(t,e),Ys=l):vu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(d=Xs=f;null!==Xs;){switch(p=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:Zs(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){wu(d);continue}}null!==p?(p.return=h,Xs=p):wu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Xs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=o,(Ys=u)&&!c)for(Xs=i;null!==Xs;)u=(o=Xs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Xs=u):xu(i);for(;null!==a;)Xs=a,bu(a,t,n),a=a.sibling;Xs=i,$s=s,Ys=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):ku(e)}}function ku(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function xu(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var _u,Su=Math.ceil,Iu=k.ReactCurrentDispatcher,Eu=k.ReactCurrentOwner,Cu=k.ReactCurrentBatchConfig,Tu=0,Nu=null,Ou=null,Au=0,Pu=0,Du=Si(0),Lu=0,Ru=null,Mu=0,ju=0,Fu=0,Vu=null,Uu=null,Bu=0,zu=1/0,qu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Qu=null,$u=0,Yu=0,Ju=null,Xu=-1,Zu=0;function ec(){return 0!==(6&Tu)?Je():-1!==Xu?Xu:Xu=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Au?Au&-Au:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Ju=null,Error(a(185));gt(e,n,r),0!==(2&Tu)&&e===Nu||(e===Nu&&(0===(2&Tu)&&(ju|=n),4===Lu&&sc(e,Au)),rc(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(zu=Je()+500,Vi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Nu?Au:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===(6&Tu)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xu=-1,Zu=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Nu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Tu;Tu|=2;var o=pc();for(Nu===e&&Au===t||(qu=null,zu=Je()+500,dc(e,t));;)try{yc();break}catch(u){hc(e,u)}wa(),Iu.current=o,Tu=i,null!==Ou?t=0:(Nu=null,Au=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ru,dc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ru,dc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Uu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Uu,qu),t);break}wc(e,Uu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Uu,qu),r);break}wc(e,Uu,qu);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Uu,Uu=n,null!==t&&oc(t)),e}function oc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function sc(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Tu))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ru,dc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Uu,qu),rc(e,Je()),null}function cc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(zu=Je()+500,Vi&&zi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Tu)&&xc();var t=Tu;Tu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Tu=t))&&zi()}}function fc(){Pu=Du.current,Ii(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ii(Ni),Ii(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(so);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Ou=e=Dc(e.current,null),Au=Pu=t,Lu=0,Ru=null,Fu=ju=Mu=0,Uu=Vu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function hc(e,t){for(;;){var n=Ou;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,bo=!1,ko=0,Eu.current=null,null===n||null===n.return){Lu=1,Ru=t,Ou=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Au,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function pc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function vc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&Mu)&&0===(268435455&ju)||sc(Nu,Au)}function mc(e,t){var n=Tu;Tu|=2;var r=pc();for(Nu===e&&Au===t||(qu=null,dc(e,t));;)try{gc();break}catch(i){hc(e,i)}if(wa(),Tu=n,Iu.current=r,null!==Ou)throw Error(a(261));return Nu=null,Au=0,Lu}function gc(){for(;null!==Ou;)bc(Ou)}function yc(){for(;null!==Ou&&!$e();)bc(Ou)}function bc(e){var t=_u(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?kc(e):Ou=t,Eu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Pu)))return void(Ou=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Ou=n);if(null===e)return Lu=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Lu&&(Lu=5)}function wc(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Ou=Nu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Tu;Tu|=4,Eu.current=null,function(e,t){if(ei=Ht,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Ye(),Tu=u,bt=s,Cu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,$u=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&$u)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ju?Yu++:(Yu=0,Ju=e):Yu=0,zi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function xc(){if(null!==Qu){var e=kt($u),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var d=f.child;if(null!==d)d.return=f,Xs=d;else for(;null!==Xs;){var h=(f=Xs).sibling,p=f.return;if(au(f),f===l){Xs=null;break}if(null!==h){h.return=p,Xs=h;break}Xs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xs=y;break e}Xs=o.return}}var b=e.current;for(Xs=b;null!==Xs;){var k=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Xs=k;else e:for(s=b;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Sc(u,u.return,x)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Tu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function _c(e,t,n){e=La(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=La(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Au&n)===n&&(4===Lu||3===Lu&&(130023424&Au)===Au&&500>Je()-Bu?dc(e,0):Fu|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Nc(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Oc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Rc(n.children,i,o,t);case S:s=8,i|=8;break;case I:return(e=Ac(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case O:return(e=Ac(19,n,t,i)).elementType=O,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case C:s=9;break e;case T:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ri(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,La(n,a,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=La(i,t,o))&&(nc(e,i,o,a),Ra(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Os(t),ha();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ei(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ai(t,Ti.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Is(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Tu)&&(zu=Je()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ee,Ce,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(791)),a=o(n(585));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return i.default.createElement("input",this.props,this.props.children)}}]),t}(i.default.Component);t.default=(0,a.default)(c)},532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(791)),o=u(n(671)),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=r({},this.props);return t.parentBindings&&delete t.parentBindings,a.default.createElement("div",r({},t,{ref:function(t){e.props.parentBindings.domNode=t}}),this.props.children)}}]),t}(a.default.Component);f.propTypes={name:s.default.string,id:s.default.string},t.default=(0,o.default)(f)},540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(791)),i=a(n(585));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,n,i;o(this,t);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.render=function(){return r.default.createElement("a",i.props,i.props.children)},s(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Component);t.default=(0,i.default)(u)},667:function(e,t,n){"use strict";var r=h(n(540)),i=h(n(592)),a=h(n(532)),o=h(n(338)),s=h(n(979)),u=h(n(688)),c=h(n(102)),l=h(n(585)),f=h(n(671)),d=h(n(719));function h(e){return e&&e.__esModule?e:{default:e}}r.default,i.default,a.default,o.default,s.default,u.default,c.default,l.default,f.default,d.default,t.ZP={Link:r.default,Button:i.default,Element:a.default,scroller:o.default,Events:s.default,scrollSpy:u.default,animateScroll:c.default,ScrollLink:l.default,ScrollElement:f.default,Helpers:d.default}},719:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(791),c=(n(164),n(183),n(688)),l=n(338),f=n(7),d=n(203),h={to:f.string.isRequired,containerId:f.string,container:f.object,activeClass:f.string,spy:f.bool,smooth:f.oneOfType([f.bool,f.string]),offset:f.number,delay:f.number,isDynamic:f.bool,onClick:f.func,duration:f.oneOfType([f.number,f.func]),absolute:f.bool,onSetActive:f.func,onSetInactive:f.func,ignoreCancelEvents:f.bool,hashSpy:f.bool,spyThrottle:f.number},p={Scroll:function(e,t){console.warn("Helpers.Scroll is deprecated since v1.7.0");var n=t||l,f=function(t){function l(e){a(this,l);var t=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return p.call(t),t.state={active:!1},t}return s(l,t),i(l,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();c.isMounted(e)||c.mount(e,this.props.spyThrottle),this.props.hashSpy&&(d.isMounted()||d.mount(n),d.mapContainer(this.props.to,e)),this.props.spy&&c.addStateHandler(this.stateHandler),c.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){c.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var n=r({},this.props);for(var i in h)n.hasOwnProperty(i)&&delete n[i];return n.className=t,n.onClick=this.handleClick,u.createElement(e,n)}}]),l}(u.Component),p=function(){var e=this;this.scrollTo=function(t,i){n.scrollTo(t,r({},e.state,i))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.stateHandler=function(){n.getActiveLink()!==e.props.to&&(null!==e.state&&e.state.active&&e.props.onSetInactive&&e.props.onSetInactive(),e.setState({active:!1}))},this.spyHandler=function(t){var r=e.getScrollSpyContainer();if(!d.isMounted()||d.isInitialized()){var i=e.props.to,a=null,o=0,s=0,u=0;if(r.getBoundingClientRect)u=r.getBoundingClientRect().top;if(!a||e.props.isDynamic){if(!(a=n.get(i)))return;var l=a.getBoundingClientRect();s=(o=l.top-u+t)+l.height}var f=t-e.props.offset,h=f>=Math.floor(o)&&f<Math.floor(s),p=f<Math.floor(o)||f>=Math.floor(s),v=n.getActiveLink();return p?(i===v&&n.setActiveLink(void 0),e.props.hashSpy&&d.getHash()===i&&d.changeHash(),e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive()),c.updateStates()):h&&v!==i?(n.setActiveLink(i),e.props.hashSpy&&d.changeHash(i),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(i)),c.updateStates()):void 0}}};return f.propTypes=h,f.defaultProps={offset:0},f},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=function(t){function n(e){a(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.childBindings={domNode:null},t}return s(n,t),i(n,[{key:"componentDidMount",value:function(){if("undefined"===typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"===typeof window)return!1;l.unregister(this.props.name)}},{key:"registerElems",value:function(e){l.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return u.createElement(e,r({},this.props,{parentBindings:this.childBindings}))}}]),n}(u.Component);return t.propTypes={name:f.string,id:f.string},t}};e.exports=p},102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(s(n(183)),s(n(987))),a=s(n(616)),o=s(n(979));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return i.default[e.smooth]||i.default.defaultEasing},c=function(){if("undefined"!==typeof window)return window.requestAnimationFrame||window.webkitRequestAnimationFrame}()||function(e,t,n){window.setTimeout(e,n||1e3/60,(new Date).getTime())},l=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var n=void 0!==window.pageXOffset,r="CSS1Compat"===(document.compatMode||"");return n?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},f=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var n=void 0!==window.pageXOffset,r="CSS1Compat"===(document.compatMode||"");return n?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},d=function e(t,n,r){var i=n.data;if(n.ignoreCancelEvents||!i.cancel)if(i.delta=Math.round(i.targetPosition-i.startPosition),null===i.start&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:t(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?n.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:n.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var a=e.bind(null,t,n);c.call(window,a)}else o.default.registered.end&&o.default.registered.end(i.to,i.target,i.currentPosition);else o.default.registered.end&&o.default.registered.end(i.to,i.target,i.currentPositionY)},h=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},p=function(e,t,n,r){if(t.data=t.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},window.clearTimeout(t.data.delayTimeout),a.default.subscribe((function(){t.data.cancel=!0})),h(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?l(t):f(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition!==t.data.targetPosition){var i;t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=("function"===typeof(i=t.duration)?i:function(){return i})(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=n,t.data.target=r;var s=u(t),p=d.bind(null,s,t);t&&t.delay>0?t.data.delayTimeout=window.setTimeout((function(){o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),c.call(window,p)}),t.delay):(o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),c.call(window,p))}else o.default.registered.end&&o.default.registered.end(t.data.to,t.data.target,t.data.currentPosition)},v=function(e){return(e=r({},e)).data=e.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},e.absolute=!0,e};t.default={animateTopScroll:p,getAnimationType:u,scrollToTop:function(e){p(0,v(e))},scrollToBottom:function(e){e=v(e),h(e),p(e.horizontal?function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var n=document.body,r=document.documentElement;return Math.max(n.scrollWidth,n.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth)}(e):function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var n=document.body,r=document.documentElement;return Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}(e),e)},scrollTo:function(e,t){p(e,v(t))},scrollMore:function(e,t){t=v(t),h(t);var n=t.horizontal?l(t):f(t);p(e+n,t)}}},616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(360),i=["mousedown","mousewheel","touchmove","keydown"];t.default={subscribe:function(e){return"undefined"!==typeof document&&i.forEach((function(t){return(0,r.addPassiveEventListener)(document,t,e)}))}}},360:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addPassiveEventListener=function(e,t,n){var r=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(n){}return e}();e.addEventListener(t,n,!!r&&{passive:!0})},t.removePassiveEventListener=function(e,t,n){e.removeEventListener(t,n)}},671:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(791)),o=(u(n(164)),u(n(338))),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.childBindings={domNode:null},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"componentDidMount",value:function(){if("undefined"===typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"===typeof window)return!1;o.default.unregister(this.props.name)}},{key:"registerElems",value:function(e){o.default.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return a.default.createElement(e,r({},this.props,{parentBindings:this.childBindings}))}}]),n}(a.default.Component);return t.propTypes={name:s.default.string,id:s.default.string},t}},979:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={registered:{},scrollEvent:{register:function(e,t){n.registered[e]=t},remove:function(e){n.registered[e]=null}}};t.default=n},203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(360);var r,i=n(183),a=(r=i)&&r.__esModule?r:{default:r};var o={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout((function(){e.scrollTo(t,!0),e.initialized=!0}),10):this.initialized=!0},scrollTo:function(e,t){var n=this.scroller;if(n.get(e)&&(t||e!==n.getActiveLink())){var r=this.containers[e]||document;n.scrollTo(e,{container:r})}},getHash:function(){return a.default.getHash()},changeHash:function(e,t){this.isInitialized()&&a.default.getHash()!==e&&a.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};t.default=o},585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(791)),o=l(n(688)),s=l(n(338)),u=l(n(7)),c=l(n(203));function l(e){return e&&e.__esModule?e:{default:e}}var f={to:u.default.string.isRequired,containerId:u.default.string,container:u.default.object,activeClass:u.default.string,spy:u.default.bool,horizontal:u.default.bool,smooth:u.default.oneOfType([u.default.bool,u.default.string]),offset:u.default.number,delay:u.default.number,isDynamic:u.default.bool,onClick:u.default.func,duration:u.default.oneOfType([u.default.number,u.default.func]),absolute:u.default.bool,onSetActive:u.default.func,onSetInactive:u.default.func,ignoreCancelEvents:u.default.bool,hashSpy:u.default.bool,saveHashHistory:u.default.bool,spyThrottle:u.default.number};t.default=function(e,t){var n=t||s.default,u=function(t){function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return l.call(t),t.state={active:!1},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,t),i(s,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e&&!t?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();o.default.isMounted(e)||o.default.mount(e,this.props.spyThrottle),this.props.hashSpy&&(c.default.isMounted()||c.default.mount(n),c.default.mapContainer(this.props.to,e)),o.default.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){o.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var n=r({},this.props);for(var i in f)n.hasOwnProperty(i)&&delete n[i];return n.className=t,n.onClick=this.handleClick,a.default.createElement(e,n)}}]),s}(a.default.PureComponent),l=function(){var e=this;this.scrollTo=function(t,i){n.scrollTo(t,r({},e.state,i))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.spyHandler=function(t,r){var i=e.getScrollSpyContainer();if(!c.default.isMounted()||c.default.isInitialized()){var a=e.props.horizontal,o=e.props.to,s=null,u=void 0,l=void 0;if(a){var f=0,d=0,h=0;if(i.getBoundingClientRect)h=i.getBoundingClientRect().left;if(!s||e.props.isDynamic){if(!(s=n.get(o)))return;var p=s.getBoundingClientRect();d=(f=p.left-h+t)+p.width}var v=t-e.props.offset;u=v>=Math.floor(f)&&v<Math.floor(d),l=v<Math.floor(f)||v>=Math.floor(d)}else{var m=0,g=0,y=0;if(i.getBoundingClientRect)y=i.getBoundingClientRect().top;if(!s||e.props.isDynamic){if(!(s=n.get(o)))return;var b=s.getBoundingClientRect();g=(m=b.top-y+r)+b.height}var k=r-e.props.offset;u=k>=Math.floor(m)&&k<Math.floor(g),l=k<Math.floor(m)||k>=Math.floor(g)}var w=n.getActiveLink();if(l){if(o===w&&n.setActiveLink(void 0),e.props.hashSpy&&c.default.getHash()===o){var x=e.props.saveHashHistory,_=void 0!==x&&x;c.default.changeHash("",_)}e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive(o,s))}if(u&&(w!==o||!1===e.state.active)){n.setActiveLink(o);var S=e.props.saveHashHistory,I=void 0!==S&&S;e.props.hashSpy&&c.default.changeHash(o,I),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(o,s))}}}};return u.propTypes=f,u.defaultProps={offset:0},u}},688:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(881),a=(r=i)&&r.__esModule?r:{default:r},o=n(360);var s={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,t){if(e){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:66;return(0,a.default)(e,t)}((function(t){s.scrollHandler(e)}),t);s.scrollSpyContainers.push(e),(0,o.addPassiveEventListener)(e,"scroll",n)}},isMounted:function(e){return-1!==s.scrollSpyContainers.indexOf(e)},currentPositionX:function(e){if(e===document){var t=void 0!==window.pageYOffset,n="CSS1Compat"===(document.compatMode||"");return t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft}return e.scrollLeft},currentPositionY:function(e){if(e===document){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||"");return t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop}return e.scrollTop},scrollHandler:function(e){(s.scrollSpyContainers[s.scrollSpyContainers.indexOf(e)].spyCallbacks||[]).forEach((function(t){return t(s.currentPositionX(e),s.currentPositionY(e))}))},addStateHandler:function(e){s.spySetState.push(e)},addSpyHandler:function(e,t){var n=s.scrollSpyContainers[s.scrollSpyContainers.indexOf(t)];n.spyCallbacks||(n.spyCallbacks=[]),n.spyCallbacks.push(e),e(s.currentPositionX(t),s.currentPositionY(t))},updateStates:function(){s.spySetState.forEach((function(e){return e()}))},unmount:function(e,t){s.scrollSpyContainers.forEach((function(e){return e.spyCallbacks&&e.spyCallbacks.length&&e.spyCallbacks.splice(e.spyCallbacks.indexOf(t),1)})),s.spySetState&&s.spySetState.length&&s.spySetState.splice(s.spySetState.indexOf(e),1),document.removeEventListener("scroll",s.scrollHandler)},update:function(){return s.scrollSpyContainers.forEach((function(e){return s.scrollHandler(e)}))}};t.default=s},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(183)),a=s(n(102)),o=s(n(979));function s(e){return e&&e.__esModule?e:{default:e}}var u={},c=void 0;t.default={unmount:function(){u={}},register:function(e,t){u[e]=t},unregister:function(e){delete u[e]},get:function(e){return u[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return c=e},getActiveLink:function(){return c},scrollTo:function(e,t){var n=this.get(e);if(n){var s=(t=r({},t,{absolute:!1})).containerId,u=t.container,c=void 0;c=s?document.getElementById(s):u&&u.nodeType?u:document,t.absolute=!0;var l=t.horizontal,f=i.default.scrollOffset(c,n,l)+(t.offset||0);if(!t.smooth)return o.default.registered.begin&&o.default.registered.begin(e,n),c===document?t.horizontal?window.scrollTo(f,0):window.scrollTo(0,f):c.scrollTop=f,void(o.default.registered.end&&o.default.registered.end(e,n));a.default.animateTopScroll(f,t,e,n)}else console.warn("target Element not found")}}},987:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultEasing:function(e){return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},183:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){for(var n=e.offsetTop,r=e.offsetParent;r&&!t(r);)n+=r.offsetTop,r=r.offsetParent;return{offsetTop:n,offsetParent:r}};t.default={updateHash:function(e,t){var n=0===e.indexOf("#")?e.substring(1):e,r=n?"#"+n:"",i=window&&window.location,a=r?i.pathname+i.search+r:i.pathname+i.search;t?history.pushState(history.state,"",a):history.replaceState(history.state,"",a)},getHash:function(){return window.location.hash.replace(/^#/,"")},filterElementInContainer:function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))}},scrollOffset:function(e,t,r){if(r)return e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):"static"!==getComputedStyle(e).position?t.offsetLeft:t.offsetLeft-e.offsetLeft;if(e===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if("static"!==getComputedStyle(e).position){if(t.offsetParent!==e){var i=n(t,(function(t){return t===e||t===document})),a=i.offsetTop;if(i.offsetParent!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return a}return t.offsetTop}if(t.offsetParent===e.offsetParent)return t.offsetTop-e.offsetTop;var o=function(e){return e===document};return n(t,o).offsetTop-n(e,o).offsetTop}}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+T(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&L(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&L(w,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,C=5,T=-1;function N(){return!(t.unstable_now()-T<C)}function O(){if(null!==I){var e=t.unstable_now();T=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof b)_=function(){b(O)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=O,_=function(){P.postMessage(null)}}else _=function(){g(O,0)};function D(e){I=e,S||(S=!0,_())}function L(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(E),E=-1):m=!0,L(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var h=o(e,f[0],f[1]);return u((function(){d.hasValue=!0,d.value=h}),[h]),l(h),h}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return $s},SDK_VERSION:function(){return sc},_DEFAULT_ENTRY_NAME:function(){return Qu},_addComponent:function(){return Xu},_addOrOverwriteComponent:function(){return Zu},_apps:function(){return Yu},_clearComponents:function(){return rc},_components:function(){return Ju},_getProvider:function(){return tc},_registerComponent:function(){return ec},_removeServiceInstance:function(){return nc},deleteApp:function(){return fc},getApp:function(){return cc},getApps:function(){return lc},initializeApp:function(){return uc},onLog:function(){return pc},registerVersion:function(){return hc},setLogLevel:function(){return vc}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var d="beforeunload",h="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function y(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var b=(0,r.createContext)(null);var k=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=A(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=S(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=T(i[o],r);return a}function S(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=P([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),S(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:s})})),t}var I=/^:\w+$/,E=function(e){return"*"===e};function C(e,t){var n=e.split("/"),r=n.length;return n.some(E)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!E(e)})).reduce((function(e,t){return e+(I.test(t)?3:""===t?1:10)}),r)}function T(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:P([i,l.pathname]),pathnameBase:D(P([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=P([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function O(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:L(a),hash:R(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},L=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},R=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){j()||x(!1);var t=(0,r.useContext)(b),n=t.basename,i=t.navigator,a=U(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?n+(f?"/":""):P([n,s])}return i.createHref({pathname:c,search:u,hash:o})}function j(){return null!=(0,r.useContext)(k)}function F(){return j()||x(!1),(0,r.useContext)(k).location}function V(){j()||x(!1);var e=(0,r.useContext)(b),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=O(e,JSON.parse(o),a);"/"!==t&&(i.pathname=P([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return u}function U(e){var t=(0,r.useContext)(w).matches,n=F().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return O(e,JSON.parse(i),n)}),[e,i,n])}function B(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function z(e){x(!1)}function q(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,d=void 0!==f&&f;j()&&x(!1);var h=D(i),p=(0,r.useMemo)((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof s&&(s=y(s));var v=s,m=v.pathname,g=void 0===m?"/":m,w=v.search,_=void 0===w?"":w,S=v.hash,I=void 0===S?"":S,E=v.state,C=void 0===E?null:E,T=v.key,N=void 0===T?"default":T,O=(0,r.useMemo)((function(){var e=A(g,h);return null==e?null:{pathname:e,search:_,hash:I,state:C,key:N}}),[h,g,_,I,C,N]);return null==O?null:(0,r.createElement)(b.Provider,{value:p},(0,r.createElement)(k.Provider,{children:o,value:{location:O,navigationType:c}}))}function H(e){var t=e.children,n=e.location;return function(e,t){j()||x(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,F());if(t){var c,l="string"===typeof t?y(t):t;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||x(!1),n=l}else n=u;var f=n.pathname||"/",d=_(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return B(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:P([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:P([s,e.pathnameBase])})})),i)}(W(t),n)}function W(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==z&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=W(e.props.children)),t.push(n)}else t.push.apply(t,W(e.props.children))})),t}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function $(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(h,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=c-r;s&&(o={action:e,location:i,retry:function(){C(-1*s)}},C(s))}}else E(e)}}));var s=t.Pop,u=a(),c=u[0],b=u[1],k=v(),w=v();function x(e){return"string"===typeof e?e:g(e)}function _(e,t){return void 0===t&&(t=null),f(l({pathname:b.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:m()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function I(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function E(e){s=e;var t=a();c=t[0],b=t[1],k.call({action:s,location:b})}function C(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var T={get action(){return s},get location(){return b},createHref:x,push:function e(n,a){var o=t.Push,s=_(n,a);if(I(o,s,(function(){e(n,a)}))){var u=S(s,c+1),l=u[0],f=u[1];try{i.pushState(l,"",f)}catch(d){r.location.assign(f)}E(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(I(a,o,(function(){e(n,r)}))){var s=S(o,c),u=s[0],l=s[1];i.replaceState(u,"",l),E(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return k.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(d,p),function(){t(),w.length||r.removeEventListener(d,p)}}};return T}({window:a}));var s=o.current,u=c((0,r.useState)({action:s.action,location:s.location}),2),b=u[0],k=u[1];return(0,r.useLayoutEffect)((function(){return s.listen(k)}),[s]),(0,r.createElement)(q,{basename:n,children:i,location:b.location,navigationType:b.action,navigator:s})}var Y=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=G(e,Q),f=M(c),d=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=V(),u=F(),c=U(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||g(u)===g(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,r.createElement)("a",K({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||d(e)},ref:t,target:u}))}));var J={prefix:"far",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M447.1 0h-384c-35.25 0-64 28.75-64 63.1v287.1c0 35.25 28.75 63.1 64 63.1h96v83.98c0 9.836 11.02 15.55 19.12 9.7l124.9-93.68h144c35.25 0 64-28.75 64-63.1V63.1C511.1 28.75 483.2 0 447.1 0zM464 352c0 8.75-7.25 16-16 16h-160l-80 60v-60H64c-8.75 0-16-7.25-16-16V64c0-8.75 7.25-16 16-16h384c8.75 0 16 7.25 16 16V352z"]},X={prefix:"far",iconName:"user",icon:[448,512,[62144,128100],"f007","M272 304h-96C78.8 304 0 382.8 0 480c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32C448 382.8 369.2 304 272 304zM48.99 464C56.89 400.9 110.8 352 176 352h96c65.16 0 119.1 48.95 127 112H48.99zM224 256c70.69 0 128-57.31 128-128c0-70.69-57.31-128-128-128S96 57.31 96 128C96 198.7 153.3 256 224 256zM224 48c44.11 0 80 35.89 80 80c0 44.11-35.89 80-80 80S144 172.1 144 128C144 83.89 179.9 48 224 48z"]},Z={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[512,512,["sign-out"],"f08b","M160 416H96c-17.67 0-32-14.33-32-32V128c0-17.67 14.33-32 32-32h64c17.67 0 32-14.33 32-32S177.7 32 160 32H96C42.98 32 0 74.98 0 128v256c0 53.02 42.98 96 96 96h64c17.67 0 32-14.33 32-32S177.7 416 160 416zM502.6 233.4l-128-128c-12.51-12.51-32.76-12.49-45.25 0c-12.5 12.5-12.5 32.75 0 45.25L402.8 224H192C174.3 224 160 238.3 160 256s14.31 32 32 32h210.8l-73.38 73.38c-12.5 12.5-12.5 32.75 0 45.25s32.75 12.5 45.25 0l128-128C515.1 266.1 515.1 245.9 502.6 233.4z"]},ee={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M224 480c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l169.4 169.4c12.5 12.5 12.5 32.75 0 45.25C240.4 476.9 232.2 480 224 480z"]},te={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM371.8 211.8C382.7 200.9 382.7 183.1 371.8 172.2C360.9 161.3 343.1 161.3 332.2 172.2L224 280.4L179.8 236.2C168.9 225.3 151.1 225.3 140.2 236.2C129.3 247.1 129.3 264.9 140.2 275.8L204.2 339.8C215.1 350.7 232.9 350.7 243.8 339.8L371.8 211.8z"]},ne={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 400c-18 0-32-14-32-32s13.1-32 32-32c17.1 0 32 14 32 32S273.1 400 256 400zM325.1 258L280 286V288c0 13-11 24-24 24S232 301 232 288V272c0-8 4-16 12-21l57-34C308 213 312 206 312 198C312 186 301.1 176 289.1 176h-51.1C225.1 176 216 186 216 198c0 13-11 24-24 24s-24-11-24-24C168 159 199 128 237.1 128h51.1C329 128 360 159 360 198C360 222 347 245 325.1 258z"]},re={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},ie={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80C512 98.01 497.7 114.6 473.6 128C444.5 144.1 401.2 155.5 351.3 158.9C347.7 157.2 343.9 155.5 340.1 153.9C300.6 137.4 248.2 128 192 128C183.7 128 175.6 128.2 167.5 128.6L166.4 128C142.3 114.6 128 98.01 128 80C128 35.82 213.1 0 320 0C426 0 512 35.82 512 80V80zM160.7 161.1C170.9 160.4 181.3 160 192 160C254.2 160 309.4 172.3 344.5 191.4C369.3 204.9 384 221.7 384 240C384 243.1 383.3 247.9 381.9 251.7C377.3 264.9 364.1 277 346.9 287.3C346.9 287.3 346.9 287.3 346.9 287.3C346.8 287.3 346.6 287.4 346.5 287.5L346.5 287.5C346.2 287.7 345.9 287.8 345.6 288C310.6 307.4 254.8 320 192 320C132.4 320 79.06 308.7 43.84 290.9C41.97 289.9 40.15 288.1 38.39 288C14.28 274.6 0 258 0 240C0 205.2 53.43 175.5 128 164.6C138.5 163 149.4 161.8 160.7 161.1L160.7 161.1zM391.9 186.6C420.2 182.2 446.1 175.2 468.1 166.1C484.4 159.3 499.5 150.9 512 140.6V176C512 195.3 495.5 213.1 468.2 226.9C453.5 234.3 435.8 240.5 415.8 245.3C415.9 243.6 416 241.8 416 240C416 218.1 405.4 200.1 391.9 186.6V186.6zM384 336C384 354 369.7 370.6 345.6 384C343.8 384.1 342 385.9 340.2 386.9C304.9 404.7 251.6 416 192 416C129.2 416 73.42 403.4 38.39 384C14.28 370.6 .0003 354 .0003 336V300.6C12.45 310.9 27.62 319.3 43.93 326.1C83.44 342.6 135.8 352 192 352C248.2 352 300.6 342.6 340.1 326.1C347.9 322.9 355.4 319.2 362.5 315.2C368.6 311.8 374.3 308 379.7 304C381.2 302.9 382.6 301.7 384 300.6L384 336zM416 278.1C434.1 273.1 452.5 268.6 468.1 262.1C484.4 255.3 499.5 246.9 512 236.6V272C512 282.5 507 293 497.1 302.9C480.8 319.2 452.1 332.6 415.8 341.3C415.9 339.6 416 337.8 416 336V278.1zM192 448C248.2 448 300.6 438.6 340.1 422.1C356.4 415.3 371.5 406.9 384 396.6V432C384 476.2 298 512 192 512C85.96 512 .0003 476.2 .0003 432V396.6C12.45 406.9 27.62 415.3 43.93 422.1C83.44 438.6 135.8 448 192 448z"]},ae={prefix:"fas",iconName:"earth-asia",icon:[512,512,[127759,"globe-asia"],"f57e","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM51.68 295.1L83.41 301.5C91.27 303.1 99.41 300.6 105.1 294.9L120.5 279.5C132 267.1 151.6 271.1 158.9 285.8L168.2 304.3C172.1 313.9 182.8 319.1 193.5 319.1C208.7 319.1 219.6 305.4 215.2 290.8L209.3 270.9C204.6 255.5 216.2 240 232.3 240H234.6C247.1 240 260.5 233.3 267.9 222.2L278.6 206.1C284.2 197.7 283.9 186.6 277.8 178.4L261.7 156.9C251.4 143.2 258.4 123.4 275.1 119.2L292.1 114.1C299.6 113.1 305.7 107.8 308.6 100.6L324.9 59.69C303.4 52.12 280.2 48 255.1 48C141.1 48 47.1 141.1 47.1 256C47.1 269.4 49.26 282.5 51.68 295.1L51.68 295.1zM450.4 300.4L434.6 304.9C427.9 306.7 420.8 304 417.1 298.2L415.1 295.1C409.1 285.7 398.7 279.1 387.5 279.1C376.4 279.1 365.1 285.7 359.9 295.1L353.8 304.6C352.4 306.8 350.5 308.7 348.2 309.1L311.1 330.1C293.9 340.2 286.5 362.5 294.1 381.4L300.5 393.8C309.1 413 331.2 422.3 350.1 414.9L353.5 413.1C363.6 410.2 374.8 411.8 383.5 418.1L385 419.2C422.2 389.7 449.1 347.8 459.4 299.7C456.4 299.4 453.4 299.6 450.4 300.4H450.4zM156.1 367.5L188.1 375.5C196.7 377.7 205.4 372.5 207.5 363.9C209.7 355.3 204.5 346.6 195.9 344.5L163.9 336.5C155.3 334.3 146.6 339.5 144.5 348.1C142.3 356.7 147.5 365.4 156.1 367.5V367.5zM236.5 328.1C234.3 336.7 239.5 345.4 248.1 347.5C256.7 349.7 265.4 344.5 267.5 335.9L275.5 303.9C277.7 295.3 272.5 286.6 263.9 284.5C255.3 282.3 246.6 287.5 244.5 296.1L236.5 328.1zM321.7 120.8L305.7 152.8C301.7 160.7 304.9 170.4 312.8 174.3C320.7 178.3 330.4 175.1 334.3 167.2L350.3 135.2C354.3 127.3 351.1 117.6 343.2 113.7C335.3 109.7 325.6 112.9 321.7 120.8V120.8z"]},oe={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360C94.93 360 120 385.1 120 416C120 446.9 94.93 472 64 472C33.07 472 8 446.9 8 416C8 385.1 33.07 360 64 360zM64 200C94.93 200 120 225.1 120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200zM64 152C33.07 152 8 126.9 8 96C8 65.07 33.07 40 64 40C94.93 40 120 65.07 120 96C120 126.9 94.93 152 64 152z"]},se={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"]},ue={prefix:"fas",iconName:"house",icon:[576,512,[63498,63500,127968,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"]},ce={prefix:"fas",iconName:"keyboard",icon:[576,512,[9e3],"f11c","M512 448H64c-35.35 0-64-28.65-64-64V128c0-35.35 28.65-64 64-64h448c35.35 0 64 28.65 64 64v256C576 419.3 547.3 448 512 448zM128 180v-40C128 133.4 122.6 128 116 128h-40C69.38 128 64 133.4 64 140v40C64 186.6 69.38 192 76 192h40C122.6 192 128 186.6 128 180zM224 180v-40C224 133.4 218.6 128 212 128h-40C165.4 128 160 133.4 160 140v40C160 186.6 165.4 192 172 192h40C218.6 192 224 186.6 224 180zM320 180v-40C320 133.4 314.6 128 308 128h-40C261.4 128 256 133.4 256 140v40C256 186.6 261.4 192 268 192h40C314.6 192 320 186.6 320 180zM416 180v-40C416 133.4 410.6 128 404 128h-40C357.4 128 352 133.4 352 140v40C352 186.6 357.4 192 364 192h40C410.6 192 416 186.6 416 180zM512 180v-40C512 133.4 506.6 128 500 128h-40C453.4 128 448 133.4 448 140v40C448 186.6 453.4 192 460 192h40C506.6 192 512 186.6 512 180zM128 276v-40C128 229.4 122.6 224 116 224h-40C69.38 224 64 229.4 64 236v40C64 282.6 69.38 288 76 288h40C122.6 288 128 282.6 128 276zM224 276v-40C224 229.4 218.6 224 212 224h-40C165.4 224 160 229.4 160 236v40C160 282.6 165.4 288 172 288h40C218.6 288 224 282.6 224 276zM320 276v-40C320 229.4 314.6 224 308 224h-40C261.4 224 256 229.4 256 236v40C256 282.6 261.4 288 268 288h40C314.6 288 320 282.6 320 276zM416 276v-40C416 229.4 410.6 224 404 224h-40C357.4 224 352 229.4 352 236v40C352 282.6 357.4 288 364 288h40C410.6 288 416 282.6 416 276zM512 276v-40C512 229.4 506.6 224 500 224h-40C453.4 224 448 229.4 448 236v40C448 282.6 453.4 288 460 288h40C506.6 288 512 282.6 512 276zM128 372v-40C128 325.4 122.6 320 116 320h-40C69.38 320 64 325.4 64 332v40C64 378.6 69.38 384 76 384h40C122.6 384 128 378.6 128 372zM416 372v-40C416 325.4 410.6 320 404 320h-232C165.4 320 160 325.4 160 332v40C160 378.6 165.4 384 172 384h232C410.6 384 416 378.6 416 372zM512 372v-40C512 325.4 506.6 320 500 320h-40C453.4 320 448 325.4 448 332v40C448 378.6 453.4 384 460 384h40C506.6 384 512 378.6 512 372z"]},le={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"]},fe={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M511.6 36.86l-64 415.1c-1.5 9.734-7.375 18.22-15.97 23.05c-4.844 2.719-10.27 4.097-15.68 4.097c-4.188 0-8.319-.8154-12.29-2.472l-122.6-51.1l-50.86 76.29C226.3 508.5 219.8 512 212.8 512C201.3 512 192 502.7 192 491.2v-96.18c0-7.115 2.372-14.03 6.742-19.64L416 96l-293.7 264.3L19.69 317.5C8.438 312.8 .8125 302.2 .0625 289.1s5.469-23.72 16.06-29.77l448-255.1c10.69-6.109 23.88-5.547 34 1.406S513.5 24.72 511.6 36.86z"]},de={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},he={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48C304 74.51 282.5 96 256 96C229.5 96 208 74.51 208 48C208 21.49 229.5 0 256 0C282.5 0 304 21.49 304 48zM304 464C304 490.5 282.5 512 256 512C229.5 512 208 490.5 208 464C208 437.5 229.5 416 256 416C282.5 416 304 437.5 304 464zM0 256C0 229.5 21.49 208 48 208C74.51 208 96 229.5 96 256C96 282.5 74.51 304 48 304C21.49 304 0 282.5 0 256zM512 256C512 282.5 490.5 304 464 304C437.5 304 416 282.5 416 256C416 229.5 437.5 208 464 208C490.5 208 512 229.5 512 256zM74.98 437C56.23 418.3 56.23 387.9 74.98 369.1C93.73 350.4 124.1 350.4 142.9 369.1C161.6 387.9 161.6 418.3 142.9 437C124.1 455.8 93.73 455.8 74.98 437V437zM142.9 142.9C124.1 161.6 93.73 161.6 74.98 142.9C56.24 124.1 56.24 93.73 74.98 74.98C93.73 56.23 124.1 56.23 142.9 74.98C161.6 93.73 161.6 124.1 142.9 142.9zM369.1 369.1C387.9 350.4 418.3 350.4 437 369.1C455.8 387.9 455.8 418.3 437 437C418.3 455.8 387.9 455.8 369.1 437C350.4 418.3 350.4 387.9 369.1 369.1V369.1z"]},pe={prefix:"fas",iconName:"user-group",icon:[640,512,[128101,"user-friends"],"f500","M224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3c-95.73 0-173.3 77.6-173.3 173.3C0 496.5 15.52 512 34.66 512H413.3C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304zM479.1 320h-73.85C451.2 357.7 480 414.1 480 477.3C480 490.1 476.2 501.9 470 512h138C625.7 512 640 497.6 640 479.1C640 391.6 568.4 320 479.1 320zM432 256C493.9 256 544 205.9 544 144S493.9 32 432 32c-25.11 0-48.04 8.555-66.72 22.51C376.8 76.63 384 101.4 384 128c0 35.52-11.93 68.14-31.59 94.71C372.7 243.2 400.8 256 432 256z"]},ve={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M384 112v288c0 26.51-21.49 48-48 48h-288c-26.51 0-48-21.49-48-48v-288c0-26.51 21.49-48 48-48h288C362.5 64 384 85.49 384 112zM576 127.5v256.9c0 25.5-29.17 40.39-50.39 25.79L416 334.7V177.3l109.6-75.56C546.9 87.13 576 102.1 576 127.5z"]};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||_e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){if(e){if("string"===typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ie=function(){},Ee={},Ce={},Te=null,Ne={mark:Ie,measure:Ie};try{"undefined"!==typeof window&&(Ee=window),"undefined"!==typeof document&&(Ce=document),"undefined"!==typeof MutationObserver&&(Te=MutationObserver),"undefined"!==typeof performance&&(Ne=performance)}catch(eB){}var Oe=(Ee.navigator||{}).userAgent,Ae=void 0===Oe?"":Oe,Pe=Ee,De=Ce,Le=Te,Re=Ne,Me=(Pe.document,!!De.documentElement&&!!De.head&&"function"===typeof De.addEventListener&&"function"===typeof De.createElement),je=~Ae.indexOf("MSIE")||~Ae.indexOf("Trident/"),Fe="svg-inline--fa",Ve="data-fa-i2svg",Ue="data-fa-pseudo-element",Be="data-prefix",ze="data-icon",qe="fontawesome-i2svg",He=["HTML","HEAD","STYLE","SCRIPT"],We=function(){try{return!0}catch(eB){return!1}}(),Ke={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Ge={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Qe={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},$e={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Ye=/fa[srltdbk]?[\-\ ]/,Je="fa-layers-text",Xe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Ze={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},et=[1,2,3,4,5,6,7,8,9,10],tt=et.concat([11,12,13,14,15,16,17,18,19,20]),nt=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],rt="duotone-group",it="swap-opacity",at="primary",ot="secondary",st=[].concat(xe(Object.keys(Ge)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",rt,it,at,ot]).concat(et.map((function(e){return"".concat(e,"x")}))).concat(tt.map((function(e){return"w-".concat(e)}))),ut=Pe.FontAwesomeConfig||{};if(De&&"function"===typeof De.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=we(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=De.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(ut[r]=i)}))}var ct=ge(ge({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:Fe,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),ut);ct.autoReplaceSvg||(ct.observeMutations=!1);var lt={};Object.keys(ct).forEach((function(e){Object.defineProperty(lt,e,{enumerable:!0,set:function(t){ct[e]=t,ft.forEach((function(e){return e(lt)}))},get:function(){return ct[e]}})})),Pe.FontAwesomeConfig=lt;var ft=[];var dt=16,ht={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function pt(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function vt(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function mt(e){return e.classList?vt(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function gt(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yt(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function bt(e){return e.size!==ht.size||e.x!==ht.x||e.y!==ht.y||e.rotate!==ht.rotate||e.flipX||e.flipY}function kt(){var e="fa",t=Fe,n=lt.familyPrefix,r=lt.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var wt=!1;function xt(){lt.autoAddCss&&!wt&&(!function(e){if(e&&Me){var t=De.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=De.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}De.head.insertBefore(t,r)}}(kt()),wt=!0)}var _t={mixout:function(){return{dom:{css:kt,insertCss:xt}}},hooks:function(){return{beforeDOMElementCreation:function(){xt()},beforeI2svg:function(){xt()}}}},St=Pe||{};St.___FONT_AWESOME___||(St.___FONT_AWESOME___={}),St.___FONT_AWESOME___.styles||(St.___FONT_AWESOME___.styles={}),St.___FONT_AWESOME___.hooks||(St.___FONT_AWESOME___.hooks={}),St.___FONT_AWESOME___.shims||(St.___FONT_AWESOME___.shims=[]);var It=St.___FONT_AWESOME___,Et=[],Ct=!1;function Tt(e){Me&&(Ct?setTimeout(e,0):Et.push(e))}function Nt(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?gt(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(gt(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(Nt).join(""),"</").concat(t,">")}function Ot(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Me&&((Ct=(De.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(De.readyState))||De.addEventListener("DOMContentLoaded",(function e(){De.removeEventListener("DOMContentLoaded",e),Ct=1,Et.map((function(e){return e()}))})));var At=function(e,t,n,r){var i,a,o,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<u;i++)o=c(o,e[a=s[i]],a,e);return o};function Pt(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Dt(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Dt(t);"function"!==typeof It.hooks.addPack||i?It.styles[e]=ge(ge({},It.styles[e]||{}),a):It.hooks.addPack(e,Dt(t)),"fas"===e&&Lt("fa",t)}var Rt=It.styles,Mt=It.shims,jt=Object.values(Qe),Ft=null,Vt={},Ut={},Bt={},zt={},qt={},Ht=Object.keys(Ke);function Wt(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~st.indexOf(n))?null:a}var Kt=function(){var e=function(e){return At(Rt,(function(t,n,r){return t[r]=At(n,e,{}),t}),{})};Vt=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),Ut=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),qt=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Rt||lt.autoFetchSvg,n=At(Mt,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Bt=n.names,zt=n.unicodes,Ft=Jt(lt.styleDefault)};function Gt(e,t){return(Vt[e]||{})[t]}function Qt(e,t){return(qt[e]||{})[t]}function $t(e){return Bt[e]||{prefix:null,iconName:null}}function Yt(){return Ft}!function(e){ft.push(e)}((function(e){Ft=Jt(e.styleDefault)})),Kt();function Jt(e){var t=Ge[e]||Ge[Ke[e]],n=e in It.styles?e:null;return t||n||null}function Xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=Wt(lt.familyPrefix,t);if(Rt[t]?(t=jt.includes(t)?$e[t]:t,i=t,e.prefix=t):Ht.indexOf(t)>-1?(i=t,e.prefix=Jt(t)):n?e.iconName=n:t!==lt.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?$t(e.iconName):{},o=Qt(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||Rt.far||!Rt.fas||lt.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=Yt()||"fas"),a}var Zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=ge(ge({},e.definitions[t]||{}),i[t]),Lt(t,i[t]);var n=Qe[t];n&&Lt(n,i[t]),Kt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&be(t.prototype,n),r&&be(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),en=[],tn={},nn={},rn=Object.keys(nn);function an(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=tn[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function on(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=tn[e]||[];i.forEach((function(e){e.apply(null,n)}))}function sn(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return nn[e]?nn[e].apply(null,t):void 0}function un(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Yt();if(t)return t=Qt(n,t)||t,Ot(cn.definitions,n,t)||Ot(It.styles,n,t)}var cn=new Zt,ln={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me?(on("beforeI2svg",e),sn("pseudoElements2svg",e),sn("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===lt.autoReplaceSvg&&(lt.autoReplaceSvg=!0),lt.observeMutations=!0,Tt((function(){hn({autoReplaceSvgRoot:t}),on("watch",e)}))}},fn={icon:function(e){if(null===e)return null;if("object"===ye(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Qt(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Jt(e[0]);return{prefix:n,iconName:Qt(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(lt.familyPrefix,"-"))>-1||e.match(Ye))){var r=Xt(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Yt(),iconName:Qt(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Yt();return{prefix:i,iconName:Qt(i,e)||e}}}},dn={noAuto:function(){lt.autoReplaceSvg=!1,lt.observeMutations=!1,on("noAuto")},config:lt,dom:ln,parse:fn,library:cn,findIconDefinition:un,toHtml:Nt},hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?De:t;(Object.keys(It.styles).length>0||lt.autoFetchSvg)&&Me&&lt.autoReplaceSvg&&dn.dom.i2svg({node:n})};function pn(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Nt(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Me){var t=De.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function vn(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,u=e.title,c=e.maskId,l=e.titleId,f=e.extra,d=e.watchable,h=void 0!==d&&d,p=r.found?r:n,v=p.width,m=p.height,g="fak"===i,y=[lt.replacementClass,a?"".concat(lt.familyPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:ge(ge({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},k=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};h&&(b.attributes[Ve]=""),u&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||pt())},children:[u]}),delete b.attributes.title);var w=ge(ge({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:s,styles:ge(ge({},k),f.styles)}),x=r.found&&n.found?sn("generateAbstractMask",w)||{children:[],attributes:{}}:sn("generateAbstractIcon",w)||{children:[],attributes:{}},_=x.children,S=x.attributes;return w.children=_,w.attributes=S,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(lt.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ge(ge({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(bt(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=yt(ge(ge({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function mn(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,u=void 0!==s&&s,c=ge(ge(ge({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});u&&(c[Ve]="");var l=ge({},o.styles);bt(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,s=void 0!==o&&o,u="";return u+=s&&je?"translate(".concat(t.x/dt-r/2,"em, ").concat(t.y/dt-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/dt,"em), calc(-50% + ").concat(t.y/dt,"em)) "):"translate(".concat(t.x/dt,"em, ").concat(t.y/dt,"em) "),u+="scale(".concat(t.size/dt*(t.flipX?-1:1),", ").concat(t.size/dt*(t.flipY?-1:1),") "),u+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=yt(l);f.length>0&&(c.style=f);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),a&&d.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),d}function gn(e){var t=e.content,n=e.title,r=e.extra,i=ge(ge(ge({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=yt(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var yn=It.styles;function bn(e){var t=e[0],n=e[1],r=we(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(lt.familyPrefix,"-").concat(rt)},children:[{tag:"path",attributes:{class:"".concat(lt.familyPrefix,"-").concat(ot),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(lt.familyPrefix,"-").concat(at),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var kn={found:!1,width:512,height:512};function wn(e,t){var n=t;return"fa"===t&&null!==lt.styleDefault&&(t=Yt()),new Promise((function(r,i){sn("missingIconAbstract");if("fa"===n){var a=$t(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&yn[t]&&yn[t][e])return r(bn(yn[t][e]));!function(e,t){We||lt.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(ge(ge({},kn),{},{icon:lt.showMissingIcons&&e&&sn("missingIconAbstract")||{}}))}))}var xn=function(){},_n=lt.measurePerformance&&Re&&Re.mark&&Re.measure?Re:{mark:xn,measure:xn},Sn='FA "6.1.2"',In=function(e){_n.mark("".concat(Sn," ").concat(e," ends")),_n.measure("".concat(Sn," ").concat(e),"".concat(Sn," ").concat(e," begins"),"".concat(Sn," ").concat(e," ends"))},En=function(e){return _n.mark("".concat(Sn," ").concat(e," begins")),function(){return In(e)}},Cn=function(){};function Tn(e){return"string"===typeof(e.getAttribute?e.getAttribute(Ve):null)}function Nn(e){return De.createElementNS("http://www.w3.org/2000/svg",e)}function On(e){return De.createElement(e)}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?Nn:On:n;if("string"===typeof e)return De.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(An(e,{ceFn:r}))})),i}var Pn={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(An(e),t)})),null===t.getAttribute(Ve)&&lt.keepOriginalSource){var n=De.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~mt(t).indexOf(lt.replacementClass))return Pn.replace(e);var r=new RegExp("".concat(lt.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===lt.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return Nt(e)})).join("\n");t.setAttribute(Ve,""),t.innerHTML=a}};function Dn(e){e()}function Ln(e,t){var n="function"===typeof t?t:Cn;if(0===e.length)n();else{var r=Dn;"async"===lt.mutateApproach&&(r=Pe.requestAnimationFrame||Dn),r((function(){var t=!0===lt.autoReplaceSvg?Pn.replace:Pn[lt.autoReplaceSvg]||Pn.replace,r=En("mutate");e.map(t),r(),n()}))}}var Rn=!1;function Mn(){Rn=!0}function jn(){Rn=!1}var Fn=null;function Vn(e){if(Le&&lt.observeMutations){var t=e.treeCallback,n=void 0===t?Cn:t,r=e.nodeCallback,i=void 0===r?Cn:r,a=e.pseudoElementsCallback,o=void 0===a?Cn:a,s=e.observeMutationsRoot,u=void 0===s?De:s;Fn=new Le((function(e){if(!Rn){var t=Yt();vt(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Tn(e.addedNodes[0])&&(lt.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&lt.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&Tn(e.target)&&~nt.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Be):null,n=e.getAttribute?e.getAttribute(ze):null;return t&&n}(e.target)){var r=Xt(mt(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(Be,a||t),s&&e.target.setAttribute(ze,s)}else(u=e.target)&&u.classList&&u.classList.contains&&u.classList.contains(lt.replacementClass)&&i(e.target);var u}))}})),Me&&Fn.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Un(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function Bn(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Xt(mt(e));return i.prefix||(i.prefix=Yt()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Ut[e]||{})[t]}(i.prefix,e.innerText)||Gt(i.prefix,Pt(e.innerText))),!i.iconName&&lt.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function zn(e){var t=vt(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return lt.autoA11y&&(n?t["aria-labelledby"]="".concat(lt.replacementClass,"-title-").concat(r||pt()):(t["aria-hidden"]="true",t.focusable="false")),t}function qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Bn(e),r=n.iconName,i=n.prefix,a=n.rest,o=zn(e),s=an("parseNodeAttributes",{},e),u=t.styleParser?Un(e):[];return ge({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:ht,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:u,attributes:o}},s)}var Hn=It.styles;function Wn(e){var t="nest"===lt.autoReplaceSvg?qn(e,{styleParser:!1}):qn(e);return~t.extra.classes.indexOf(Je)?sn("generateLayersText",e,t):sn("generateSvgReplacementMutation",e,t)}function Kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Me)return Promise.resolve();var n=De.documentElement.classList,r=function(e){return n.add("".concat(qe,"-").concat(e))},i=function(e){return n.remove("".concat(qe,"-").concat(e))},a=lt.autoFetchSvg?Object.keys(Ke):Object.keys(Hn);a.includes("fa")||a.push("fa");var o=[".".concat(Je,":not([").concat(Ve,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(Ve,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=vt(e.querySelectorAll(o))}catch(eB){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var u=En("onTree"),c=s.reduce((function(e,t){try{var n=Wn(t);n&&e.push(n)}catch(eB){We||"MissingIcon"===eB.name&&console.error(eB)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){Ln(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),u(),e()}))})).catch((function(e){u(),n(e)}))}))}function Gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Wn(e).then((function(e){e&&Ln([e],t)}))}var Qn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ht:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,u=t.maskId,c=void 0===u?null:u,l=t.title,f=void 0===l?null:l,d=t.titleId,h=void 0===d?null:d,p=t.classes,v=void 0===p?[]:p,m=t.attributes,g=void 0===m?{}:m,y=t.styles,b=void 0===y?{}:y;if(e){var k=e.prefix,w=e.iconName,x=e.icon;return pn(ge({type:"icon"},e),(function(){return on("beforeDOMElementCreation",{iconDefinition:e,params:t}),lt.autoA11y&&(f?g["aria-labelledby"]="".concat(lt.replacementClass,"-title-").concat(h||pt()):(g["aria-hidden"]="true",g.focusable="false")),vn({icons:{main:bn(x),mask:s?bn(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:w,transform:ge(ge({},ht),r),symbol:a,title:f,maskId:c,titleId:h,extra:{attributes:g,styles:b,classes:v}})}))}},$n={mixout:function(){return{icon:(e=Qn,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:un(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:un(i||{})),e(r,ge(ge({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Kn,e.nodeCallback=Gn,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?De:t,r=e.callback;return Kn(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,u=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([wn(n,a),u.iconName?wn(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(u){var f=we(u,2),d=f[0],h=f[1];t([e,vn({icons:{main:d,mask:h},prefix:a,iconName:n,transform:o,symbol:s,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=yt(e.styles);return o.length>0&&(r.style=o),bt(a)&&(t=sn("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Yn={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return pn({type:"layer"},(function(){on("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(lt.familyPrefix,"-layers")].concat(xe(r)).join(" ")},children:n}]}))}}}},Jn={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,u=t.styles,c=void 0===u?{}:u;return pn({type:"counter",content:e},(function(){return on("beforeDOMElementCreation",{content:e,params:t}),gn({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(lt.familyPrefix,"-layers-counter")].concat(xe(a))}})}))}}}},Xn={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ht:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,u=t.attributes,c=void 0===u?{}:u,l=t.styles,f=void 0===l?{}:l;return pn({type:"text",content:e},(function(){return on("beforeDOMElementCreation",{content:e,params:t}),mn({content:e,transform:ge(ge({},ht),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(lt.familyPrefix,"-layers-text")].concat(xe(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(je){var s=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/s,o=u.height/s}return lt.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,mn({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},Zn=new RegExp('"',"ug"),er=[1105920,1112319];function tr(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=vt(e.children).filter((function(e){return e.getAttribute(Ue)===t}))[0],o=Pe.getComputedStyle(e,t),s=o.getPropertyValue("font-family").match(Xe),u=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!s)return e.removeChild(a),r();if(s&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?Ge[s[2].toLowerCase()]:Ze[u],d=function(e){var t=e.replace(Zn,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=er[0]&&n<=er[1],i=2===t.length&&t[0]===t[1];return{value:Pt(i?t[0]:t),isSecondary:r||i}}(l),h=d.value,p=d.isSecondary,v=s[0].startsWith("FontAwesome"),m=Gt(f,h),g=m;if(v){var y=function(e){var t=zt[e],n=Gt("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);y.iconName&&y.prefix&&(m=y.iconName,f=y.prefix)}if(!m||p||a&&a.getAttribute(Be)===f&&a.getAttribute(ze)===g)r();else{e.setAttribute(n,g),a&&e.removeChild(a);var b={iconName:null,title:null,titleId:null,prefix:null,transform:ht,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},k=b.extra;k.attributes[Ue]=t,wn(m,f).then((function(i){var a=vn(ge(ge({},b),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:g,extra:k,watchable:!0})),o=De.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return Nt(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function nr(e){return Promise.all([tr(e,"::before"),tr(e,"::after")])}function rr(e){return e.parentNode!==document.head&&!~He.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Ue)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function ir(e){if(Me)return new Promise((function(t,n){var r=vt(e.querySelectorAll("*")).filter(rr).map(nr),i=En("searchPseudoElements");Mn(),Promise.all(r).then((function(){i(),jn(),t()})).catch((function(){i(),jn(),n()}))}))}var ar=!1,or=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},sr={mixout:function(){return{parse:{transform:function(e){return or(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=or(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(u)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:ge({},c.outer),children:[{tag:"g",attributes:ge({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:ge(ge({},t.icon.attributes),c.path)}]}]}}}},ur={x:0,y:0,width:"100%",height:"100%"};function cr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var lr={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Xt(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Yt()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,u=i.width,c=i.icon,l=a.width,f=a.icon,d=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:l,iconWidth:u}),h={tag:"rect",attributes:ge(ge({},ur),{},{fill:"white"})},p=c.children?{children:c.children.map(cr)}:{},v={tag:"g",attributes:ge({},d.inner),children:[cr(ge({tag:c.tag,attributes:ge(ge({},c.attributes),d.path)},p))]},m={tag:"g",attributes:ge({},d.outer),children:[v]},g="mask-".concat(o||pt()),y="clip-".concat(o||pt()),b={tag:"mask",attributes:ge(ge({},ur),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(k,{tag:"rect",attributes:ge({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},ur)}),{children:n,attributes:r}}}},fr={provides:function(e){var t=!1;Pe.matchMedia&&(t=Pe.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:ge(ge({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=ge(ge({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ge(ge({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:ge(ge({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ge(ge({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:ge(ge({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ge(ge({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:ge(ge({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ge(ge({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;en=e,tn={},Object.keys(nn).forEach((function(e){-1===rn.indexOf(e)&&delete nn[e]})),en.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===ye(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){tn[e]||(tn[e]=[]),tn[e].push(r[e])}))}e.provides&&e.provides(nn)}))}([_t,$n,Yn,Jn,Xn,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=ir,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?De:t;lt.searchPseudoElements&&ir(n)}}},{mixout:function(){return{dom:{unwatch:function(){Mn(),ar=!0}}}},hooks:function(){return{bootstrap:function(){Vn(an("mutationObserverCallbacks",{}))},noAuto:function(){Fn&&Fn.disconnect()},watch:function(e){var t=e.observeMutationsRoot;ar?jn():Vn(an("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},sr,lr,fr,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:dn});var dr=dn.parse,hr=dn.icon,pr=n(7),vr=n.n(pr);function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){br(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wr(e){return function(e){if(Array.isArray(e))return xr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _r(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Sr=["style"];function Ir(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=_r(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var Er=!1;try{Er=!0}catch(eB){}function Cr(e){return e&&"object"===yr(e)&&e.prefix&&e.iconName&&e.icon?e:dr.icon?dr.icon(e):null===e?null:e&&"object"===yr(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Tr(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?br({},e,t):{}}var Nr=r.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,s=e.titleId,u=e.maskId,c=Cr(n),l=Tr("classes",[].concat(wr(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,s=e.flash,u=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,d=e.fixedWidth,h=e.inverse,p=e.border,v=e.listItem,m=e.flip,g=e.size,y=e.rotation,b=e.pull,k=(br(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":u,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":d,"fa-inverse":h,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(g),"undefined"!==typeof g&&null!==g),br(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),br(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),br(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map((function(e){return k[e]?e:null})).filter((function(e){return e}))}(e)),wr(a.split(" ")))),f=Tr("transform","string"===typeof e.transform?dr.transform(e.transform):e.transform),d=Tr("mask",Cr(r)),h=hr(c,gr(gr(gr(gr({},l),f),d),{},{symbol:i,title:o,titleId:s,maskId:u}));if(!h)return function(){var e;!Er&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=h.abstract,v={ref:t};return Object.keys(e).forEach((function(t){Nr.defaultProps.hasOwnProperty(t)||(v[t]=e[t])})),Or(p[0],v)}));Nr.displayName="FontAwesomeIcon",Nr.propTypes={beat:vr().bool,border:vr().bool,beatFade:vr().bool,bounce:vr().bool,className:vr().string,fade:vr().bool,flash:vr().bool,mask:vr().oneOfType([vr().object,vr().array,vr().string]),maskId:vr().string,fixedWidth:vr().bool,inverse:vr().bool,flip:vr().oneOf([!0,!1,"horizontal","vertical","both"]),icon:vr().oneOfType([vr().object,vr().array,vr().string]),listItem:vr().bool,pull:vr().oneOf(["right","left"]),pulse:vr().bool,rotation:vr().oneOf([0,90,180,270]),shake:vr().bool,size:vr().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:vr().bool,spinPulse:vr().bool,spinReverse:vr().bool,symbol:vr().oneOfType([vr().bool,vr().string]),title:vr().string,titleId:vr().string,transform:vr().oneOfType([vr().string,vr().object]),swapOpacity:vr().bool},Nr.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Or=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=Ir(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[_r(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,u=kr(r,Sr);return a.attrs.style=gr(gr({},a.attrs.style),s),t.apply(void 0,[n.tag,gr(gr({},a.attrs),u)].concat(wr(i)))}.bind(null,r.createElement),Ar=n(448),Pr=n.n(Ar),Dr=n(184),Lr=[{title:"Ti\u1ebfng Vi\u1ec7t",icon:(0,Dr.jsx)(Nr,{icon:ae}),children:{title:"Language",data:[{title:"English",icon:"",children:{title:"Language1",data:[{title:"English",icon:""}]}},{title:"Ti\u1ebfng Vi\u1ec7t",icon:""}]}},{title:"Ph\u1ea3n h\u1ed3i v\xe0 tr\u1ee3 gi\xfap",icon:(0,Dr.jsx)(Nr,{icon:ne}),to:"/feedback"},{title:"Ph\xedm t\u1eaft tr\xean b\xe0n ph\xedm",icon:(0,Dr.jsx)(Nr,{icon:ce}),to:"/feedback"}],Rr=[{title:"Xem h\u1ed3 s\u01a1",icon:(0,Dr.jsx)(Nr,{icon:X})},{title:"Nh\u1eadn xu",icon:(0,Dr.jsx)(Nr,{icon:ie})},{title:"C\xe0i \u0111\u1eb7t",icon:(0,Dr.jsx)(Nr,{icon:se})}].concat(Lr,[{title:"\u0110\u0103ng xu\u1ea5t",icon:(0,Dr.jsx)(Nr,{icon:Z}),borderTop:!0,signOut:!0}]);function Mr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function jr(e){return e instanceof Mr(e).Element||e instanceof Element}function Fr(e){return e instanceof Mr(e).HTMLElement||e instanceof HTMLElement}function Vr(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Mr(e).ShadowRoot||e instanceof ShadowRoot)}var Ur=Math.max,Br=Math.min,zr=Math.round;function qr(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Hr(){return!/^((?!chrome|android).)*safari/i.test(qr())}function Wr(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&Fr(e)&&(i=e.offsetWidth>0&&zr(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&zr(r.height)/e.offsetHeight||1);var o=(jr(e)?Mr(e):window).visualViewport,s=!Hr()&&n,u=(r.left+(s&&o?o.offsetLeft:0))/i,c=(r.top+(s&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function Kr(e){var t=Mr(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Gr(e){return e?(e.nodeName||"").toLowerCase():null}function Qr(e){return((jr(e)?e.ownerDocument:e.document)||window.document).documentElement}function $r(e){return Wr(Qr(e)).left+Kr(e).scrollLeft}function Yr(e){return Mr(e).getComputedStyle(e)}function Jr(e){var t=Yr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Xr(e,t,n){void 0===n&&(n=!1);var r=Fr(t),i=Fr(t)&&function(e){var t=e.getBoundingClientRect(),n=zr(t.width)/e.offsetWidth||1,r=zr(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=Qr(t),o=Wr(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==Gr(t)||Jr(a))&&(s=function(e){return e!==Mr(e)&&Fr(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Kr(e);var t}(t)),Fr(t)?((u=Wr(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=$r(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Zr(e){var t=Wr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ei(e){return"html"===Gr(e)?e:e.assignedSlot||e.parentNode||(Vr(e)?e.host:null)||Qr(e)}function ti(e){return["html","body","#document"].indexOf(Gr(e))>=0?e.ownerDocument.body:Fr(e)&&Jr(e)?e:ti(ei(e))}function ni(e,t){var n;void 0===t&&(t=[]);var r=ti(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Mr(r),o=i?[a].concat(a.visualViewport||[],Jr(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(ni(ei(o)))}function ri(e){return["table","td","th"].indexOf(Gr(e))>=0}function ii(e){return Fr(e)&&"fixed"!==Yr(e).position?e.offsetParent:null}function ai(e){for(var t=Mr(e),n=ii(e);n&&ri(n)&&"static"===Yr(n).position;)n=ii(n);return n&&("html"===Gr(n)||"body"===Gr(n)&&"static"===Yr(n).position)?t:n||function(e){var t=/firefox/i.test(qr());if(/Trident/i.test(qr())&&Fr(e)&&"fixed"===Yr(e).position)return null;var n=ei(e);for(Vr(n)&&(n=n.host);Fr(n)&&["html","body"].indexOf(Gr(n))<0;){var r=Yr(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var oi="top",si="bottom",ui="right",ci="left",li="auto",fi=[oi,si,ui,ci],di="start",hi="end",pi="viewport",vi="popper",mi=fi.reduce((function(e,t){return e.concat([t+"-"+di,t+"-"+hi])}),[]),gi=[].concat(fi,[li]).reduce((function(e,t){return e.concat([t,t+"-"+di,t+"-"+hi])}),[]),yi=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function bi(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ki(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var wi={placement:"bottom",modifiers:[],strategy:"absolute"};function xi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function _i(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?wi:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},wi,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:jr(e)?ni(e):e.contextElement?ni(e.contextElement):[],popper:ni(t)};var l=function(e){var t=bi(e);return yi.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),c=function(){};o.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(xi(t,n)){i.rects={reference:Xr(t,ai(n),"fixed"===i.options.strategy),popper:Zr(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:ki((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!xi(e,t))return u;function c(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Si={passive:!0};var Ii={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=Mr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Si)})),s&&u.addEventListener("resize",n.update,Si),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Si)})),s&&u.removeEventListener("resize",n.update,Si)}},data:{}};function Ei(e){return e.split("-")[0]}function Ci(e){return e.split("-")[1]}function Ti(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ni(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?Ei(i):null,o=i?Ci(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case oi:t={x:s,y:n.y-r.height};break;case si:t={x:s,y:n.y+n.height};break;case ui:t={x:n.x+n.width,y:u};break;case ci:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?Ti(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case di:t[c]=t[c]-(n[l]/2-r[l]/2);break;case hi:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var Oi={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Ni({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Ai={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pi(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=o.x,h=void 0===d?0:d,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=ci,k=oi,w=window;if(c){var x=ai(n),_="clientHeight",S="clientWidth";if(x===Mr(n)&&"static"!==Yr(x=Qr(n)).position&&"absolute"===s&&(_="scrollHeight",S="scrollWidth"),i===oi||(i===ci||i===ui)&&a===hi)k=si,v-=(f&&x===w&&w.visualViewport?w.visualViewport.height:x[_])-r.height,v*=u?1:-1;if(i===ci||(i===oi||i===si)&&a===hi)b=ui,h-=(f&&x===w&&w.visualViewport?w.visualViewport.width:x[S])-r.width,h*=u?1:-1}var I,E=Object.assign({position:s},c&&Ai),C=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:zr(t*r)/r||0,y:zr(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=C.x,v=C.y,u?Object.assign({},E,((I={})[k]=y?"0":"",I[b]=g?"0":"",I.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",I)):Object.assign({},E,((t={})[k]=y?v+"px":"",t[b]=g?h+"px":"",t.transform="",t))}var Di={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Fr(i)&&Gr(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Fr(r)&&Gr(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var Li={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=gi.reduce((function(e,n){return e[n]=function(e,t,n){var r=Ei(e),i=[ci,oi].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[ci,ui].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},Ri={left:"right",right:"left",bottom:"top",top:"bottom"};function Mi(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ri[e]}))}var ji={start:"end",end:"start"};function Fi(e){return e.replace(/start|end/g,(function(e){return ji[e]}))}function Vi(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Vr(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ui(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Bi(e,t,n){return t===pi?Ui(function(e,t){var n=Mr(e),r=Qr(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var c=Hr();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+$r(e),y:u}}(e,n)):jr(t)?function(e,t){var n=Wr(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ui(function(e){var t,n=Qr(e),r=Kr(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=Ur(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ur(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+$r(e),u=-r.scrollTop;return"rtl"===Yr(i||n).direction&&(s+=Ur(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(Qr(e)))}function zi(e,t,n,r){var i="clippingParents"===t?function(e){var t=ni(ei(e)),n=["absolute","fixed"].indexOf(Yr(e).position)>=0&&Fr(e)?ai(e):e;return jr(n)?t.filter((function(e){return jr(e)&&Vi(e,n)&&"body"!==Gr(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=Bi(e,n,r);return t.top=Ur(i.top,t.top),t.right=Br(i.right,t.right),t.bottom=Br(i.bottom,t.bottom),t.left=Ur(i.left,t.left),t}),Bi(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function qi(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Hi(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Wi(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,u=void 0===s?"clippingParents":s,c=n.rootBoundary,l=void 0===c?pi:c,f=n.elementContext,d=void 0===f?vi:f,h=n.altBoundary,p=void 0!==h&&h,v=n.padding,m=void 0===v?0:v,g=qi("number"!==typeof m?m:Hi(m,fi)),y=d===vi?"reference":vi,b=e.rects.popper,k=e.elements[p?y:d],w=zi(jr(k)?k:k.contextElement||Qr(e.elements.popper),u,l,o),x=Wr(e.elements.reference),_=Ni({reference:x,element:b,strategy:"absolute",placement:i}),S=Ui(Object.assign({},b,_)),I=d===vi?S:x,E={top:w.top-I.top+g.top,bottom:I.bottom-w.bottom+g.bottom,left:w.left-I.left+g.left,right:I.right-w.right+g.right},C=e.modifiersData.offset;if(d===vi&&C){var T=C[i];Object.keys(E).forEach((function(e){var t=[ui,si].indexOf(e)>=0?1:-1,n=[oi,si].indexOf(e)>=0?"y":"x";E[e]+=T[n]*t}))}return E}var Ki={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,g=Ei(m),y=u||(g===m||!p?[Mi(m)]:function(e){if(Ei(e)===li)return[];var t=Mi(e);return[Fi(e),t,Fi(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat(Ei(n)===li?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?gi:u,l=Ci(r),f=l?s?mi:mi.filter((function(e){return Ci(e)===l})):fi,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,n){return t[n]=Wi(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Ei(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),k=t.rects.reference,w=t.rects.popper,x=new Map,_=!0,S=b[0],I=0;I<b.length;I++){var E=b[I],C=Ei(E),T=Ci(E)===di,N=[oi,si].indexOf(C)>=0,O=N?"width":"height",A=Wi(t,{placement:E,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),P=N?T?ui:ci:T?si:oi;k[O]>w[O]&&(P=Mi(P));var D=Mi(P),L=[];if(a&&L.push(A[C]<=0),s&&L.push(A[P]<=0,A[D]<=0),L.every((function(e){return e}))){S=E,_=!1;break}x.set(E,L)}if(_)for(var R=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},M=p?3:1;M>0;M--){if("break"===R(M))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Gi(e,t,n){return Ur(e,Br(t,n))}var Qi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,v=void 0===p?0:p,m=Wi(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),g=Ei(t.placement),y=Ci(t.placement),b=!y,k=Ti(g),w="x"===k?"y":"x",x=t.modifiersData.popperOffsets,_=t.rects.reference,S=t.rects.popper,I="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,E="number"===typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(x){if(a){var N,O="y"===k?oi:ci,A="y"===k?si:ui,P="y"===k?"height":"width",D=x[k],L=D+m[O],R=D-m[A],M=h?-S[P]/2:0,j=y===di?_[P]:S[P],F=y===di?-S[P]:-_[P],V=t.elements.arrow,U=h&&V?Zr(V):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[O],q=B[A],H=Gi(0,_[P],U[P]),W=b?_[P]/2-M-H-z-E.mainAxis:j-H-z-E.mainAxis,K=b?-_[P]/2+M+H+q+E.mainAxis:F+H+q+E.mainAxis,G=t.elements.arrow&&ai(t.elements.arrow),Q=G?"y"===k?G.clientTop||0:G.clientLeft||0:0,$=null!=(N=null==C?void 0:C[k])?N:0,Y=D+K-$,J=Gi(h?Br(L,D+W-$-Q):L,D,h?Ur(R,Y):R);x[k]=J,T[k]=J-D}if(s){var X,Z="x"===k?oi:ci,ee="x"===k?si:ui,te=x[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[oi,ci].indexOf(g),oe=null!=(X=null==C?void 0:C[w])?X:0,se=ae?re:te-_[ne]-S[ne]-oe+E.altAxis,ue=ae?te+_[ne]+S[ne]-oe-E.altAxis:ie,ce=h&&ae?function(e,t,n){var r=Gi(e,t,n);return r>n?n:r}(se,te,ue):Gi(h?se:re,te,h?ue:ie);x[w]=ce,T[w]=ce-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};var $i={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Ei(n.placement),u=Ti(s),c=[ci,ui].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return qi("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Hi(e,fi))}(i.padding,n),f=Zr(a),d="y"===u?oi:ci,h="y"===u?si:ui,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=ai(a),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=l[d],k=g-f[c]-l[h],w=g/2-f[c]/2+y,x=Gi(b,w,k),_=u;n.modifiersData[r]=((t={})[_]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Vi(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yi(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ji(e){return[oi,ui,si,ci].some((function(t){return e[t]>=0}))}var Xi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Wi(t,{elementContext:"reference"}),s=Wi(t,{altBoundary:!0}),u=Yi(o,r),c=Yi(s,i,a),l=Ji(u),f=Ji(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},Zi=_i({defaultModifiers:[Ii,Oi,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:Ei(t.placement),variation:Ci(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Pi(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Pi(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Di,Li,Ki,Qi,$i,Xi]}),ea="tippy-content",ta="tippy-backdrop",na="tippy-arrow",ra="tippy-svg-arrow",ia={passive:!0,capture:!0},aa=function(){return document.body};function oa(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function sa(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function ua(e,t){return"function"===typeof e?e.apply(void 0,t):e}function ca(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function la(e){return[].concat(e)}function fa(e,t){-1===e.indexOf(t)&&e.push(t)}function da(e){return e.split("-")[0]}function ha(e){return[].slice.call(e)}function pa(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function va(){return document.createElement("div")}function ma(e){return["Element","Fragment"].some((function(t){return sa(e,t)}))}function ga(e){return sa(e,"MouseEvent")}function ya(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function ba(e){return ma(e)?[e]:function(e){return sa(e,"NodeList")}(e)?ha(e):Array.isArray(e)?e:ha(document.querySelectorAll(e))}function ka(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function wa(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function xa(e){var t,n=la(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function _a(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function Sa(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var Ia={isTouch:!1},Ea=0;function Ca(){Ia.isTouch||(Ia.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ta))}function Ta(){var e=performance.now();e-Ea<20&&(Ia.isTouch=!1,document.removeEventListener("mousemove",Ta)),Ea=e}function Na(){var e=document.activeElement;if(ya(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Oa=!!("undefined"!==typeof window&&"undefined"!==typeof document)&&!!window.msCrypto;var Aa={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Pa=Object.assign({appendTo:aa,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Aa,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Da=Object.keys(Pa);function La(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,a=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=Pa[i])?r:a);return t}),{});return Object.assign({},e,t)}function Ra(e,t){var n=Object.assign({},t,{content:ua(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(La(Object.assign({},Pa,{plugins:t}))):Da).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(eB){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Pa.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function Ma(e,t){e.innerHTML=t}function ja(e){var t=va();return!0===e?t.className=na:(t.className=ra,ma(e)?t.appendChild(e):Ma(t,e)),t}function Fa(e,t){ma(t.content)?(Ma(e,""),e.appendChild(t.content)):"function"!==typeof t.content&&(t.allowHTML?Ma(e,t.content):e.textContent=t.content)}function Va(e){var t=e.firstElementChild,n=ha(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(ea)})),arrow:n.find((function(e){return e.classList.contains(na)||e.classList.contains(ra)})),backdrop:n.find((function(e){return e.classList.contains(ta)}))}}function Ua(e){var t=va(),n=va();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=va();function i(n,r){var i=Va(t),a=i.box,o=i.content,s=i.arrow;r.theme?a.setAttribute("data-theme",r.theme):a.removeAttribute("data-theme"),"string"===typeof r.animation?a.setAttribute("data-animation",r.animation):a.removeAttribute("data-animation"),r.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"===typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?a.setAttribute("role",r.role):a.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Fa(o,e.props),r.arrow?s?n.arrow!==r.arrow&&(a.removeChild(s),a.appendChild(ja(r.arrow))):a.appendChild(ja(r.arrow)):s&&a.removeChild(s)}return r.className=ea,r.setAttribute("data-state","hidden"),Fa(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}Ua.$$tippy=!0;var Ba=1,za=[],qa=[];function Ha(e,t){var n,r,i,a,o,s,u,c,l=Ra(e,Object.assign({},Pa,La(pa(t)))),f=!1,d=!1,h=!1,p=!1,v=[],m=ca(G,l.interactiveDebounce),g=Ba++,y=(c=l.plugins).filter((function(e,t){return c.indexOf(e)===t})),b={id:g,reference:e,popper:va(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){0;if(b.state.isDestroyed)return;D("onBeforeUpdate",[b,t]),W();var n=b.props,r=Ra(e,Object.assign({},n,pa(t),{ignoreAttributes:!0}));b.props=r,H(),n.interactiveDebounce!==r.interactiveDebounce&&(M(),m=ca(G,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?la(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");R(),P(),x&&x(n,r);b.popperInstance&&(J(),Z().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));D("onAfterUpdate",[b,t])},setContent:function(e){b.setProps({content:e})},show:function(){0;var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=Ia.isTouch&&!b.props.touch,i=oa(b.props.duration,0,Pa.duration);if(e||t||n||r)return;if(T().hasAttribute("disabled"))return;if(D("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,C()&&(w.style.visibility="visible");P(),U(),b.state.isMounted||(w.style.transition="none");if(C()){var a=O(),o=a.box,u=a.content;ka([o,u],0)}s=function(){var e;if(b.state.isVisible&&!p){if(p=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,C()&&b.props.animation){var t=O(),n=t.box,r=t.content;ka([n,r],i),wa([n,r],"visible")}L(),R(),fa(qa,b),null==(e=b.popperInstance)||e.forceUpdate(),D("onMount",[b]),b.props.animation&&C()&&function(e,t){z(e,t)}(i,(function(){b.state.isShown=!0,D("onShown",[b])}))}},function(){var e,t=b.props.appendTo,n=T();e=b.props.interactive&&t===aa||"parent"===t?n.parentNode:ua(t,[n]);e.contains(w)||e.appendChild(w);b.state.isMounted=!0,J(),!1}()},hide:function(){0;var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=oa(b.props.duration,1,Pa.duration);if(e||t||n)return;if(D("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,p=!1,f=!1,C()&&(w.style.visibility="hidden");if(M(),B(),P(!0),C()){var i=O(),a=i.box,o=i.content;b.props.animation&&(ka([a,o],r),wa([a,o],"hidden"))}L(),R(),b.props.animation?C()&&function(e,t){z(e,(function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(r,b.unmount):b.unmount()},hideWithInteractivity:function(e){0;N().addEventListener("mousemove",m),fa(za,m),m(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;X(),Z().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w);qa=qa.filter((function(e){return e!==b})),b.state.isMounted=!1,D("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),W(),delete e._tippy,b.state.isDestroyed=!0,D("onDestroy",[b])}};if(!l.render)return b;var k=l.render(b),w=k.popper,x=k.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,e._tippy=b,w._tippy=b;var _=y.map((function(e){return e.fn(b)})),S=e.hasAttribute("aria-expanded");return H(),R(),P(),D("onCreate",[b]),l.showOnCreate&&ee(),w.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&N().addEventListener("mousemove",m)})),b;function I(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function E(){return"hold"===I()[0]}function C(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function T(){return u||e}function N(){var e=T().parentNode;return e?xa(e):document}function O(){return Va(w)}function A(e){return b.state.isMounted&&!b.state.isVisible||Ia.isTouch||a&&"focus"===a.type?0:oa(b.props.delay,e?0:1,Pa.delay)}function P(e){void 0===e&&(e=!1),w.style.pointerEvents=b.props.interactive&&!e?"":"none",w.style.zIndex=""+b.props.zIndex}function D(e,t,n){var r;(void 0===n&&(n=!0),_.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=b.props)[e].apply(r,t)}function L(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,r=w.id;la(b.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function R(){!S&&b.props.aria.expanded&&la(b.props.triggerTarget||e).forEach((function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===T()?"true":"false"):e.removeAttribute("aria-expanded")}))}function M(){N().removeEventListener("mousemove",m),za=za.filter((function(e){return e!==m}))}function j(t){if(!Ia.isTouch||!h&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!Sa(w,n)){if(la(b.props.triggerTarget||e).some((function(e){return Sa(e,n)}))){if(Ia.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else D("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),d=!0,setTimeout((function(){d=!1})),b.state.isMounted||B())}}}function F(){h=!0}function V(){h=!1}function U(){var e=N();e.addEventListener("mousedown",j,!0),e.addEventListener("touchend",j,ia),e.addEventListener("touchstart",V,ia),e.addEventListener("touchmove",F,ia)}function B(){var e=N();e.removeEventListener("mousedown",j,!0),e.removeEventListener("touchend",j,ia),e.removeEventListener("touchstart",V,ia),e.removeEventListener("touchmove",F,ia)}function z(e,t){var n=O().box;function r(e){e.target===n&&(_a(n,"remove",r),t())}if(0===e)return t();_a(n,"remove",o),_a(n,"add",r),o=r}function q(t,n,r){void 0===r&&(r=!1),la(b.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),v.push({node:e,eventType:t,handler:n,options:r})}))}function H(){var e;E()&&(q("touchstart",K,{passive:!0}),q("touchend",Q,{passive:!0})),(e=b.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(q(e,K),e){case"mouseenter":q("mouseleave",Q);break;case"focus":q(Oa?"focusout":"blur",$);break;case"focusin":q("focusout",$)}}))}function W(){v.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),v=[]}function K(e){var t,n=!1;if(b.state.isEnabled&&!Y(e)&&!d){var r="focus"===(null==(t=a)?void 0:t.type);a=e,u=e.currentTarget,R(),!b.state.isVisible&&ga(e)&&za.forEach((function(t){return t(e)})),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||f)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:ee(e),"click"===e.type&&(f=!n),n&&!r&&te(e)}}function G(e){var t=e.target,n=T().contains(t)||w.contains(t);if("mousemove"!==e.type||!n){var r=Z().concat(w).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:l}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,a=e.props.interactiveBorder,o=da(i.placement),s=i.modifiersData.offset;if(!s)return!0;var u="bottom"===o?s.top.y:0,c="top"===o?s.bottom.y:0,l="right"===o?s.left.x:0,f="left"===o?s.right.x:0,d=t.top-r+u>a,h=r-t.bottom-c>a,p=t.left-n+l>a,v=n-t.right-f>a;return d||h||p||v}))})(r,e)&&(M(),te(e))}}function Q(e){Y(e)||b.props.trigger.indexOf("click")>=0&&f||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function $(e){b.props.trigger.indexOf("focusin")<0&&e.target!==T()||b.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||te(e)}function Y(e){return!!Ia.isTouch&&E()!==e.type.indexOf("touch")>=0}function J(){X();var t=b.props,n=t.popperOptions,r=t.placement,i=t.offset,a=t.getReferenceClientRect,o=t.moveTransition,u=C()?Va(w).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||T()}:e,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(C()){var n=O().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},f=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!o}},l];C()&&u&&f.push({name:"arrow",options:{element:u,padding:3}}),f.push.apply(f,(null==n?void 0:n.modifiers)||[]),b.popperInstance=Zi(c,w,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:f}))}function X(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Z(){return ha(w.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&D("onTrigger",[b,e]),U();var t=A(!0),r=I(),i=r[0],a=r[1];Ia.isTouch&&"hold"===i&&a&&(t=a),t?n=setTimeout((function(){b.show()}),t):b.show()}function te(e){if(b.clearDelayTimeouts(),D("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&f)){var t=A(!1);t?r=setTimeout((function(){b.state.isVisible&&b.hide()}),t):i=requestAnimationFrame((function(){b.hide()}))}}else B()}}function Wa(e,t){void 0===t&&(t={});var n=Pa.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",Ca,ia),window.addEventListener("blur",Na);var r=Object.assign({},t,{plugins:n}),i=ba(e).reduce((function(e,t){var n=t&&Ha(t,r);return n&&e.push(n),e}),[]);return ma(e)?i[0]:i}Wa.defaultProps=Pa,Wa.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Pa[t]=e[t]}))},Wa.currentInput=Ia;Object.assign({},Di,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});Wa.setDefaultProps({render:Ua});var Ka=Wa,Ga=n(164);function Qa(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var $a="undefined"!==typeof window&&"undefined"!==typeof document;function Ya(e,t){e&&("function"===typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function Ja(){return $a&&document.createElement("div")}function Xa(e,t){if(e===t)return!0;if("object"===typeof e&&null!=e&&"object"===typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!Xa(e[n],t[n]))return!1}return!0}return!1}function Za(e){var t=[];return e.forEach((function(e){t.find((function(t){return Xa(e,t)}))||t.push(e)})),t}function eo(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:Za([].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(r=t.popperOptions)?void 0:r.modifiers)||[]))})})}var to=$a?r.useLayoutEffect:r.useEffect;function no(e){var t=(0,r.useRef)();return t.current||(t.current="function"===typeof e?e():e),t.current}function ro(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var io={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){e.props.className&&!n()||ro(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&ro(t,"remove",e.props.className)},onAfterUpdate:r}}};function ao(e){return function(t){var n=t.children,i=t.content,a=t.visible,o=t.singleton,s=t.render,u=t.reference,c=t.disabled,l=void 0!==c&&c,f=t.ignoreAttributes,d=void 0===f||f,h=(t.__source,t.__self,Qa(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),p=void 0!==a,v=void 0!==o,m=(0,r.useState)(!1),g=m[0],y=m[1],b=(0,r.useState)({}),k=b[0],w=b[1],x=(0,r.useState)(),_=x[0],S=x[1],I=no((function(){return{container:Ja(),renders:1}})),E=Object.assign({ignoreAttributes:d},h,{content:I.container});p&&(E.trigger="manual",E.hideOnClick=!1),v&&(l=!0);var C=E,T=E.plugins||[];s&&(C=Object.assign({},E,{plugins:v&&null!=o.data?[].concat(T,[{fn:function(){return{onTrigger:function(e,t){var n=o.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=n.instance,S(n.content)}}}}]):T,render:function(){return{popper:I.container}}}));var N=[u].concat(n?[n.type]:[]);return to((function(){var t=u;u&&u.hasOwnProperty("current")&&(t=u.current);var n=e(t||I.ref||Ja(),Object.assign({},C,{plugins:[io].concat(E.plugins||[])}));return I.instance=n,l&&n.disable(),a&&n.show(),v&&o.hook({instance:n,content:i,props:C,setSingletonContent:S}),y(!0),function(){n.destroy(),null==o||o.cleanup(n)}}),N),to((function(){var e;if(1!==I.renders){var t=I.instance;t.setProps(eo(t.props,C)),null==(e=t.popperInstance)||e.forceUpdate(),l?t.disable():t.enable(),p&&(a?t.show():t.hide()),v&&o.hook({instance:t,content:i,props:C,setSingletonContent:S})}else I.renders++})),to((function(){var e;if(s){var t=I.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;k.placement===n.placement&&k.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&k.escaped===(null==r?void 0:r.hasPopperEscaped)||w({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}}),[k.placement,k.referenceHidden,k.escaped].concat(N)),r.createElement(r.Fragment,null,n?(0,r.cloneElement)(n,{ref:function(e){I.ref=e,Ya(n.ref,e)}}):null,g&&(0,Ga.createPortal)(s?s(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(k),_,I.instance):i,I.container))}}var oo=function(e,t){return(0,r.forwardRef)((function(n,i){var a=n.children,o=Qa(n,["children"]);return r.createElement(e,Object.assign({},t,o),a?(0,r.cloneElement)(a,{ref:function(e){Ya(i,e),Ya(a.ref,e)}}):null)}))},so=oo(ao(Ka)),uo={logo:n(136).Z,tiktokIcon:n(582).Z};function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ho(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function po(e){return function(e){if(Array.isArray(e))return o(e)}(e)||ho(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vo={btn:"Button_btn__fa47f",icon:"Button_icon__EasRj",smallIcon:"Button_smallIcon__eolev",small:"Button_small__JA9ow",large:"Button_large__VjU8p",fitContentBtn:"Button_fitContentBtn__uiybT",primary:"Button_primary__K95NY",followBtn:"Button_followBtn__ufG+C",followedBtn:"Button_followedBtn__1-7GS",active:"Button_active__C4d2s",borderTop:"Button_borderTop__H-GMS",borderRadius:"Button_borderRadius__rH9eg"},mo=Pr().bind(vo);var go=function(e){var t=e.children,n=e.data,r=e.iconLeft,i=e.iconRight,a=e.primary,o=e.active,s=e.smallBtn,u=e.largeBtn,c=e.fitContentBtn,l=e.followBtn,f=e.followedBtn,d=e.smallIcon,h=e.borderTop,p=e.borderRadius,v=e.onClick,m=e.to,g=e.href,y=e.gap,b=void 0===y?0:y,k=e.justifyContent,w=void 0===k?"center":k,x="button",_={};g&&(x="a",_.href=g),m&&(x=Y,_.to=m),v&&(_.onClick=function(){return v(n)});var S=mo(vo.btn,u&&"large",s&&"small",c&&"fitContentBtn",a&&"primary",h&&"borderTop",p&&"borderRadius",o&&"active",l&&"followBtn",f&&"followedBtn");return(0,Dr.jsxs)(x,fo(fo({},_),{},{className:S,style:{gap:"".concat(b,"px"),justifyContent:"".concat(w)},children:[r&&(0,Dr.jsx)("span",{className:mo(vo.icon,d&&vo.smallIcon),children:r}),t,i&&(0,Dr.jsx)("span",{className:mo(vo.icon,d&&vo.smallIcon),children:i})]}))},yo={body:"Menu_body__c5ZSC",content:"Menu_content__bSrYt"},bo="tippy-backdrop",ko={passive:!0,capture:!0},wo=function(){return document.body};function xo(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function _o(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function So(e,t){return"function"===typeof e?e.apply(void 0,t):e}function Io(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function Eo(e){return[].concat(e)}function Co(e,t){-1===e.indexOf(t)&&e.push(t)}function To(e){return e.split("-")[0]}function No(e){return[].slice.call(e)}function Oo(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function Ao(){return document.createElement("div")}function Po(e){return["Element","Fragment"].some((function(t){return _o(e,t)}))}function Do(e){return _o(e,"MouseEvent")}function Lo(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function Ro(e){return Po(e)?[e]:function(e){return _o(e,"NodeList")}(e)?No(e):Array.isArray(e)?e:No(document.querySelectorAll(e))}function Mo(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function jo(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Fo(e){var t,n=Eo(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function Vo(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function Uo(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var Bo={isTouch:!1},zo=0;function qo(){Bo.isTouch||(Bo.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ho))}function Ho(){var e=performance.now();e-zo<20&&(Bo.isTouch=!1,document.removeEventListener("mousemove",Ho)),zo=e}function Wo(){var e=document.activeElement;if(Lo(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Ko=!!("undefined"!==typeof window&&"undefined"!==typeof document)&&!!window.msCrypto;var Go={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Qo=Object.assign({appendTo:wo,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Go,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),$o=Object.keys(Qo);function Yo(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,a=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=Qo[i])?r:a);return t}),{});return Object.assign({},e,t)}function Jo(e,t){var n=Object.assign({},t,{content:So(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Yo(Object.assign({},Qo,{plugins:t}))):$o).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(eB){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Qo.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function Xo(e){var t=e.firstElementChild,n=No(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains(bo)}))}}var Zo=1,es=[],ts=[];function ns(e,t){var n,r,i,a,o,s,u,c,l=Jo(e,Object.assign({},Qo,Yo(Oo(t)))),f=!1,d=!1,h=!1,p=!1,v=[],m=Io(G,l.interactiveDebounce),g=Zo++,y=(c=l.plugins).filter((function(e,t){return c.indexOf(e)===t})),b={id:g,reference:e,popper:Ao(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){0;if(b.state.isDestroyed)return;D("onBeforeUpdate",[b,t]),W();var n=b.props,r=Jo(e,Object.assign({},n,Oo(t),{ignoreAttributes:!0}));b.props=r,H(),n.interactiveDebounce!==r.interactiveDebounce&&(M(),m=Io(G,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Eo(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");R(),P(),x&&x(n,r);b.popperInstance&&(J(),Z().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));D("onAfterUpdate",[b,t])},setContent:function(e){b.setProps({content:e})},show:function(){0;var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=Bo.isTouch&&!b.props.touch,i=xo(b.props.duration,0,Qo.duration);if(e||t||n||r)return;if(T().hasAttribute("disabled"))return;if(D("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,C()&&(w.style.visibility="visible");P(),U(),b.state.isMounted||(w.style.transition="none");if(C()){var a=O(),o=a.box,u=a.content;Mo([o,u],0)}s=function(){var e;if(b.state.isVisible&&!p){if(p=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,C()&&b.props.animation){var t=O(),n=t.box,r=t.content;Mo([n,r],i),jo([n,r],"visible")}L(),R(),Co(ts,b),null==(e=b.popperInstance)||e.forceUpdate(),D("onMount",[b]),b.props.animation&&C()&&function(e,t){z(e,t)}(i,(function(){b.state.isShown=!0,D("onShown",[b])}))}},function(){var e,t=b.props.appendTo,n=T();e=b.props.interactive&&t===wo||"parent"===t?n.parentNode:So(t,[n]);e.contains(w)||e.appendChild(w);b.state.isMounted=!0,J(),!1}()},hide:function(){0;var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=xo(b.props.duration,1,Qo.duration);if(e||t||n)return;if(D("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,p=!1,f=!1,C()&&(w.style.visibility="hidden");if(M(),B(),P(!0),C()){var i=O(),a=i.box,o=i.content;b.props.animation&&(Mo([a,o],r),jo([a,o],"hidden"))}L(),R(),b.props.animation?C()&&function(e,t){z(e,(function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(r,b.unmount):b.unmount()},hideWithInteractivity:function(e){0;N().addEventListener("mousemove",m),Co(es,m),m(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;X(),Z().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w);ts=ts.filter((function(e){return e!==b})),b.state.isMounted=!1,D("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),W(),delete e._tippy,b.state.isDestroyed=!0,D("onDestroy",[b])}};if(!l.render)return b;var k=l.render(b),w=k.popper,x=k.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,e._tippy=b,w._tippy=b;var _=y.map((function(e){return e.fn(b)})),S=e.hasAttribute("aria-expanded");return H(),R(),P(),D("onCreate",[b]),l.showOnCreate&&ee(),w.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&N().addEventListener("mousemove",m)})),b;function I(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function E(){return"hold"===I()[0]}function C(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function T(){return u||e}function N(){var e=T().parentNode;return e?Fo(e):document}function O(){return Xo(w)}function A(e){return b.state.isMounted&&!b.state.isVisible||Bo.isTouch||a&&"focus"===a.type?0:xo(b.props.delay,e?0:1,Qo.delay)}function P(e){void 0===e&&(e=!1),w.style.pointerEvents=b.props.interactive&&!e?"":"none",w.style.zIndex=""+b.props.zIndex}function D(e,t,n){var r;(void 0===n&&(n=!0),_.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=b.props)[e].apply(r,t)}function L(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,r=w.id;Eo(b.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function R(){!S&&b.props.aria.expanded&&Eo(b.props.triggerTarget||e).forEach((function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===T()?"true":"false"):e.removeAttribute("aria-expanded")}))}function M(){N().removeEventListener("mousemove",m),es=es.filter((function(e){return e!==m}))}function j(t){if(!Bo.isTouch||!h&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!Uo(w,n)){if(Eo(b.props.triggerTarget||e).some((function(e){return Uo(e,n)}))){if(Bo.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else D("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),d=!0,setTimeout((function(){d=!1})),b.state.isMounted||B())}}}function F(){h=!0}function V(){h=!1}function U(){var e=N();e.addEventListener("mousedown",j,!0),e.addEventListener("touchend",j,ko),e.addEventListener("touchstart",V,ko),e.addEventListener("touchmove",F,ko)}function B(){var e=N();e.removeEventListener("mousedown",j,!0),e.removeEventListener("touchend",j,ko),e.removeEventListener("touchstart",V,ko),e.removeEventListener("touchmove",F,ko)}function z(e,t){var n=O().box;function r(e){e.target===n&&(Vo(n,"remove",r),t())}if(0===e)return t();Vo(n,"remove",o),Vo(n,"add",r),o=r}function q(t,n,r){void 0===r&&(r=!1),Eo(b.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),v.push({node:e,eventType:t,handler:n,options:r})}))}function H(){var e;E()&&(q("touchstart",K,{passive:!0}),q("touchend",Q,{passive:!0})),(e=b.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(q(e,K),e){case"mouseenter":q("mouseleave",Q);break;case"focus":q(Ko?"focusout":"blur",$);break;case"focusin":q("focusout",$)}}))}function W(){v.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),v=[]}function K(e){var t,n=!1;if(b.state.isEnabled&&!Y(e)&&!d){var r="focus"===(null==(t=a)?void 0:t.type);a=e,u=e.currentTarget,R(),!b.state.isVisible&&Do(e)&&es.forEach((function(t){return t(e)})),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||f)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:ee(e),"click"===e.type&&(f=!n),n&&!r&&te(e)}}function G(e){var t=e.target,n=T().contains(t)||w.contains(t);if("mousemove"!==e.type||!n){var r=Z().concat(w).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:l}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,a=e.props.interactiveBorder,o=To(i.placement),s=i.modifiersData.offset;if(!s)return!0;var u="bottom"===o?s.top.y:0,c="top"===o?s.bottom.y:0,l="right"===o?s.left.x:0,f="left"===o?s.right.x:0,d=t.top-r+u>a,h=r-t.bottom-c>a,p=t.left-n+l>a,v=n-t.right-f>a;return d||h||p||v}))})(r,e)&&(M(),te(e))}}function Q(e){Y(e)||b.props.trigger.indexOf("click")>=0&&f||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function $(e){b.props.trigger.indexOf("focusin")<0&&e.target!==T()||b.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||te(e)}function Y(e){return!!Bo.isTouch&&E()!==e.type.indexOf("touch")>=0}function J(){X();var t=b.props,n=t.popperOptions,r=t.placement,i=t.offset,a=t.getReferenceClientRect,o=t.moveTransition,u=C()?Xo(w).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||T()}:e,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(C()){var n=O().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},f=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!o}},l];C()&&u&&f.push({name:"arrow",options:{element:u,padding:3}}),f.push.apply(f,(null==n?void 0:n.modifiers)||[]),b.popperInstance=Zi(c,w,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:f}))}function X(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Z(){return No(w.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&D("onTrigger",[b,e]),U();var t=A(!0),r=I(),i=r[0],a=r[1];Bo.isTouch&&"hold"===i&&a&&(t=a),t?n=setTimeout((function(){b.show()}),t):b.show()}function te(e){if(b.clearDelayTimeouts(),D("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&f)){var t=A(!1);t?r=setTimeout((function(){b.state.isVisible&&b.hide()}),t):i=requestAnimationFrame((function(){b.hide()}))}}else B()}}function rs(e,t){void 0===t&&(t={});var n=Qo.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",qo,ko),window.addEventListener("blur",Wo);var r=Object.assign({},t,{plugins:n}),i=Ro(e).reduce((function(e,t){var n=t&&ns(t,r);return n&&e.push(n),e}),[]);return Po(e)?i[0]:i}rs.defaultProps=Qo,rs.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Qo[t]=e[t]}))},rs.currentInput=Bo;Object.assign({},Di,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});rs.setDefaultProps({animation:!1});var is=rs;function as(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var os="undefined"!==typeof window&&"undefined"!==typeof document;function ss(e,t){e&&("function"===typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function us(){return os&&document.createElement("div")}function cs(e,t){if(e===t)return!0;if("object"===typeof e&&null!=e&&"object"===typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!cs(e[n],t[n]))return!1}return!0}return!1}function ls(e){var t=[];return e.forEach((function(e){t.find((function(t){return cs(e,t)}))||t.push(e)})),t}function fs(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:ls([].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(r=t.popperOptions)?void 0:r.modifiers)||[]))})})}var ds=os?r.useLayoutEffect:r.useEffect;function hs(e){var t=(0,r.useRef)();return t.current||(t.current="function"===typeof e?e():e),t.current}function ps(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var vs={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){e.props.className&&!n()||ps(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&ps(t,"remove",e.props.className)},onAfterUpdate:r}}};function ms(e){return function(t){var n=t.children,i=t.content,a=t.visible,o=t.singleton,s=t.render,u=t.reference,c=t.disabled,l=void 0!==c&&c,f=t.ignoreAttributes,d=void 0===f||f,h=(t.__source,t.__self,as(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),p=void 0!==a,v=void 0!==o,m=(0,r.useState)(!1),g=m[0],y=m[1],b=(0,r.useState)({}),k=b[0],w=b[1],x=(0,r.useState)(),_=x[0],S=x[1],I=hs((function(){return{container:us(),renders:1}})),E=Object.assign({ignoreAttributes:d},h,{content:I.container});p&&(E.trigger="manual",E.hideOnClick=!1),v&&(l=!0);var C=E,T=E.plugins||[];s&&(C=Object.assign({},E,{plugins:v&&null!=o.data?[].concat(T,[{fn:function(){return{onTrigger:function(e,t){var n=o.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=n.instance,S(n.content)}}}}]):T,render:function(){return{popper:I.container}}}));var N=[u].concat(n?[n.type]:[]);return ds((function(){var t=u;u&&u.hasOwnProperty("current")&&(t=u.current);var n=e(t||I.ref||us(),Object.assign({},C,{plugins:[vs].concat(E.plugins||[])}));return I.instance=n,l&&n.disable(),a&&n.show(),v&&o.hook({instance:n,content:i,props:C,setSingletonContent:S}),y(!0),function(){n.destroy(),null==o||o.cleanup(n)}}),N),ds((function(){var e;if(1!==I.renders){var t=I.instance;t.setProps(fs(t.props,C)),null==(e=t.popperInstance)||e.forceUpdate(),l?t.disable():t.enable(),p&&(a?t.show():t.hide()),v&&o.hook({instance:t,content:i,props:C,setSingletonContent:S})}else I.renders++})),ds((function(){var e;if(s){var t=I.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;k.placement===n.placement&&k.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&k.escaped===(null==r?void 0:r.hasPopperEscaped)||w({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}}),[k.placement,k.referenceHidden,k.escaped].concat(N)),r.createElement(r.Fragment,null,n?(0,r.cloneElement)(n,{ref:function(e){I.ref=e,ss(n.ref,e)}}):null,g&&(0,Ga.createPortal)(s?s(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(k),_,I.instance):i,I.container))}}var gs=function(e,t){return(0,r.forwardRef)((function(n,i){var a=n.children,o=as(n,["children"]);return r.createElement(e,Object.assign({},t,o),a?(0,r.cloneElement)(a,{ref:function(e){ss(i,e),ss(a.ref,e)}}):null)}))},ys=gs(ms(is),{render:function(){return""}});function bs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(e,t,n){return t&&ks(e.prototype,t),n&&ks(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xs(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function _s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ss(e,t){return Ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ss(e,t)}function Is(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ss(e,t)}function Es(e){return Es=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Es(e)}function Cs(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(eB){return!1}}function Ts(e){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(e)}function Ns(e,t){if(t&&("object"===Ts(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _s(e)}function Os(e){var t=Cs();return function(){var n,r=Es(e);if(t){var i=Es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ns(this,n)}}function As(e,t,n){return As=Cs()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ss(i,n.prototype),i},As.apply(null,arguments)}function Ps(e){var t="function"===typeof Map?new Map:void 0;return Ps=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return As(e,arguments,Es(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ss(n,e)},Ps(e)}var Ds=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ls={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ds(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Rs=function(e){return function(e){var t=Ds(e);return Ls.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ms=function(e){try{return Ls.decodeString(e,!0)}catch(eB){console.error("base64Decode failed: ",eB)}return null};function js(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=js(e[n],t[n]));return e}var Fs=function(){function e(){var t=this;bs(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ws(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Vs(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Rs(JSON.stringify({alg:"none",type:"JWT"})),Rs(JSON.stringify(a)),""].join(".")}function Us(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Bs(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Us())}function zs(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(eB){return!1}}function qs(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Hs(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ws(){var e=Us();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ks(){return"object"===typeof indexedDB}function Gs(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}function Qs(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var $s=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a;return bs(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_s(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_s(a),Ys.prototype.create),a}return ws(n)}(Ps(Error)),Ys=function(){function e(t,n,r){bs(this,e),this.service=t,this.serviceName=n,this.errors=r}return ws(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Js(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new $s(n,a,t);return o}}]),e}();function Js(e,t){return e.replace(Xs,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Xs=/\{\$([^}]+)}/g;function Zs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(tu(s)&&tu(u)){if(!eu(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function tu(e){return null!==e&&"object"===typeof e}function nu(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ru(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function iu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function au(e,t){var n=new ou(e,t);return n.subscribe.bind(n)}var ou=function(){function e(t,n){var r=this;bs(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ws(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=xs(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=su),void 0===r.error&&(r.error=su),void 0===r.complete&&(r.complete=su);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(eB){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(eB){"undefined"!==typeof console&&console.error&&console.error(eB)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function su(){}var uu=144e5;function cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(uu,r+i)}function lu(e){return e&&e._delegate?e._delegate:e}function fu(){fu=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(E){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var l={};function f(){}function d(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Ts(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=h,s(g,"constructor",h),s(h,"constructor",d),d.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),s(g,o,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function du(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function hu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){du(a,r,i,o,s,"next",e)}function s(e){du(a,r,i,o,s,"throw",e)}o(void 0)}))}}var pu=function(){function e(t,n,r){bs(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ws(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),vu="[DEFAULT]",mu=function(){function e(t,n){bs(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ws(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Fs;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(eB){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(eB){if(r)return null;throw eB}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:vu})}catch(eB){}var t,n=xs(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(eB){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(po(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),po(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=xs(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&l.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=xs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===vu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vu;return this.component?this.component.multipleInstances?e:vu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var gu,yu,bu=function(){function e(t){bs(this,e),this.name=t,this.providers=new Map}return ws(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new mu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ku=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yu||(yu={}));var wu={debug:yu.DEBUG,verbose:yu.VERBOSE,info:yu.INFO,warn:yu.WARN,error:yu.ERROR,silent:yu.SILENT},xu=yu.INFO,_u=(co(gu={},yu.DEBUG,"log"),co(gu,yu.VERBOSE,"log"),co(gu,yu.INFO,"info"),co(gu,yu.WARN,"warn"),co(gu,yu.ERROR,"error"),gu),Su=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=_u[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Iu=function(){function e(t){bs(this,e),this.name=t,this._logLevel=xu,this._logHandler=Su,this._userLogHandler=null,ku.push(this)}return ws(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in yu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?wu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yu.DEBUG].concat(t)),this._logHandler.apply(this,[this,yu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,yu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yu.INFO].concat(t)),this._logHandler.apply(this,[this,yu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yu.WARN].concat(t)),this._logHandler.apply(this,[this,yu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yu.ERROR].concat(t)),this._logHandler.apply(this,[this,yu.ERROR].concat(t))}}]),e}();var Eu,Cu;var Tu=new WeakMap,Nu=new WeakMap,Ou=new WeakMap,Au=new WeakMap,Pu=new WeakMap;var Du={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ou.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Lu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Cu||(Cu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ju(this),n),Mu(Tu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mu(e.apply(ju(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ju(this),t].concat(r));return Ou.set(a,t.sort?t.sort():[t]),Mu(a)}}function Ru(e){return"function"===typeof e?Lu(e):(e instanceof IDBTransaction&&function(e){if(!Nu.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Nu.set(e,t)}}(e),t=e,(Eu||(Eu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Du):e);var t}function Mu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Mu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Tu.set(t,e)})).catch((function(){})),Pu.set(t,e),t}(e);if(Au.has(e))return Au.get(e);var t=Ru(e);return t!==e&&(Au.set(e,t),Pu.set(t,e)),t}var ju=function(e){return Pu.get(e)};var Fu,Vu,Uu=["get","getKey","getAll","getAllKeys","count"],Bu=["put","add","delete","clear"],zu=new Map;function qu(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(zu.get(t))return zu.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Bu.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Uu.includes(n))){var a=function(){var e=hu(fu().mark((function e(t){var a,o,s,u,c,l,f=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return zu.set(t,a),a}}}Du=function(e){return fo(fo({},e),{},{get:function(t,n,r){return qu(t,n)||e.get(t,n,r)},has:function(t,n){return!!qu(t,n)||e.has(t,n)}})}(Du);var Hu=function(){function e(t){bs(this,e),this.container=t}return ws(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Wu="@firebase/app",Ku="0.7.30",Gu=new Iu("@firebase/app"),Qu="[DEFAULT]",$u=(co(Fu={},Wu,"fire-core"),co(Fu,"@firebase/app-compat","fire-core-compat"),co(Fu,"@firebase/analytics","fire-analytics"),co(Fu,"@firebase/analytics-compat","fire-analytics-compat"),co(Fu,"@firebase/app-check","fire-app-check"),co(Fu,"@firebase/app-check-compat","fire-app-check-compat"),co(Fu,"@firebase/auth","fire-auth"),co(Fu,"@firebase/auth-compat","fire-auth-compat"),co(Fu,"@firebase/database","fire-rtdb"),co(Fu,"@firebase/database-compat","fire-rtdb-compat"),co(Fu,"@firebase/functions","fire-fn"),co(Fu,"@firebase/functions-compat","fire-fn-compat"),co(Fu,"@firebase/installations","fire-iid"),co(Fu,"@firebase/installations-compat","fire-iid-compat"),co(Fu,"@firebase/messaging","fire-fcm"),co(Fu,"@firebase/messaging-compat","fire-fcm-compat"),co(Fu,"@firebase/performance","fire-perf"),co(Fu,"@firebase/performance-compat","fire-perf-compat"),co(Fu,"@firebase/remote-config","fire-rc"),co(Fu,"@firebase/remote-config-compat","fire-rc-compat"),co(Fu,"@firebase/storage","fire-gcs"),co(Fu,"@firebase/storage-compat","fire-gcs-compat"),co(Fu,"@firebase/firestore","fire-fst"),co(Fu,"@firebase/firestore-compat","fire-fst-compat"),co(Fu,"fire-js","fire-js"),co(Fu,"firebase","fire-js-all"),Fu),Yu=new Map,Ju=new Map;function Xu(e,t){try{e.container.addComponent(t)}catch(eB){Gu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),eB)}}function Zu(e,t){e.container.addOrOverwriteComponent(t)}function ec(e){var t=e.name;if(Ju.has(t))return Gu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ju.set(t,e);var n,r=xs(Yu.values());try{for(r.s();!(n=r.n()).done;){Xu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function tc(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function nc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qu;tc(e,t).clearInstance(n)}function rc(){Ju.clear()}var ic=(co(Vu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),co(Vu,"bad-app-name","Illegal App name: '{$appName}"),co(Vu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),co(Vu,"app-deleted","Firebase App named '{$appName}' already deleted"),co(Vu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),co(Vu,"invalid-log-argument","First argument to `onLog` must be null or a function."),co(Vu,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),co(Vu,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),co(Vu,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),co(Vu,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Vu),ac=new Ys("app","Firebase",ic),oc=function(){function e(t,n,r){var i=this;bs(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pu("app",(function(){return i}),"PUBLIC"))}return ws(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ac.create("app-deleted",{appName:this._name})}}]),e}(),sc="9.9.2";function uc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Qu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ac.create("bad-app-name",{appName:String(i)});var a=Yu.get(i);if(a){if(eu(e,a.options)&&eu(r,a.config))return a;throw ac.create("duplicate-app",{appName:i})}var o,s=new bu(i),u=xs(Ju.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new oc(e,r,s);return Yu.set(i,l),l}function cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qu,t=Yu.get(e);if(!t)throw ac.create("no-app",{appName:e});return t}function lc(){return Array.from(Yu.values())}function fc(e){return dc.apply(this,arguments)}function dc(){return(dc=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Yu.has(n)){e.next=6;break}return Yu.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hc(e,t,n){var r,i=null!==(r=$u[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Gu.warn(s.join(" "))}ec(new pu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function pc(e,t){if(null!==e&&"function"!==typeof e)throw ac.create("invalid-log-argument");!function(e,t){var n,r=xs(ku);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=wu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:yu[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function vc(e){var t;t=e,ku.forEach((function(e){e.setLogLevel(t)}))}var mc="firebase-heartbeat-store",gc=null;function yc(){return gc||(gc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Mu(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Mu(s.result),e.oldVersion,e.newVersion,Mu(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(mc)}}).catch((function(e){throw ac.create("idb-open",{originalErrorMessage:e.message})}))),gc}function bc(e){return kc.apply(this,arguments)}function kc(){return kc=hu(fu().mark((function e(t){var n,r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yc();case 3:return r=e.sent,e.abrupt("return",r.transaction(mc).objectStore(mc).get(_c(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof $s?Gu.warn(e.t0.message):(i=ac.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Gu.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),kc.apply(this,arguments)}function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=hu(fu().mark((function e(t,n){var r,i,a,o,s;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yc();case 3:return i=e.sent,a=i.transaction(mc,"readwrite"),o=a.objectStore(mc),e.next=8,o.put(n,_c(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof $s?Gu.warn(e.t0.message):(s=ac.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Gu.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),xc.apply(this,arguments)}function _c(e){return"".concat(e.name,"!").concat(e.options.appId)}var Sc=function(){function e(t){var n=this;bs(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Nc(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ws(e,[{key:"triggerHeartbeat",value:function(){var e=hu(fu().mark((function e(){var t,n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ic(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=hu(fu().mark((function e(){var t,n,r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ic(),n=Ec(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Rs(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ic(){return(new Date).toISOString().substring(0,10)}function Ec(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=xs(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Oc(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Oc(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Cc,Tc,Nc=function(){function e(t){bs(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ws(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ks()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Gs().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,bc(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",wc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",wc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(po(r.heartbeats),po(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Oc(e){return Rs(JSON.stringify({version:2,heartbeats:e})).length}Cc="",ec(new pu("platform-logger",(function(e){return new Hu(e)}),"PRIVATE")),ec(new pu("heartbeat",(function(e){return new Sc(e)}),"PRIVATE")),hc(Wu,Ku,Cc),hc(Wu,Ku,"esm2017"),hc("fire-js","");var Ac=function(){function e(t,n){var r=this;bs(this,e),this._delegate=t,this.firebase=n,Xu(t,new pu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ws(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),fc(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qu;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qu;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Xu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Zu(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Pc=(co(Tc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),co(Tc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Tc),Dc=new Ys("app-compat","Firebase",Pc);var Lc=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=uc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Zs(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:hc,setLogLevel:vc,onLog:pc,apps:null,SDK_VERSION:sc,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ec(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Dc.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&js(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Zs(n,e=e||Qu))throw Dc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ac);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){js(n,e)},createSubscribe:au,ErrorFactory:Ys,deepExtend:js}),n}(),Rc=new Iu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Rc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Mc=self.firebase.SDK_VERSION;Mc&&Mc.indexOf("LITE")>=0&&Rc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var jc=Lc;!function(e){hc("@firebase/app-compat","0.1.31",e)}();jc.registerVersion("firebase","9.9.2","app-compat");var Fc,Vc;var Uc=new WeakMap,Bc=new WeakMap,zc=new WeakMap,qc=new WeakMap,Hc=new WeakMap;var Wc={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Bc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||zc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qc(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Kc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Vc||(Vc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($c(this),n),Qc(Uc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qc(e.apply($c(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[$c(this),t].concat(r));return zc.set(a,t.sort?t.sort():[t]),Qc(a)}}function Gc(e){return"function"===typeof e?Kc(e):(e instanceof IDBTransaction&&function(e){if(!Bc.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Bc.set(e,t)}}(e),t=e,(Fc||(Fc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Wc):e);var t}function Qc(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Qc(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Uc.set(t,e)})).catch((function(){})),Hc.set(t,e),t}(e);if(qc.has(e))return qc.get(e);var t=Gc(e);return t!==e&&(qc.set(e,t),Hc.set(t,e)),t}var $c=function(e){return Hc.get(e)};var Yc,Jc=["get","getKey","getAll","getAllKeys","count"],Xc=["put","add","delete","clear"],Zc=new Map;function el(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Zc.get(t))return Zc.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Xc.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Jc.includes(n))){var a=function(){var e=hu(fu().mark((function e(t){var a,o,s,u,c,l,f=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Zc.set(t,a),a}}}!function(e){Wc=e(Wc)}((function(e){return fo(fo({},e),{},{get:function(t,n,r){return el(t,n)||e.get(t,n,r)},has:function(t,n){return!!el(t,n)||e.has(t,n)}})}));var tl="@firebase/installations",nl="0.5.12",rl=1e4,il="w:".concat(nl),al="FIS_v2",ol=36e5,sl=(co(Yc={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),co(Yc,"not-registered","Firebase Installation is not registered."),co(Yc,"installation-not-found","Firebase Installation not found."),co(Yc,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),co(Yc,"app-offline","Could not process request. Application offline."),co(Yc,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Yc),ul=new Ys("installations","Installations",sl);function cl(e){return e instanceof $s&&e.code.includes("request-failed")}function ll(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function fl(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function dl(e,t){return hl.apply(this,arguments)}function hl(){return(hl=hu(fu().mark((function e(t,n){var r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",ul.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pl(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vl(e,t){var n=t.refreshToken,r=pl(e);return r.append("Authorization",function(e){return"".concat(al," ").concat(e)}(n)),r}function ml(e){return gl.apply(this,arguments)}function gl(){return gl=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function yl(e,t){return bl.apply(this,arguments)}function bl(){return(bl=hu(fu().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,h,p;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=ll(r),s=pl(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:al,appId:r.appId,sdkVersion:il},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,ml((function(){return fetch(o,f)}));case 14:if(!(d=e.sent).ok){e.next=23;break}return e.next=18,d.json();case 18:return h=e.sent,p={fid:h.fid||a,registrationStatus:2,refreshToken:h.refreshToken,authToken:fl(h.authToken)},e.abrupt("return",p);case 23:return e.next=25,dl("Create Installation",d);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kl(e){return new Promise((function(t){setTimeout(t,e)}))}var wl=/^[cdef][\w-]{21}$/;function xl(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,po(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return wl.test(t)?t:""}catch(n){return""}}function _l(e){return"".concat(e.appName,"!").concat(e.appId)}var Sl=new Map;function Il(e,t){var n=_l(e);El(n,t),function(e,t){var n=Tl();n&&n.postMessage({key:e,fid:t});Nl()}(n,t)}function El(e,t){var n=Sl.get(e);if(n){var r,i=xs(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Cl=null;function Tl(){return!Cl&&"BroadcastChannel"in self&&((Cl=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){El(e.data.key,e.data.fid)}),Cl}function Nl(){0===Sl.size&&Cl&&(Cl.close(),Cl=null)}var Ol="firebase-installations-store",Al=null;function Pl(){return Al||(Al=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Qc(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Qc(s.result),e.oldVersion,e.newVersion,Qc(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ol)}})),Al}function Dl(e,t){return Ll.apply(this,arguments)}function Ll(){return Ll=hu(fu().mark((function e(t,n){var r,i,a,o,s;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_l(t),e.next=3,Pl();case 3:return i=e.sent,a=i.transaction(Ol,"readwrite"),o=a.objectStore(Ol),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||Il(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Rl(e){return Ml.apply(this,arguments)}function Ml(){return Ml=hu(fu().mark((function e(t){var n,r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_l(t),e.next=3,Pl();case 3:return r=e.sent,i=r.transaction(Ol,"readwrite"),e.next=7,i.objectStore(Ol).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function jl(e,t){return Fl.apply(this,arguments)}function Fl(){return Fl=hu(fu().mark((function e(t,n){var r,i,a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_l(t),e.next=3,Pl();case 3:return i=e.sent,a=i.transaction(Ol,"readwrite"),o=a.objectStore(Ol),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||Il(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),Fl.apply(this,arguments)}function Vl(e){return Ul.apply(this,arguments)}function Ul(){return(Ul=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(t.appConfig,(function(e){var r=Bl(e),i=zl(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bl(e){return Gl(e||{fid:xl(),registrationStatus:0})}function zl(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(ul.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return ql.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Hl(e)}:{installationEntry:t}}function ql(){return(ql=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yl(t,n);case 3:return r=e.sent,e.abrupt("return",Dl(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!cl(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Rl(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Dl(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Hl(e){return Wl.apply(this,arguments)}function Wl(){return(Wl=hu(fu().mark((function e(t){var n,r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kl(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,kl(100);case 6:return e.next=8,Kl(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Vl(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e){return jl(e,(function(e){if(!e)throw ul.create("installation-not-found");return Gl(e)}))}function Gl(e){return 1===(t=e).registrationStatus&&t.registrationTime+rl<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Ql(e,t){return $l.apply(this,arguments)}function $l(){return($l=hu(fu().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,h;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=Yl(r,n),o=vl(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:il,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,ml((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return d=e.sent,h=fl(d),e.abrupt("return",h);case 22:return e.next=24,dl("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yl(e,t){var n=t.fid;return"".concat(ll(e),"/").concat(n,"/authTokens:generate")}function Jl(e){return Xl.apply(this,arguments)}function Xl(){return Xl=hu(fu().mark((function e(t){var n,r,i,a,o=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,jl(t.appConfig,(function(e){if(!af(e))throw ul.create("not-registered");var i=e.authToken;if(!n&&of(i))return e;if(1===i.requestStatus)return r=Zl(t,n),e;if(!navigator.onLine)throw ul.create("app-offline");var a=sf(e);return r=nf(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Zl(e,t){return ef.apply(this,arguments)}function ef(){return(ef=hu(fu().mark((function e(t,n){var r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tf(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,kl(100);case 6:return e.next=8,tf(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Jl(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e){return jl(e,(function(e){if(!af(e))throw ul.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+rl<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function nf(e,t){return rf.apply(this,arguments)}function rf(){return(rf=hu(fu().mark((function e(t,n){var r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ql(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Dl(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!cl(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Rl(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Dl(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function af(e){return void 0!==e&&2===e.registrationStatus}function of(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ol}(e)}function sf(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function uf(){return(uf=hu(fu().mark((function e(t){var n,r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Vl(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):Jl(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(){return cf=hu(fu().mark((function e(t){var n,r,i,a=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,lf(r);case 4:return e.next=6,Jl(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(e){return ff.apply(this,arguments)}function ff(){return(ff=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vl(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e){return ul.create("missing-app-config-values",{valueName:e})}var hf,pf="installations",vf=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw df("App Configuration");if(!e.name)throw df("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw df(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:tc(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},mf=function(e){var t=tc(e.getProvider("app").getImmediate(),pf).getImmediate(),n={getId:function(){return function(e){return uf.apply(this,arguments)}(t)},getToken:function(e){return function(e){return cf.apply(this,arguments)}(t,e)}};return n};ec(new pu(pf,vf,"PUBLIC")),ec(new pu("installations-internal",mf,"PRIVATE")),hc(tl,nl),hc(tl,nl,"esm2017");var gf="analytics",yf=6e4,bf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kf="https://www.googletagmanager.com/gtag/js",wf=new Iu("@firebase/analytics");function xf(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function _f(e,t){var n=document.createElement("script");n.src="".concat(kf,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function Sf(e,t,n,r,i,a){return If.apply(this,arguments)}function If(){return If=hu(fu().mark((function e(t,n,r,i,a,o){var s,u,c;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,xf(r);case 9:if(u=e.sent,c=u.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),wf.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),If.apply(this,arguments)}function Ef(e,t,n,r,i){return Cf.apply(this,arguments)}function Cf(){return Cf=hu(fu().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,xf(r);case 7:u=e.sent,c=xs(s),e.prev=9,f=function(){var e=l.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),wf.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),Cf.apply(this,arguments)}function Tf(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=hu(fu().mark((function i(a,o,s){return fu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,Ef(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,Sf(e,t,n,r,o,s);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",s):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),wf.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function Nf(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(kf))return r}return null}var Of=(co(hf={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),co(hf,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),co(hf,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),co(hf,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),co(hf,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),co(hf,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),co(hf,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),co(hf,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),co(hf,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),co(hf,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),hf),Af=new Ys("analytics","Analytics",Of),Pf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;bs(this,e),this.throttleMetadata=t,this.intervalMillis=n}return ws(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Df=new Pf;function Lf(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Rf(e){return Mf.apply(this,arguments)}function Mf(){return Mf=hu(fu().mark((function e(t){var n,r,i,a,o,s,u,c;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Lf(i)},o=bf.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Af.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),Mf.apply(this,arguments)}function jf(e){return Ff.apply(this,arguments)}function Ff(){return Ff=hu(fu().mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:Df,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw Af.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw Af.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Wf,setTimeout(hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:yf),e.abrupt("return",Vf({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}function Vf(e,t,n){return Uf.apply(this,arguments)}function Uf(){return Uf=hu(fu().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h,p,v=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=v.length>3&&void 0!==v[3]?v[3]:Df,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,Bf(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return wf.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(s=e.t0)||void 0===s?void 0:s.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Rf(t);case 17:return f=e.sent,o.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),zf(d=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(c),!l){e.next=32;break}return wf.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===d||void 0===d?void 0:d.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return h=503===Number(null===(u=null===d||void 0===d?void 0:d.customData)||void 0===u?void 0:u.httpStatus)?cu(a,o.intervalMillis,30):cu(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(c,p),wf.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",Vf(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),Uf.apply(this,arguments)}function Bf(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Af.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function zf(e){if(!(e instanceof $s)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var qf,Hf,Wf=function(){function e(){bs(this,e),this.listeners=[]}return ws(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Kf(){return(Kf=hu(fu().mark((function e(t,n,r,i,a){var o,s;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(){return(Gf=hu(fu().mark((function e(t,n,r,i){var a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qf(){return Qf=hu(fu().mark((function e(t,n,r,i){var a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function $f(){return($f=hu(fu().mark((function e(t,n,r,i){var a,o,s,u,c;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(a={},o=0,s=Object.keys(r);o<s.length;o++)u=s[o],a["user_properties.".concat(u)]=r[u];return t("set",a),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(){return(Yf=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jf(e){Hf=e}function Xf(e){qf=e}function Zf(){return ed.apply(this,arguments)}function ed(){return ed=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ks()){e.next=5;break}return wf.warn(Af.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Gs();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),wf.warn(Af.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),ed.apply(this,arguments)}function td(){return td=hu(fu().mark((function e(t,n,r,i,a,o,s){var u,l,f,d,h,p,v,m;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=jf(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&wf.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return wf.error(e)})),n.push(l),f=Zf().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return d=e.sent,h=c(d,2),p=h[0],v=h[1],Nf()||_f(o,p.measurementId),Hf&&(a("consent","default",Hf),Jf(void 0)),a("js",new Date),(m=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{}).origin="firebase",m.update=!0,null!=v&&(m.firebase_id=v),a("config",p.measurementId,m),qf&&(a("set",qf),Xf(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}var nd,rd,id=function(){function e(t){bs(this,e),this.app=t}return ws(e,[{key:"_delete",value:function(){return delete ad[this.app.options.appId],Promise.resolve()}}]),e}(),ad={},od=[],sd={},ud="dataLayer",cd="gtag",ld=!1;function fd(e){if(ld)throw Af.create("already-initialized");e.dataLayerName&&(ud=e.dataLayerName),e.gtagName&&(cd=e.gtagName)}function dd(e,t,n){!function(){var e=[];if(qs()&&e.push("This is a browser extension environment."),Qs()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Af.create("invalid-analytics-context",{errorInfo:t});wf.warn(n.message)}}();var r=e.options.appId;if(!r)throw Af.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Af.create("no-api-key");wf.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ad[r])throw Af.create("already-exists",{id:r});if(!ld){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ud);var i=Tf(ad,od,sd,ud,cd),a=i.wrappedGtag,o=i.gtagCore;rd=a,nd=o,ld=!0}return ad[r]=function(e,t,n,r,i,a,o){return td.apply(this,arguments)}(e,od,sd,t,nd,ud,n),new id(e)}function hd(){return pd.apply(this,arguments)}function pd(){return(pd=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qs()){e.next=2;break}return e.abrupt("return",!1);case 2:if(Qs()){e.next=4;break}return e.abrupt("return",!1);case 4:if(Ks()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,Gs();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function vd(e,t,n){e=lu(e),function(e,t,n,r){return Gf.apply(this,arguments)}(rd,ad[e.app.options.appId],t,n).catch((function(e){return wf.error(e)}))}function md(e,t,n){e=lu(e),function(e,t,n,r){return Qf.apply(this,arguments)}(rd,ad[e.app.options.appId],t,n).catch((function(e){return wf.error(e)}))}function gd(e,t,n){e=lu(e),function(e,t,n,r){return $f.apply(this,arguments)}(rd,ad[e.app.options.appId],t,n).catch((function(e){return wf.error(e)}))}function yd(e,t){e=lu(e),function(e,t){return Yf.apply(this,arguments)}(ad[e.app.options.appId],t).catch((function(e){return wf.error(e)}))}function bd(e,t,n,r){e=lu(e),function(e,t,n,r,i){return Kf.apply(this,arguments)}(rd,ad[e.app.options.appId],t,n,r).catch((function(e){return wf.error(e)}))}var kd="@firebase/analytics",wd="0.8.0";ec(new pu(gf,(function(e,t){var n=t.options;return dd(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),ec(new pu("analytics-internal",(function(e){try{var t=e.getProvider(gf).getImmediate();return{logEvent:function(e,n,r){return bd(t,e,n,r)}}}catch(eB){throw Af.create("interop-component-reg-failed",{reason:eB})}}),"PRIVATE")),hc(kd,wd),hc(kd,wd,"esm2017");var xd,_d=function(){function e(t,n){bs(this,e),this.app=t,this._delegate=n}return ws(e,[{key:"logEvent",value:function(e,t,n){bd(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){vd(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){md(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){gd(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){yd(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(xd||(xd={}));var Sd=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new _d(t,n)};function Id(e){return a(e)||ho(e)||s(e)||u()}function Ed(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Es(e)););return e}function Cd(){return Cd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ed(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Cd.apply(this,arguments)}!function(){var e={Analytics:_d,settings:fd,isSupported:hd,EventName:xd};jc.INTERNAL.registerComponent(new pu("analytics-compat",Sd,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),jc.registerVersion("@firebase/analytics-compat","0.1.13");function Td(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Nd;Object.create;var Od="facebook.com",Ad="github.com",Pd="google.com",Dd="password",Ld="twitter.com",Rd="EMAIL_SIGNIN",Md="PASSWORD_RESET",jd="RECOVER_EMAIL",Fd="REVERT_SECOND_FACTOR_ADDITION",Vd="VERIFY_AND_CHANGE_EMAIL",Ud="VERIFY_EMAIL";function Bd(){return co({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var zd=function(){var e;return co(e={},"admin-restricted-operation","This operation is restricted to administrators only."),co(e,"argument-error",""),co(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),co(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),co(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),co(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),co(e,"cordova-not-ready","Cordova framework is not ready."),co(e,"cors-unsupported","This browser is not supported."),co(e,"credential-already-in-use","This credential is already associated with a different user account."),co(e,"custom-token-mismatch","The custom token corresponds to a different audience."),co(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),co(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),co(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),co(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),co(e,"email-already-in-use","The email address is already in use by another account."),co(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),co(e,"expired-action-code","The action code has expired."),co(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),co(e,"internal-error","An internal AuthError has occurred."),co(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),co(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),co(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),co(e,"invalid-auth-event","An internal AuthError has occurred."),co(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),co(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),co(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),co(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),co(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),co(e,"invalid-email","The email address is badly formatted."),co(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),co(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),co(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),co(e,"invalid-credential","The supplied auth credential is malformed or has expired."),co(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),co(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),co(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),co(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),co(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),co(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),co(e,"wrong-password","The password is invalid or the user does not have a password."),co(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),co(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),co(e,"invalid-provider-id","The specified provider ID is invalid."),co(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),co(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),co(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),co(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),co(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),co(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),co(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),co(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),co(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),co(e,"missing-continue-uri","A continue URL must be provided in the request."),co(e,"missing-iframe-start","An internal AuthError has occurred."),co(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),co(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),co(e,"missing-multi-factor-info","No second factor identifier is provided."),co(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),co(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),co(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),co(e,"app-deleted","This instance of FirebaseApp has been deleted."),co(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),co(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),co(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),co(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),co(e,"no-auth-event","An internal AuthError has occurred."),co(e,"no-such-provider","User was not linked to an account with the given provider."),co(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),co(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),co(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),co(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),co(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),co(e,"provider-already-linked","User can only be linked to one identity for the given provider."),co(e,"quota-exceeded","The project's quota for this operation has been exceeded."),co(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),co(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),co(e,"rejected-credential","The request contains malformed or mismatching credentials."),co(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),co(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),co(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),co(e,"timeout","The operation has timed out."),co(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),co(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),co(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),co(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),co(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),co(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),co(e,"unverified-email","The operation requires a verified email."),co(e,"user-cancelled","The user did not grant your application the permissions it requested."),co(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),co(e,"user-disabled","The user account has been disabled by an administrator."),co(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),co(e,"user-signed-out",""),co(e,"weak-password","The password must be 6 characters long or more."),co(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),co(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},qd=Bd,Hd=new Ys("auth","Firebase",Bd()),Wd=new Iu("@firebase/auth");function Kd(e){if(Wd.logLevel<=yu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wd.error.apply(Wd,["Auth (".concat(sc,"): ").concat(e)].concat(n))}}function Gd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Jd.apply(void 0,[e].concat(n))}function Qd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Jd.apply(void 0,[e].concat(n))}function $d(e,t,n){var r=Object.assign(Object.assign({},qd()),co({},t,n));return new Ys("auth","Firebase",r).create(t,{appName:e.name})}function Yd(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Gd(e,"argument-error"),$d(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Jd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=po(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(po(o)))}return Hd.create.apply(Hd,[e].concat(n))}function Xd(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Jd.apply(void 0,[t].concat(r))}}function Zd(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Kd(t),new Error(t)}function eh(e,t){e||Zd(t)}var th=new Map;function nh(e){eh(e instanceof Function,"Expected a class definition");var t=th.get(e);return t?(eh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,th.set(e,t),t)}function rh(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ih(){return"http:"===ah()||"https:"===ah()}function ah(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var oh=function(){function e(t,n){bs(this,e),this.shortDelay=t,this.longDelay=n,eh(n>t,"Short delay should be less than long delay!"),this.isMobile=Bs()||Hs()}return ws(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ih()||qs()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function sh(e,t){eh(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var uh=function(){function e(){bs(this,e)}return ws(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Zd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Zd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Zd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ch=(co(Nd={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),co(Nd,"MISSING_CUSTOM_TOKEN","internal-error"),co(Nd,"INVALID_IDENTIFIER","invalid-email"),co(Nd,"MISSING_CONTINUE_URI","internal-error"),co(Nd,"INVALID_PASSWORD","wrong-password"),co(Nd,"MISSING_PASSWORD","internal-error"),co(Nd,"EMAIL_EXISTS","email-already-in-use"),co(Nd,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),co(Nd,"INVALID_IDP_RESPONSE","invalid-credential"),co(Nd,"INVALID_PENDING_TOKEN","invalid-credential"),co(Nd,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),co(Nd,"MISSING_REQ_TYPE","internal-error"),co(Nd,"EMAIL_NOT_FOUND","user-not-found"),co(Nd,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),co(Nd,"EXPIRED_OOB_CODE","expired-action-code"),co(Nd,"INVALID_OOB_CODE","invalid-action-code"),co(Nd,"MISSING_OOB_CODE","internal-error"),co(Nd,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),co(Nd,"INVALID_ID_TOKEN","invalid-user-token"),co(Nd,"TOKEN_EXPIRED","user-token-expired"),co(Nd,"USER_NOT_FOUND","user-token-expired"),co(Nd,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),co(Nd,"INVALID_CODE","invalid-verification-code"),co(Nd,"INVALID_SESSION_INFO","invalid-verification-id"),co(Nd,"INVALID_TEMPORARY_PROOF","invalid-credential"),co(Nd,"MISSING_SESSION_INFO","missing-verification-id"),co(Nd,"SESSION_EXPIRED","code-expired"),co(Nd,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),co(Nd,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),co(Nd,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),co(Nd,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),co(Nd,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),co(Nd,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),co(Nd,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),co(Nd,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),co(Nd,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),co(Nd,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),co(Nd,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Nd),lh=new oh(3e4,6e4);function fh(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function dh(e,t,n,r){return hh.apply(this,arguments)}function hh(){return hh=hu(fu().mark((function e(t,n,r,i){var a,o=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ph(t,a,hu(fu().mark((function e(){var a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=nu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",uh.fetch()(yh(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function ph(e,t,n){return vh.apply(this,arguments)}function vh(){return vh=hu(fu().mark((function e(t,n,r){var i,a,o,s,u,l,f,d,h,p;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ch),n),e.prev=2,a=new bh(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw kh(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw kh(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw kh(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw kh(t,"user-disabled",s);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw $d(t,p,h);case 34:Gd(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof $s)){e.next=41;break}throw e.t0;case 41:Gd(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),vh.apply(this,arguments)}function mh(e,t,n,r){return gh.apply(this,arguments)}function gh(){return gh=hu(fu().mark((function e(t,n,r,i){var a,o,s=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,dh(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Gd(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}function yh(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?sh(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var bh=function(){function e(t){var n=this;bs(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Qd(n.auth,"network-request-failed"))}),lh.get())}))}return ws(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function kh(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Qd(e,t,r);return i.customData._tokenResponse=n,i}function wh(e,t){return xh.apply(this,arguments)}function xh(){return xh=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dh(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function _h(e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dh(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function Ih(e,t){return Eh.apply(this,arguments)}function Eh(){return Eh=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dh(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Eh.apply(this,arguments)}function Ch(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(eB){}}function Th(){return Th=hu(fu().mark((function e(t){var n,r,i,a,o,s,u=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=lu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Xd((a=Oh(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ch(Nh(a.auth_time)),issuedAtTime:Ch(Nh(a.iat)),expirationTime:Ch(Nh(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Th.apply(this,arguments)}function Nh(e){return 1e3*Number(e)}function Oh(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{var o=Ms(i);return o?JSON.parse(o):(Kd("Failed to decode base64 JWT payload"),null)}catch(eB){return Kd("Caught error parsing JWT payload as JSON",null===(t=eB)||void 0===t?void 0:t.toString()),null}}function Ah(e,t){return Ph.apply(this,arguments)}function Ph(){return Ph=hu(fu().mark((function e(t,n){var r=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof $s&&Dh(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ph.apply(this,arguments)}function Dh(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Lh=function(){function e(t){bs(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ws(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(hu(fu().mark((function t(){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Rh=function(){function e(t,n){bs(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ws(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ch(this.lastLoginAt),this.creationTime=Ch(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Mh(e){return jh.apply(this,arguments)}function jh(){return jh=hu(fu().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ah(t,Ih(r,{idToken:i}));case 6:Xd(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Uh(o.providerUserInfo):[],u=Vh(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rh(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Fh(){return(Fh=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lu(t),e.next=3,Mh(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vh(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(po(n),po(t))}function Uh(e){return e.map((function(e){var t=e.providerId,n=Td(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Bh(e,t){return zh.apply(this,arguments)}function zh(){return zh=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ph(t,{},hu(fu().mark((function e(){var r,i,a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=yh(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",uh.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}var qh=function(){function e(){bs(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ws(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Xd(e.idToken,"internal-error"),Xd("undefined"!==typeof e.idToken,"internal-error"),Xd("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Oh(e);return Xd(t,"internal-error"),Xd("undefined"!==typeof t.exp,"internal-error"),Xd("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=hu(fu().mark((function e(t){var n,r=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Xd(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=hu(fu().mark((function e(t,n){var r,i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bh(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Zd("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Xd("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Xd("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Xd("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Hh(e,t){Xd("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Wh=function(){function e(t){bs(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Td(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?po(a.providerData):[],this.metadata=new Rh(a.createdAt||void 0,a.lastLoginAt||void 0)}return ws(e,[{key:"getIdToken",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ah(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Xd(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Th.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Fh.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Xd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Xd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=hu(fu().mark((function e(t){var n,r,i=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Mh(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ah(this,wh(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Xd(b&&_,t,"internal-error");var S=qh.fromJSON(this.name,_);Xd("string"===typeof b,t,"internal-error"),Hh(f,t.name),Hh(d,t.name),Xd("boolean"===typeof k,t,"internal-error"),Xd("boolean"===typeof w,t,"internal-error"),Hh(h,t.name),Hh(p,t.name),Hh(v,t.name),Hh(m,t.name),Hh(g,t.name),Hh(y,t.name);var I=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=hu(fu().mark((function t(n,r){var i,a,o,s=arguments;return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new qh).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Mh(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Kh=function(){function e(){bs(this,e),this.type="NONE",this.storage={}}return ws(e,[{key:"_isAvailable",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Kh.type="NONE";var Gh=Kh;function Qh(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var $h=function(){function e(t,n,r){bs(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Qh(this.userKey,a.apiKey,o),this.fullPersistenceKey=Qh("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ws(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Wh._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=hu(fu().mark((function t(n,r){var i,a,o,s,u,c,l,f,d,h,p,v=arguments;return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(nh(Gh),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||nh(Gh),s=Qh(i,n.config.apiKey,n.name),u=null,c=xs(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return h=Wh._fromJSON(n,d),f!==o&&(u=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Yh(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ep(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jh(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(np(t))return"Blackberry";if(rp(t))return"Webos";if(Xh(t))return"Safari";if((t.includes("chrome/")||Zh(t))&&!t.includes("edge/"))return"Chrome";if(tp(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Jh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return/firefox\//i.test(e)}function Xh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Zh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return/crios\//i.test(e)}function ep(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return/iemobile/i.test(e)}function tp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return/android/i.test(e)}function np(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return/blackberry/i.test(e)}function rp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return/webos/i.test(e)}function ip(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ap(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return ip(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function op(){return Ws()&&10===document.documentMode}function sp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return ip(e)||tp(e)||rp(e)||np(e)||/windows phone/i.test(e)||ep(e)}function up(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Yh(Us());break;case"Worker":t="".concat(Yh(Us()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(sc,"/").concat(r)}var cp=function(){function e(t){bs(this,e),this.auth=t,this.queue=[]}return ws(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(eB){r(eB)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=hu(fu().mark((function e(t){var n,r,i,a,o,s,u,c;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=xs(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=xs(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(l){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),lp=function(){function e(t,n,r){bs(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dp(this),this.idTokenSubscription=new dp(this),this.beforeStateQueue=new cp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hd,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ws(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=nh(t)),this._initializationPromise=this.queue(hu(fu().mark((function r(){var i,a;return fu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,$h.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=hu(fu().mark((function e(t){var n,r,i,a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Xd(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mh(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?lu(t):null)&&Xd(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=hu(fu().mark((function e(t){var n,r=this,i=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Xd(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(hu(fu().mark((function n(){return fu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(nh(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ys("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Xd(n=t&&nh(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,$h.create(this,[nh(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=hu(fu().mark((function e(t){var n=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Xd(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Xd(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=up(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=hu(fu().mark((function e(){var t,n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=co({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fp(e){return lu(e)}var dp=function(){function e(t){var n=this;bs(this,e),this.auth=t,this.observer=null,this.addObserver=au((function(e){return n.observer=e}))}return ws(e,[{key:"next",get:function(){return Xd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function hp(e,t,n){var r=fp(e);Xd(r._canInitEmulator,r,"emulator-config-failed"),Xd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=pp(t),o=function(e){var t=pp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:vp(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:vp(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function pp(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function vp(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var mp=function(){function e(t,n){bs(this,e),this.providerId=t,this.signInMethod=n}return ws(e,[{key:"toJSON",value:function(){return Zd("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Zd("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Zd("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Zd("not implemented")}}]),e}();function gp(e,t){return yp.apply(this,arguments)}function yp(){return yp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dh(t,"POST","/v1/accounts:resetPassword",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function bp(e,t){return kp.apply(this,arguments)}function kp(){return kp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dh(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function wp(e,t){return xp.apply(this,arguments)}function xp(){return xp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dh(t,"POST","/v1/accounts:update",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),xp.apply(this,arguments)}function _p(e,t){return Sp.apply(this,arguments)}function Sp(){return Sp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(t,"POST","/v1/accounts:signInWithPassword",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sp.apply(this,arguments)}function Ip(e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dh(t,"POST","/v1/accounts:sendOobCode",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ep.apply(this,arguments)}function Cp(e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ip(t,n));case 1:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function Np(e,t){return Op.apply(this,arguments)}function Op(){return Op=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ip(t,n));case 1:case"end":return e.stop()}}),e)}))),Op.apply(this,arguments)}function Ap(e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ip(t,n));case 1:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}function Dp(e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ip(t,n));case 1:case"end":return e.stop()}}),e)}))),Lp.apply(this,arguments)}function Rp(e,t){return Mp.apply(this,arguments)}function Mp(){return Mp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(t,"POST","/v1/accounts:signInWithEmailLink",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mp.apply(this,arguments)}function jp(e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(t,"POST","/v1/accounts:signInWithEmailLink",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}var Vp=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return bs(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ws(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",_p(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Rp(t,{email:this._email,oobCode:this._password}));case 5:Gd(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",bp(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",jp(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Gd(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(mp);function Up(e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(t,"POST","/v1/accounts:signInWithIdp",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}var zp=function(e){Is(n,e);var t=Os(n);function n(){var e;return bs(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ws(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Up(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Up(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Up(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gd("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Td(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(mp);function qp(e,t){return Hp.apply(this,arguments)}function Hp(){return Hp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dh(t,"POST","/v1/accounts:sendVerificationCode",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hp.apply(this,arguments)}function Wp(){return Wp=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(t,"POST","/v1/accounts:signInWithPhoneNumber",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wp.apply(this,arguments)}function Kp(){return Kp=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mh(t,"POST","/v1/accounts:signInWithPhoneNumber",fh(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw kh(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Kp.apply(this,arguments)}var Gp=co({},"USER_NOT_FOUND","user-not-found");function Qp(){return Qp=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",mh(t,"POST","/v1/accounts:signInWithPhoneNumber",fh(t,r),Gp));case 2:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}var $p=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ws(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Wp.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Kp.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Qp.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(mp);var Yp=function(){function e(t){var n,r,i,a,o,s;bs(this,e);var u=ru(iu(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Xd(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ws(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ru(iu(e)).link,n=t?ru(iu(t)).deep_link_id:null,r=ru(iu(e)).deep_link_id;return(r?ru(iu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Jp=function(){function e(){bs(this,e),this.providerId=e.PROVIDER_ID}return ws(e,null,[{key:"credential",value:function(e,t){return Vp._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Yp.parseLink(t);return Xd(n,"argument-error"),Vp._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Jp.PROVIDER_ID="password",Jp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Jp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Xp=function(){function e(t){bs(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ws(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Zp=function(e){Is(n,e);var t=Os(n);function n(){var e;return bs(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ws(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return po(this.scopes)}}]),n}(Xp),ev=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.apply(this,arguments)}return ws(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Xd(e.idToken||e.accessToken,"argument-error"),zp._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Xd("providerId"in t&&"signInMethod"in t,"argument-error"),zp._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(eB){return null}}}]),n}(Zp),tv=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.call(this,"facebook.com")}return ws(n,null,[{key:"credential",value:function(e){return zp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Zp);tv.FACEBOOK_SIGN_IN_METHOD="facebook.com",tv.PROVIDER_ID="facebook.com";var nv=function(e){Is(n,e);var t=Os(n);function n(){var e;return bs(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ws(n,null,[{key:"credential",value:function(e,t){return zp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Zp);nv.GOOGLE_SIGN_IN_METHOD="google.com",nv.PROVIDER_ID="google.com";var rv=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.call(this,"github.com")}return ws(n,null,[{key:"credential",value:function(e){return zp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Zp);rv.GITHUB_SIGN_IN_METHOD="github.com",rv.PROVIDER_ID="github.com";var iv=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ws(n,[{key:"_getIdTokenResponse",value:function(e){return Up(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Up(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Up(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(mp),av=function(e){Is(n,e);var t=Os(n);function n(e){return bs(this,n),Xd(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ws(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=iv.fromJSON(e);return Xd(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return iv._create(r,n)}catch(eB){return null}}}]),n}(Xp),ov=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.call(this,"twitter.com")}return ws(n,null,[{key:"credential",value:function(e,t){return zp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Zp);function sv(e,t){return uv.apply(this,arguments)}function uv(){return uv=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(t,"POST","/v1/accounts:signUp",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),uv.apply(this,arguments)}ov.TWITTER_SIGN_IN_METHOD="twitter.com",ov.PROVIDER_ID="twitter.com";var cv=function(){function e(t){bs(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ws(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=hu(fu().mark((function t(n,r,i){var a,o,s,u,c=arguments;return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Wh._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=lv(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=hu(fu().mark((function t(n,r,i){var a;return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=lv(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function lv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function fv(){return fv=hu(fu().mark((function e(t){var n,r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fp(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new cv({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,sv(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,cv._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}var dv=function(e){Is(n,e);var t=Os(n);function n(e,r,i,a){var o,s;return bs(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_s(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ws(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}($s);function hv(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw dv._fromErrorAndOperation(e,n,t,r);throw n}))}function pv(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function vv(e,t){return mv.apply(this,arguments)}function mv(){return mv=hu(fu().mark((function e(t,n){var r,i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lu(t),e.next=3,bv(!0,r,n);case 3:return e.t0=_h,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=pv(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),mv.apply(this,arguments)}function gv(e,t){return yv.apply(this,arguments)}function yv(){return yv=hu(fu().mark((function e(t,n){var r,i,a=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ah,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",cv._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}function bv(e,t,n){return kv.apply(this,arguments)}function kv(){return(kv=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mh(n);case 2:i=pv(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Xd(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wv(e,t){return xv.apply(this,arguments)}function xv(){return xv=hu(fu().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Ah(t,hv(a,o,n,t),r);case 6:return Xd((s=e.sent).idToken,a,"internal-error"),Xd(u=Oh(s.idToken),a,"internal-error"),c=u.sub,Xd(t.uid===c,a,"user-mismatch"),e.abrupt("return",cv._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Gd(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),xv.apply(this,arguments)}function _v(e,t){return Sv.apply(this,arguments)}function Sv(){return Sv=hu(fu().mark((function e(t,n){var r,i,a,o,s=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,hv(t,i,n);case 4:return a=e.sent,e.next=7,cv._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Sv.apply(this,arguments)}function Iv(e,t){return Ev.apply(this,arguments)}function Ev(){return Ev=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_v(fp(t),n));case 1:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function Cv(e,t){return Tv.apply(this,arguments)}function Tv(){return(Tv=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lu(t),e.next=3,bv(!1,r,n.providerId);case 3:return e.abrupt("return",gv(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nv(e,t){return Ov.apply(this,arguments)}function Ov(){return(Ov=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wv(lu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Av(e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(t,"POST","/v1/accounts:signInWithCustomToken",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Dv(){return Dv=hu(fu().mark((function e(t,n){var r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fp(t),e.next=3,Av(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,cv._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}var Lv=function(){function e(t,n){bs(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ws(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Rv._fromServerResponse(e,t):Gd(e,"internal-error")}}]),e}(),Rv=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ws(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Lv);function Mv(e,t,n){var r;Xd((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Xd("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xd(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Xd(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function jv(){return jv=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lu(t),a={requestType:"PASSWORD_RESET",email:n},r&&Mv(i,a,r),e.next=5,Np(i,a);case 5:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Fv(){return Fv=hu(fu().mark((function e(t,n,r){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gp(lu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Vv(){return Vv=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp(lu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Vv.apply(this,arguments)}function Uv(e,t){return Bv.apply(this,arguments)}function Bv(){return Bv=hu(fu().mark((function e(t,n){var r,i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lu(t),e.next=3,gp(r,{oobCode:n});case 3:i=e.sent,Xd(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Xd(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Xd(i.mfaInfo,r,"internal-error");case 13:Xd(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Lv._fromServerResponse(fp(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Bv.apply(this,arguments)}function zv(){return zv=hu(fu().mark((function e(t,n){var r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uv(lu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),zv.apply(this,arguments)}function qv(e,t,n){return Hv.apply(this,arguments)}function Hv(){return Hv=hu(fu().mark((function e(t,n,r){var i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fp(t),e.next=3,sv(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,cv._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Hv.apply(this,arguments)}function Wv(){return Wv=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lu(t),a={requestType:"EMAIL_SIGNIN",email:n},Xd(r.handleCodeInApp,i,"argument-error"),r&&Mv(i,a,r),e.next=6,Ap(i,a);case 6:case"end":return e.stop()}}),e)}))),Wv.apply(this,arguments)}function Kv(){return Kv=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lu(t),Xd((a=Jp.credentialWithLink(n,r||rh()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Iv(i,a));case 4:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}function Gv(e,t){return Qv.apply(this,arguments)}function Qv(){return Qv=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dh(t,"POST","/v1/accounts:createAuthUri",fh(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function $v(){return $v=hu(fu().mark((function e(t,n){var r,i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ih()?rh():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Gv(lu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}function Yv(){return(Yv=hu(fu().mark((function e(t,n){var r,i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Mv(r.auth,a,n),e.next=8,Cp(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jv(){return(Jv=hu(fu().mark((function e(t,n,r){var i,a,o,s;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Mv(i.auth,o,r),e.next=8,Dp(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xv(e,t){return Zv.apply(this,arguments)}function Zv(){return Zv=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dh(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Zv.apply(this,arguments)}function em(){return(em=hu(fu().mark((function e(t,n){var r,i,a,o,s,u,c;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=lu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ah(a,Xv(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tm(e,t,n){return nm.apply(this,arguments)}function nm(){return nm=hu(fu().mark((function e(t,n,r){var i,a,o,s;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ah(t,bp(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),nm.apply(this,arguments)}var rm=ws((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};bs(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),im=function(e){Is(n,e);var t=Os(n);function n(e,r,i,a){var o;return bs(this,n),(o=t.call(this,e,r,i)).username=a,o}return ws(n)}(rm),am=function(e){Is(n,e);var t=Os(n);function n(e,r){return bs(this,n),t.call(this,e,"facebook.com",r)}return ws(n)}(rm),om=function(e){Is(n,e);var t=Os(n);function n(e,r){return bs(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ws(n)}(im),sm=function(e){Is(n,e);var t=Os(n);function n(e,r){return bs(this,n),t.call(this,e,"google.com",r)}return ws(n)}(rm),um=function(e){Is(n,e);var t=Os(n);function n(e,r,i){return bs(this,n),t.call(this,e,"twitter.com",r,i)}return ws(n)}(im);function cm(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Oh(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new rm(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new am(a,i);case"github.com":return new om(a,i);case"google.com":return new sm(a,i);case"twitter.com":return new um(a,i,e.screenName||null);case"custom":case"anonymous":return new rm(a,null);default:return new rm(a,r,i)}}(n)}var lm=function(){function e(t,n){bs(this,e),this.type=t,this.credential=n}return ws(e,[{key:"toJSON",value:function(){return{multiFactorSession:co({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),fm=function(){function e(t,n,r){bs(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ws(e,[{key:"resolveSignIn",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=fp(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Lv._fromServerResponse(r,e)}));Xd(i.mfaPendingCredential,r,"internal-error");var o=lm._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=hu(fu().mark((function e(t){var a,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,cv._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Xd(n.user,r,"internal-error"),e.abrupt("return",cv._forOperation(n.user,n.operationType,s));case 17:Gd(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function dm(e,t){return dh(e,"POST","/v2/accounts/mfaEnrollment:start",fh(e,t))}function hm(e,t){return dh(e,"POST","/v2/accounts/mfaEnrollment:withdraw",fh(e,t))}var pm=function(){function e(t){var n=this;bs(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Lv._fromServerResponse(t.auth,e)})))}))}return ws(e,[{key:"getSession",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=lm,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=hu(fu().mark((function e(t,n){var r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ah(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=hu(fu().mark((function e(t){var n,r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Ah(this.user,hm(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),vm=new WeakMap;var mm="__sak",gm=function(){function e(t,n){bs(this,e),this.storageRetriever=t,this.type=n}return ws(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(mm,"1"),this.storage.removeItem(mm),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ym=function(e){Is(n,e);var t=Os(n);function n(){var e;return bs(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Us();return Xh(e)||ip(e)}()&&function(){try{return!(!window||window===window.top)}catch(eB){return!1}}(),e.fallbackToPolling=sp(),e._shouldAllowMigration=!0,e}return ws(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);op()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=hu(fu().mark((function e(t,r){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cd(Es(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=hu(fu().mark((function e(t){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cd(Es(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cd(Es(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(gm);ym.type="LOCAL";var bm=ym,km=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ws(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(gm);km.type="SESSION";var wm=km;function xm(e){return Promise.all(e.map(function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var _m=function(){function e(t){bs(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ws(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=hu(fu().mark((function e(t){var n,r,i,a,o,s,u,c;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,xm(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Sm(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_m.receivers=[];var Im=function(){function e(t){bs(this,e),this.target=t,this.handlers=new Set}return ws(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=hu(fu().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Sm("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Em(){return window}function Cm(){return"undefined"!==typeof Em().WorkerGlobalScope&&"function"===typeof Em().importScripts}function Tm(){return Nm.apply(this,arguments)}function Nm(){return(Nm=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Om(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Am="firebaseLocalStorageDb",Pm="firebaseLocalStorage",Dm="fbase_key",Lm=function(){function e(t){bs(this,e),this.request=t}return ws(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Rm(e,t){return e.transaction([Pm],t?"readwrite":"readonly").objectStore(Pm)}function Mm(){var e=indexedDB.deleteDatabase(Am);return new Lm(e).toPromise()}function jm(){var e=indexedDB.open(Am,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Pm,{keyPath:Dm})}catch(eB){n(eB)}})),e.addEventListener("success",hu(fu().mark((function n(){var r;return fu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Pm)){n.next=12;break}return r.close(),n.next=5,Mm();case 5:return n.t0=t,n.next=8,jm();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Fm(e,t,n){return Vm.apply(this,arguments)}function Vm(){return Vm=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rm(t,!0).put((co(i={},Dm,n),co(i,"value",r),i)),e.abrupt("return",new Lm(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}function Um(e,t){return Bm.apply(this,arguments)}function Bm(){return Bm=hu(fu().mark((function e(t,n){var r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rm(t,!1).get(n),e.next=3,new Lm(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Bm.apply(this,arguments)}function zm(e,t){var n=Rm(e,!0).delete(t);return new Lm(n).toPromise()}var qm=function(){function e(){bs(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ws(e,[{key:"_openDb",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,jm();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cm()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=hu(fu().mark((function e(){var t=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=_m._getInstance(Cm()?self:null),this.receiver._subscribe("keyChanged",function(){var e=hu(fu().mark((function e(n,r){var i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=hu(fu().mark((function e(){var t,n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tm();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Im(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Om()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,jm();case 5:return t=e.sent,e.next=8,Fm(t,mm,"1");case 8:return e.next=10,zm(t,mm);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=hu(fu().mark((function e(t,n){var r=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Fm(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Um(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=hu(fu().mark((function e(t){var n=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return zm(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=hu(fu().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Rm(e,!1).getAll();return new Lm(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=xs(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(hu(fu().mark((function t(){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();qm.type="LOCAL";var Hm=qm;function Wm(e,t){return dh(e,"POST","/v2/accounts/mfaSignIn:start",fh(e,t))}function Km(e){return Gm.apply(this,arguments)}function Gm(){return Gm=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dh(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Gm.apply(this,arguments)}function Qm(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Qd("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function $m(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ym=1e12,Jm=function(){function e(t){bs(this,e),this.auth=t,this.counter=Ym,this._widgets=new Map}return ws(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Xm(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ym;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ym;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ym,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Xm=function(){function e(t,n,r){var i=this;bs(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Xd(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ws(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(eB){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(eB){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Zm=$m("rcb"),eg=new oh(3e4,6e4),tg="https://www.google.com/recaptcha/api.js?",ng=function(){function e(){var t;bs(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Em().grecaptcha)||void 0===t?void 0:t.render)}return ws(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Xd(rg(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Em().grecaptcha):new Promise((function(r,i){var a=Em().setTimeout((function(){i(Qd(e,"network-request-failed"))}),eg.get());Em()[Zm]=function(){Em().clearTimeout(a),delete Em()[Zm];var o=Em().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Qd(e,"internal-error"))},Qm("".concat(tg,"?").concat(nu({onload:Zm,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Qd(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Em().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function rg(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var ig=function(){function e(){bs(this,e)}return ws(e,[{key:"load",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Jm(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ag="recaptcha",og={theme:"light",type:"image"},sg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},og),r=arguments.length>2?arguments[2]:void 0;bs(this,e),this.parameters=n,this.type=ag,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fp(r),this.isInvisible="invisible"===this.parameters.size,Xd("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Xd(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ig:new ng,this.validateStartingState()}return ws(e,[{key:"verify",value:function(){var e=hu(fu().mark((function e(){var t,n,r,i=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(eB){return Promise.reject(eB)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Xd(!this.parameters.sitekey,this.auth,"argument-error"),Xd(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Xd("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Em()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Xd(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=hu(fu().mark((function e(){var t,n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xd(ih()&&!Cm(),this.auth,"internal-error"),e.next=3,ug();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Km(this.auth);case 8:Xd(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Xd(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ug(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var cg=function(){function e(t,n){bs(this,e),this.verificationId=t,this.onConfirmation=n}return ws(e,[{key:"confirm",value:function(e){var t=$p._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function lg(){return lg=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fp(t),e.next=3,pg(i,n,lu(r));case 3:return a=e.sent,e.abrupt("return",new cg(a,(function(e){return Iv(i,e)})));case 5:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t,n){return dg.apply(this,arguments)}function dg(){return(dg=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lu(t),e.next=3,bv(!1,i,"phone");case 3:return e.next=5,pg(i.auth,n,lu(r));case 5:return a=e.sent,e.abrupt("return",new cg(a,(function(e){return Cv(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hg(){return(hg=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lu(t),e.next=3,pg(i.auth,n,lu(r));case 3:return a=e.sent,e.abrupt("return",new cg(a,(function(e){return Nv(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pg(e,t,n){return vg.apply(this,arguments)}function vg(){return vg=hu(fu().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Xd("string"===typeof a,t,"argument-error"),Xd(r.type===ag,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Xd("enroll"===s.type,t,"internal-error"),e.next=13,dm(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Xd("signin"===s.type,t,"internal-error"),Xd(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Wm(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,qp(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),vg.apply(this,arguments)}function mg(){return(mg=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gv(lu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gg=function(){function e(t){bs(this,e),this.providerId=e.PROVIDER_ID,this.auth=fp(t)}return ws(e,[{key:"verifyPhoneNumber",value:function(e,t){return pg(this.auth,e,lu(t))}}],[{key:"credential",value:function(e,t){return $p._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?$p._fromTokenResponse(n,r):null}}]),e}();function yg(e,t){return t?nh(t):(Xd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}gg.PROVIDER_ID="phone",gg.PHONE_SIGN_IN_METHOD="phone";var bg=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ws(n,[{key:"_getIdTokenResponse",value:function(e){return Up(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Up(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Up(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(mp);function kg(e){return _v(e.auth,new bg(e),e.bypassAuthState)}function wg(e){var t=e.auth,n=e.user;return Xd(n,t,"internal-error"),wv(n,new bg(e),e.bypassAuthState)}function xg(e){return _g.apply(this,arguments)}function _g(){return _g=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Xd(r=t.user,n,"internal-error"),e.abrupt("return",gv(r,new bg(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),_g.apply(this,arguments)}var Sg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];bs(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ws(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=hu(fu().mark((function t(n,r){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=hu(fu().mark((function e(t){var n,r,i,a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kg;case"linkViaPopup":case"linkViaRedirect":return xg;case"reauthViaPopup":case"reauthViaRedirect":return wg;default:Gd(this.auth,"internal-error")}}},{key:"resolve",value:function(e){eh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){eh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ig=new oh(2e3,1e4);function Eg(e,t,n){return Cg.apply(this,arguments)}function Cg(){return Cg=hu(fu().mark((function e(t,n,r){var i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fp(t),Yd(t,n,Xp),a=yg(i,r),o=new Ag(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}function Tg(){return(Tg=hu(fu().mark((function e(t,n,r){var i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yd((i=lu(t)).auth,n,Xp),a=yg(i.auth,r),o=new Ag(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ng(e,t,n){return Og.apply(this,arguments)}function Og(){return(Og=hu(fu().mark((function e(t,n,r){var i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yd((i=lu(t)).auth,n,Xp),a=yg(i.auth,r),o=new Ag(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ag=function(e){Is(n,e);var t=Os(n);function n(e,r,i,a,o){var s;return bs(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_s(s),s}return ws(n,[{key:"executeNotNull",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Xd(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=hu(fu().mark((function e(){var t,n=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eh(1===this.filter.length,"Popup operations only handle one event"),t=Sm(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Qd(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Qd(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Qd(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ig.get())}()}}]),n}(Sg);Ag.currentPopupAction=null;var Pg=new Map,Dg=function(e){Is(n,e);var t=Os(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return bs(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ws(n,[{key:"execute",value:function(){var e=hu(fu().mark((function e(){var t,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Pg.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Lg(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Cd(Es(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Pg.set(this.auth._key(),t);case 21:return this.bypassAuthState||Pg.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=hu(fu().mark((function e(t){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Cd(Es(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Cd(Es(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Sg);function Lg(e,t){return Rg.apply(this,arguments)}function Rg(){return Rg=hu(fu().mark((function e(t,n){var r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ug(n),i=Vg(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}function Mg(e,t){return jg.apply(this,arguments)}function jg(){return jg=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vg(t)._set(Ug(n),"true"));case 1:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Fg(e,t){Pg.set(e._key(),t)}function Vg(e){return nh(e._redirectPersistence)}function Ug(e){return Qh("pendingRedirect",e.config.apiKey,e.name)}function Bg(e,t,n){return function(e,t,n){return zg.apply(this,arguments)}(e,t,n)}function zg(){return zg=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fp(t),Yd(t,n,Xp),a=yg(i,r),e.next=5,Mg(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),zg.apply(this,arguments)}function qg(e,t,n){return function(e,t,n){return Hg.apply(this,arguments)}(e,t,n)}function Hg(){return(Hg=hu(fu().mark((function e(t,n,r){var i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yd((i=lu(t)).auth,n,Xp),a=yg(i.auth,r),e.next=5,Mg(a,i.auth);case 5:return e.next=7,Jg(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wg(e,t,n){return function(e,t,n){return Kg.apply(this,arguments)}(e,t,n)}function Kg(){return(Kg=hu(fu().mark((function e(t,n,r){var i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yd((i=lu(t)).auth,n,Xp),a=yg(i.auth,r),e.next=5,bv(!1,i,n.providerId);case 5:return e.next=7,Mg(a,i.auth);case 7:return e.next=9,Jg(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gg(e,t){return Qg.apply(this,arguments)}function Qg(){return Qg=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fp(t)._initializationPromise;case 2:return e.abrupt("return",$g(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Qg.apply(this,arguments)}function $g(e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=hu(fu().mark((function e(t,n){var r,i,a,o,s,u=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=fp(t),a=yg(i,n),o=new Dg(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function Jg(e){return Xg.apply(this,arguments)}function Xg(){return(Xg=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sm("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zg=function(){function e(t){bs(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ws(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ty(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ty(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Qd(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ey(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ey(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ey(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ty(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ny(e){return ry.apply(this,arguments)}function ry(){return ry=hu(fu().mark((function e(t){var n,r=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",dh(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}var iy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ay=/^https?/;function oy(){return oy=hu(fu().mark((function e(t){var n,r,i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ny(t);case 4:n=e.sent,r=n.authorizedDomains,i=xs(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!sy(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Gd(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),oy.apply(this,arguments)}function sy(e){var t=rh(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ay.test(r))return!1;if(iy.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var uy=new oh(3e4,6e4);function cy(){var e=Em().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=po(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ly=null;function fy(e){return ly=ly||function(e){return new Promise((function(t,n){var r,i,a;function o(){cy(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){cy(),n(Qd(e,"network-request-failed"))},timeout:uy.get()})}if(null===(i=null===(r=Em().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Em().gapi)||void 0===a?void 0:a.load)){var s=$m("iframefcb");return Em()[s]=function(){gapi.load?o():n(Qd(e,"network-request-failed"))},Qm("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ly=null,e}))}(e),ly}var dy=new oh(5e3,15e3),hy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},py=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vy(e){var t=e.config;Xd(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?sh(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:sc},i=py.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(nu(r).slice(1))}function my(e){return gy.apply(this,arguments)}function gy(){return gy=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fy(t);case 2:return n=e.sent,Xd(r=Em().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:vy(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hy,dontclear:!0},(function(e){return new Promise(function(){var n=hu(fu().mark((function n(r,i){var a,o,s;return fu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Em().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Qd(t,"network-request-failed"),o=Em().setTimeout((function(){i(a)}),dy.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),gy.apply(this,arguments)}var yy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},by="_blank",ky="http://localhost",wy=function(){function e(t){bs(this,e),this.window=t,this.associatedEvent=null}return ws(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(eB){}}}]),e}();function xy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},yy),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Us().toLowerCase();n&&(s=Zh(l)?by:n),Jh(l)&&(t=t||ky,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ap(l)&&"_self"!==s)return _y(t||"",s),new wy(null);var d=window.open(t||"",s,f);Xd(d,e,"popup-blocked");try{d.focus()}catch(eB){}return new wy(d)}function _y(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Sy="__/auth/handler",Iy="emulator/auth/handler";function Ey(e,t,n,r,i,a){Xd(e.config.authDomain,e,"auth-domain-config-required"),Xd(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:sc,eventId:i};if(t instanceof Xp){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),f=l[0],d=l[1];o[f]=d}}if(t instanceof Zp){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Sy);return sh(t,Iy)}(e),"?").concat(nu(p).slice(1))}var Cy="webStorageSupport",Ty=function(){function e(){bs(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wm,this._completeRedirectFn=$g,this._overrideRedirectResult=Fg}return ws(e,[{key:"_openPopup",value:function(){var e=hu(fu().mark((function e(t,n,r,i){var a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eh(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ey(t,n,r,rh(),i),e.abrupt("return",xy(t,o,Sm()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=hu(fu().mark((function e(t,n,r,i){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ey(t,n,r,rh(),i),Em().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(eh(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,my(t);case 2:return n=e.sent,r=new Zg(t),n.register("authEvent",(function(e){return Xd(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Cy,{type:Cy},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Gd(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return oy.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return sp()||Xh()||ip()}}]),e}(),Ny=Ty,Oy=function(){function e(t){bs(this,e),this.factorId=t}return ws(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Zd("unexpected MultiFactorSessionType")}}}]),e}(),Ay=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this,"phone")).credential=e,r}return ws(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return dh(e,"POST","/v2/accounts/mfaEnrollment:finalize",fh(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return dh(e,"POST","/v2/accounts/mfaSignIn:finalize",fh(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Oy),Py=function(){function e(){bs(this,e)}return ws(e,null,[{key:"assertion",value:function(e){return Ay._fromCredential(e)}}]),e}();Py.FACTOR_ID="phone";var Dy,Ly="@firebase/auth",Ry="0.20.5",My=function(){function e(t){bs(this,e),this.auth=t,this.internalListeners=new Map}return ws(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Xd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function jy(){return window}Dy="Browser",ec(new pu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Xd(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Xd(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Dy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:up(Dy)},i=new lp(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nh);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ec(new pu("auth-internal",(function(e){return function(e){return new My(e)}(fp(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),hc(Ly,Ry,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Dy)),hc(Ly,Ry,"esm2017");function Fy(e,t,n){return Vy.apply(this,arguments)}function Vy(){return Vy=hu(fu().mark((function e(t,n,r){var i,a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jy(),o=a.BuildInfo,eh(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Wy(n.sessionId);case 4:return s=e.sent,u={},ip()?u.ibi=o.packageName:tp()?u.apn=o.packageName:Gd(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Ey(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function Uy(){return Uy=hu(fu().mark((function e(t){var n,r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jy(),r=n.BuildInfo,i={},ip()?i.iosBundleId=r.packageName:tp()?i.androidPackageName=r.packageName:Gd(t,"operation-not-supported-in-this-environment"),e.next=5,ny(t,i);case 5:case"end":return e.stop()}}),e)}))),Uy.apply(this,arguments)}function By(e){var t=jy().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function zy(e,t,n){return qy.apply(this,arguments)}function qy(){return qy=hu(fu().mark((function e(t,n,r){var i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jy(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Qd(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),tp()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),qy.apply(this,arguments)}function Hy(e){var t,n,r,i,a,o,s,u,c,l,f=jy();Xd("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Xd("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Xd("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xd("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xd("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Wy(e){return Ky.apply(this,arguments)}function Ky(){return(Ky=hu(fu().mark((function e(t){var n,r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gy(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gy(e){if(eh(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Qy=function(e){Is(n,e);var t=Os(n);function n(){var e;return bs(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ws(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Cd(Es(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Zg);function $y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:eb(),postBody:null,tenantId:e.tenantId,error:Qd(e,"no-auth-event")}}function Yy(e,t){return tb()._set(nb(e),t)}function Jy(e){return Xy.apply(this,arguments)}function Xy(){return Xy=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tb()._get(nb(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,tb()._remove(nb(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function Zy(e,t){var n,r,i=function(e){var t=rb(e),n=t.link?decodeURIComponent(t.link):void 0,r=rb(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return rb(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=rb(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(eB){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Qd(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function eb(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function tb(){return nh(bm)}function nb(e){return Qh("authEvent",e.config.apiKey,e.name)}function rb(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Id(e.split("?"));t[0];return ru(t.slice(1).join("?"))}var ib=function(){function e(){bs(this,e),this._redirectPersistence=wm,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$g,this._overrideRedirectResult=Fg}return ws(e,[{key:"_initialize",value:function(){var e=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Qy(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Gd(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=hu(fu().mark((function e(t,n,r,i){var a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hy(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Pg.clear(),e.next=10,this._originValidation(t);case 10:return o=$y(t,r,i),e.next=13,Yy(t,o);case 13:return e.next=15,Fy(t,o,n);case 15:return s=e.sent,e.next=18,By(s);case 18:return u=e.sent,e.abrupt("return",zy(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Uy.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=jy(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(hu(fu().mark((function n(){return fu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Jy(e);case 2:t.onEvent(ob());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=hu(fu().mark((function n(r){var i,a;return fu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Jy(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Zy(i,r.url)),t.onEvent(a||ob());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");jy().handleOpenURL=function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(eB){console.error(eB)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ab=ib;function ob(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qd("no-auth-event")}}function sb(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ub(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return!("file:"!==sb()&&"ionic:"!==sb()&&"capacitor:"!==sb()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function cb(){return Ws()&&11===(null===document||void 0===document?void 0:document.documentMode)}function lb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return/Edge\/\d+/.test(e)}function fb(){try{var e=self.localStorage,t=Sm();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us();return cb()||lb(e)}()||Ks()}catch(eB){return db()&&Ks()}return!1}function db(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function hb(){return("http:"===sb()||"https:"===sb()||qs()||ub())&&!(Hs()||zs())&&fb()&&!db()}function pb(){return ub()&&"undefined"!==typeof document}function vb(){return mb.apply(this,arguments)}function mb(){return(mb=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pb()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gb={LOCAL:"local",NONE:"none",SESSION:"session"},yb=Xd,bb="persistence";function kb(e,t){yb(Object.values(gb).includes(t),e,"invalid-persistence-type"),Hs()?yb(t!==gb.SESSION,e,"unsupported-persistence-type"):zs()?yb(t===gb.NONE,e,"unsupported-persistence-type"):db()?yb(t===gb.NONE||t===gb.LOCAL&&Ks(),e,"unsupported-persistence-type"):yb(t===gb.NONE||fb(),e,"unsupported-persistence-type")}function wb(e){return xb.apply(this,arguments)}function xb(){return xb=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=_b(),r=Qh(bb,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}function _b(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(eB){return null}}var Sb=Xd,Ib=function(){function e(){bs(this,e),this.browserResolver=nh(Ny),this.cordovaResolver=nh(ab),this.underlyingResolver=null,this._redirectPersistence=wm,this._completeRedirectFn=$g,this._overrideRedirectResult=Fg}return ws(e,[{key:"_initialize",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=hu(fu().mark((function e(t,n,r,i){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=hu(fu().mark((function e(t,n,r,i){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return pb()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Sb(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,vb();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Eb(e){return e.unwrap()}function Cb(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Pb(e,function(e,t){var n,r=lu(e),i=t;return Xd(t.customData.operationType,r,"argument-error"),Xd(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),fm._fromError(r,i)}(e,t));else if(i){var a=Tb(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Tb(e){var t=(e instanceof $s?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof $s)&&"temporaryProof"in t&&"phoneNumber"in t)return gg.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Dd)return null;switch(r){case Pd:n=nv;break;case Od:n=tv;break;case Ad:n=rv;break;case Ld:n=ov;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?iv._create(r,s):zp._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new ev(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof $s?n.credentialFromError(e):n.credentialFromResult(e)}function Nb(e,t){return t.catch((function(t){throw t instanceof $s&&Cb(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Tb(t)),additionalUserInfo:cm(e),user:Db.getOrCreate(r)}}))}function Ob(e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Nb(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Ab.apply(this,arguments)}var Pb=function(){function e(t,n){bs(this,e),this.resolver=n,this.auth=t.wrapped()}return ws(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Nb(Eb(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Db=function(){function e(t){bs(this,e),this._delegate=t,this.multiFactor=function(e){var t=lu(e);return vm.has(t)||vm.set(t,pm._fromUser(t)),vm.get(t)}(t)}return ws(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nb(this.auth,Cv(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ob(this.auth,fg(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nb(this.auth,Ng(this._delegate,t,Ib)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wb(fp(this.auth));case 2:return e.abrupt("return",Wg(this._delegate,t,Ib));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nb(this.auth,Nv(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ob(this.auth,function(e,t,n){return hg.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Nb(this.auth,function(e,t,n){return Tg.apply(this,arguments)}(this._delegate,e,Ib))}},{key:"reauthenticateWithRedirect",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wb(fp(this.auth));case 2:return e.abrupt("return",qg(this._delegate,t,Ib));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Yv.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vv(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return tm(lu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return tm(lu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return mg.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return em.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Jv.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Db.USER_MAP=new WeakMap;var Lb=Xd,Rb=function(){function e(t,n){if(bs(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Lb(r,"invalid-api-key",{appName:t.name}),Lb(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ib:void 0;this._delegate=n.initialize({options:{persistence:jb(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(zd),this.linkUnderlyingAuth()}return ws(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Db.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){hp(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Vv.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Uv(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Fv.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nb(this._delegate,qv(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return $v.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Yp.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lb(hb(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Gg(this._delegate,Ib);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Nb(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){fp(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Mb(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Mb(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Wv.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return jv.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kb(this._delegate,t),e.t0=t,e.next=e.t0===gb.SESSION?4:e.t0===gb.LOCAL?6:e.t0===gb.NONE?11:13;break;case 4:return n=wm,e.abrupt("break",14);case 6:return e.next=8,nh(Hm)._isAvailable();case 8:return r=e.sent,n=r?Hm:bm,e.abrupt("break",14);case 11:return n=Gh,e.abrupt("break",14);case 13:return e.abrupt("return",Gd("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Nb(this._delegate,function(e){return fv.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Nb(this._delegate,Iv(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Nb(this._delegate,function(e,t){return Dv.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Nb(this._delegate,function(e,t,n){return Iv(lu(e),Jp.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Nb(this._delegate,function(e,t,n){return Kv.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ob(this._delegate,function(e,t,n){return lg.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lb(hb(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Nb(this._delegate,Eg(this._delegate,t,Ib)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lb(hb(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,wb(this._delegate);case 3:return e.abrupt("return",Bg(this._delegate,t,Ib));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return zv.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Mb(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Db.getOrCreate(e))},error:t,complete:n}}function jb(e,t){var n=function(e,t){var n=_b();if(!n)return[];var r=Qh(bb,e,t);switch(n.getItem(r)){case gb.NONE:return[Gh];case gb.LOCAL:return[Hm,wm];case gb.SESSION:return[wm];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Hm)||n.push(Hm),"undefined"!==typeof window)for(var r=0,i=[bm,wm];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Gh)||n.push(Gh),n}Rb.Persistence=gb;var Fb=function(){function e(){bs(this,e),this.providerId="phone",this._delegate=new gg(Eb(jc.auth()))}return ws(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return gg.credential(e,t)}}]),e}();Fb.PHONE_SIGN_IN_METHOD=gg.PHONE_SIGN_IN_METHOD,Fb.PROVIDER_ID=gg.PROVIDER_ID;var Vb=Xd,Ub=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jc.app();bs(this,e),Vb(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new sg(t,n,i.auth()),this.type=this._delegate.type}return ws(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new pu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Rb(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Rd,PASSWORD_RESET:Md,RECOVER_EMAIL:jd,REVERT_SECOND_FACTOR_ADDITION:Fd,VERIFY_AND_CHANGE_EMAIL:Vd,VERIFY_EMAIL:Ud}},EmailAuthProvider:Jp,FacebookAuthProvider:tv,GithubAuthProvider:rv,GoogleAuthProvider:nv,OAuthProvider:ev,SAMLAuthProvider:av,PhoneAuthProvider:Fb,PhoneMultiFactorGenerator:Py,RecaptchaVerifier:Ub,TwitterAuthProvider:ov,Auth:Rb,AuthCredential:mp,Error:$s}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.18")}(jc);var Bb,zb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},qb={},Hb=Hb||{},Wb=zb||self;function Kb(){}function Gb(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Qb(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $b="closure_uid_"+(1e9*Math.random()>>>0),Yb=0;function Jb(e,t,n){return e.call.apply(e.bind,arguments)}function Xb(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zb(e,t,n){return(Zb=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jb:Xb).apply(null,arguments)}function ek(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function tk(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function nk(){this.s=this.s,this.o=this.o}var rk={};nk.prototype.s=!1,nk.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,$b)&&e[$b]||(e[$b]=++Yb)}(this);delete rk[e]}},nk.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ik=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ak=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ok(e){return Array.prototype.concat.apply([],arguments)}function sk(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function uk(e){return/^[\s\xa0]*$/.test(e)}var ck,lk=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function fk(e,t){return-1!=e.indexOf(t)}function dk(e,t){return e<t?-1:e>t?1:0}e:{var hk=Wb.navigator;if(hk){var pk=hk.userAgent;if(pk){ck=pk;break e}}ck=""}function vk(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function mk(e){var t={};for(var n in e)t[n]=e[n];return t}var gk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yk(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<gk.length;a++)n=gk[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bk(e){return bk[" "](e),e}bk[" "]=Kb;var kk,wk=fk(ck,"Opera"),xk=fk(ck,"Trident")||fk(ck,"MSIE"),_k=fk(ck,"Edge"),Sk=_k||xk,Ik=fk(ck,"Gecko")&&!(fk(ck.toLowerCase(),"webkit")&&!fk(ck,"Edge"))&&!(fk(ck,"Trident")||fk(ck,"MSIE"))&&!fk(ck,"Edge"),Ek=fk(ck.toLowerCase(),"webkit")&&!fk(ck,"Edge");function Ck(){var e=Wb.document;return e?e.documentMode:void 0}e:{var Tk="",Nk=function(){var e=ck;return Ik?/rv:([^\);]+)(\)|;)/.exec(e):_k?/Edge\/([\d\.]+)/.exec(e):xk?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ek?/WebKit\/(\S+)/.exec(e):wk?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Nk&&(Tk=Nk?Nk[1]:""),xk){var Ok=Ck();if(null!=Ok&&Ok>parseFloat(Tk)){kk=String(Ok);break e}}kk=Tk}var Ak,Pk={};function Dk(){return function(e){var t=Pk;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=lk(String(kk)).split("."),n=lk("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=dk(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||dk(0==a[2].length,0==o[2].length)||dk(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Wb.document&&xk){var Lk=Ck();Ak=Lk||(parseInt(kk,10)||void 0)}else Ak=void 0;var Rk=Ak,Mk=function(){if(!Wb.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Wb.addEventListener("test",Kb,t),Wb.removeEventListener("test",Kb,t)}catch(n){}return e}();function jk(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Fk(e,t){if(jk.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ik){e:{try{bk(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Vk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fk.Z.h.call(this)}}jk.prototype.h=function(){this.defaultPrevented=!0},tk(Fk,jk);var Vk={2:"touch",3:"pen",4:"mouse"};Fk.prototype.h=function(){Fk.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Uk="closure_listenable_"+(1e6*Math.random()|0),Bk=0;function zk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Bk,this.ca=this.fa=!1}function qk(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Hk(e){this.src=e,this.g={},this.h=0}function Wk(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ik(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(qk(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Kk(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Hk.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Kk(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new zk(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Gk="closure_lm_"+(1e6*Math.random()|0),Qk={};function $k(e,t,n,r,i){if(r&&r.once)return Jk(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)$k(e,t[a],n,r,i);return null}return n=iw(n),e&&e[Uk]?e.N(t,n,Qb(r)?!!r.capture:!!r,i):Yk(e,t,n,!1,r,i)}function Yk(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Qb(i)?!!i.capture:!!i,s=nw(e);if(s||(e[Gk]=s=new Hk(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=tw;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mk||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ew(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Jk(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Jk(e,t[a],n,r,i);return null}return n=iw(n),e&&e[Uk]?e.O(t,n,Qb(r)?!!r.capture:!!r,i):Yk(e,t,n,!0,r,i)}function Xk(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Xk(e,t[a],n,r,i);else r=Qb(r)?!!r.capture:!!r,n=iw(n),e&&e[Uk]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Kk(a=e.g[t],n,r,i))&&(qk(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=nw(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Kk(t,n,r,i)),(n=-1<e?t[e]:null)&&Zk(n))}function Zk(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Uk])Wk(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ew(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nw(t))?(Wk(n,e),0==n.h&&(n.src=null,t[Gk]=null)):qk(e)}}}function ew(e){return e in Qk?Qk[e]:Qk[e]="on"+e}function tw(e,t){if(e.ca)e=!0;else{t=new Fk(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zk(e),e=n.call(r,t)}return e}function nw(e){return(e=e[Gk])instanceof Hk?e:null}var rw="__closure_events_fn_"+(1e9*Math.random()>>>0);function iw(e){return"function"===typeof e?e:(e[rw]||(e[rw]=function(t){return e.handleEvent(t)}),e[rw])}function aw(){nk.call(this),this.i=new Hk(this),this.P=this,this.I=null}function ow(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new jk(t,e);else if(t instanceof jk)t.target=t.target||e;else{var i=t;yk(t=new jk(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=sw(o,r,!0,t)&&i}if(i=sw(o=t.g=e,r,!0,t)&&i,i=sw(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=sw(o=t.g=n[a],r,!1,t)&&i}function sw(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Wk(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}tk(aw,nk),aw.prototype[Uk]=!0,aw.prototype.removeEventListener=function(e,t,n,r){Xk(this,e,t,n,r)},aw.prototype.M=function(){if(aw.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qk(n[r]);delete t.g[e],t.h--}}this.I=null},aw.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},aw.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var uw=Wb.JSON.stringify;function cw(){var e=gw,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var lw,fw=function(){function e(){bs(this,e),this.h=this.g=null}return ws(e,[{key:"add",value:function(e,t){var n=dw.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),dw=new(function(){function e(t,n){bs(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ws(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new hw}),(function(e){return e.reset()})),hw=function(){function e(){bs(this,e),this.next=this.g=this.h=null}return ws(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function pw(e){Wb.setTimeout((function(){throw e}),0)}function vw(e,t){lw||function(){var e=Wb.Promise.resolve(void 0);lw=function(){e.then(yw)}}(),mw||(lw(),mw=!0),gw.add(e,t)}var mw=!1,gw=new fw;function yw(){for(var e;e=cw();){try{e.h.call(e.g)}catch(n){pw(n)}var t=dw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}mw=!1}function bw(e,t){aw.call(this),this.h=e||1,this.g=t||Wb,this.j=Zb(this.kb,this),this.l=Date.now()}function kw(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ww(e,t,n){if("function"===typeof e)n&&(e=Zb(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zb(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wb.setTimeout(e,t||0)}function xw(e){e.g=ww((function(){e.g=null,e.i&&(e.i=!1,xw(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}tk(bw,aw),(Bb=bw.prototype).da=!1,Bb.S=null,Bb.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ow(this,"tick"),this.da&&(kw(this),this.start()))}},Bb.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Bb.M=function(){bw.Z.M.call(this),kw(this),delete this.g};var _w=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ws(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:xw(this)}},{key:"M",value:function(){Cd(Es(n.prototype),"M",this).call(this),this.g&&(Wb.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(nk);function Sw(e){nk.call(this),this.h=e,this.g={}}tk(Sw,nk);var Iw=[];function Ew(e,t,n,r){Array.isArray(n)||(n&&(Iw[0]=n.toString()),n=Iw);for(var i=0;i<n.length;i++){var a=$k(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Cw(e){vk(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zk(e)}),e),e.g={}}function Tw(){this.g=!0}function Nw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return uw(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Sw.prototype.M=function(){Sw.Z.M.call(this),Cw(this)},Sw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tw.prototype.Aa=function(){this.g=!1},Tw.prototype.info=function(){};var Ow={},Aw=null;function Pw(){return Aw=Aw||new aw}function Dw(e){jk.call(this,Ow.Ma,e)}function Lw(e){var t=Pw();ow(t,new Dw(t,e))}function Rw(e,t){jk.call(this,Ow.STAT_EVENT,e),this.stat=t}function Mw(e){var t=Pw();ow(t,new Rw(t,e))}function jw(e,t){jk.call(this,Ow.Na,e),this.size=t}function Fw(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Wb.setTimeout((function(){e()}),t)}Ow.Ma="serverreachability",tk(Dw,jk),Ow.STAT_EVENT="statevent",tk(Rw,jk),Ow.Na="timingevent",tk(jw,jk);var Vw={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Uw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Bw(){}function zw(e){return e.h||(e.h=e.i())}function qw(){}Bw.prototype.h=null;var Hw,Ww={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Kw(){jk.call(this,"d")}function Gw(){jk.call(this,"c")}function Qw(){}function $w(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Sw(this),this.P=Jw,e=Sk?125:void 0,this.W=new bw(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Yw}function Yw(){this.i=null,this.g="",this.h=!1}tk(Kw,jk),tk(Gw,jk),tk(Qw,Bw),Qw.prototype.g=function(){return new XMLHttpRequest},Qw.prototype.i=function(){return{}},Hw=new Qw;var Jw=45e3,Xw={},Zw={};function ex(e,t,n){e.K=1,e.v=_x(gx(t)),e.s=n,e.U=!0,tx(e,null)}function tx(e,t){e.F=Date.now(),ax(e),e.A=gx(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Mx(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Yw,e.g=F_(e.l,n?t:null,!e.s),0<e.O&&(e.L=new _w(Zb(e.Ia,e,e.g),e.O)),Ew(e.V,e.g,"readystatechange",e.gb),t=e.H?mk(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Lw(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function nx(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function rx(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ix(e,n))==Zw){4==t&&(e.o=4,Mw(14),i=!1),Nw(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xw){e.o=4,Mw(15),Nw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Nw(e.j,e.m,r,null),lx(e,r)}nx(e)&&r!=Zw&&r!=Xw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Mw(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),O_(t),t.L=!0,Mw(11))):(Nw(e.j,e.m,n,"[Invalid Chunked Response]"),cx(e),ux(e))}function ix(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zw:(n=Number(t.substring(n,r)),isNaN(n)?Xw:(r+=1)+n>t.length?Zw:(t=t.substr(r,n),e.C=r+n,t))}function ax(e){e.Y=Date.now()+e.P,ox(e,e.P)}function ox(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fw(Zb(e.eb,e),t)}function sx(e){e.B&&(Wb.clearTimeout(e.B),e.B=null)}function ux(e){0==e.l.G||e.I||D_(e.l,e)}function cx(e){sx(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,kw(e.W),Cw(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function lx(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Hx(n.i,e)))if(n.I=e.N,!e.J&&Hx(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;P_(n),w_(n)}N_(n),Mw(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fw(Zb(n.ab,n),6e3));if(1>=qx(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else R_(n,11)}else if((e.J||n.g==e)&&P_(n),!uk(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(fk(l,"spdy")||fk(l,"quic")||fk(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Wx(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,xx(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=j_(r,r.H?r.la:null,r.W),h.J){Kx(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(sx(p),ax(p)),r.g=h}else T_(r);0<n.l.length&&S_(n)}else"stop"!=a[0]&&"close"!=a[0]||R_(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?R_(n,7):k_(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Lw(4)}catch(a){}}function fx(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Gb(e)||"string"===typeof e)ak(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Gb(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Gb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function dx(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof dx)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function hx(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];px(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)px(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function px(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Bb=$w.prototype).setTimeout=function(e){this.P=e},Bb.gb=function(e){e=e.target;var t=this.L;t&&3==v_(e)?t.l():this.Ia(e)},Bb.Ia=function(e){try{if(e==this.g)e:{var t=v_(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Sk||this.g&&(this.h.h||this.g.ga()||m_(this.g)))){this.I||4!=t||7==n||Lw(8==n||0>=r?3:2),sx(this);var i=this.g.ba();this.N=i;t:if(nx(this)){var a=m_(this.g);e="";var o=a.length,s=4==v_(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){cx(this),ux(this);var u="";break t}this.h.i=new Wb.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uk(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Mw(12),cx(this),ux(this);break e}Nw(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lx(this,i)}this.U?(rx(this,t,u),Sk&&this.i&&3==t&&(Ew(this.V,this.W,"tick",this.fb),this.W.start())):(Nw(this.j,this.m,u,null),lx(this,u)),4==t&&cx(this),this.i&&!this.I&&(4==t?D_(this.l,this):(this.i=!1,ax(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Mw(12)):(this.o=0,Mw(13)),cx(this),ux(this)}}}catch(t){}},Bb.fb=function(){if(this.g){var e=v_(this.g),t=this.g.ga();this.C<t.length&&(sx(this),rx(this,e,t),this.i&&4!=e&&ax(this))}},Bb.cancel=function(){this.I=!0,cx(this)},Bb.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Lw(3),Mw(17)),cx(this),this.o=2,ux(this)):ox(this,this.Y-e)},(Bb=dx.prototype).R=function(){hx(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Bb.T=function(){return hx(this),this.g.concat()},Bb.get=function(e,t){return px(this.h,e)?this.h[e]:t},Bb.set=function(e,t){px(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Bb.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var vx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mx(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof mx){this.g=void 0!==t?t:e.g,yx(this,e.j),this.s=e.s,bx(this,e.i),kx(this,e.m),this.l=e.l,t=e.h;var n=new Px;n.i=t.i,t.g&&(n.g=new dx(t.g),n.h=t.h),wx(this,n),this.o=e.o}else e&&(n=String(e).match(vx))?(this.g=!!t,yx(this,n[1]||"",!0),this.s=Sx(n[2]||""),bx(this,n[3]||"",!0),kx(this,n[4]),this.l=Sx(n[5]||"",!0),wx(this,n[6]||"",!0),this.o=Sx(n[7]||"")):(this.g=!!t,this.h=new Px(null,this.g))}function gx(e){return new mx(e)}function yx(e,t,n){e.j=n?Sx(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bx(e,t,n){e.i=n?Sx(t,!0):t}function kx(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wx(e,t,n){t instanceof Px?(e.h=t,function(e,t){t&&!e.j&&(Dx(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lx(this,t),Mx(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ix(t,Ox)),e.h=new Px(t,e.g))}function xx(e,t,n){e.h.set(t,n)}function _x(e){return xx(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sx(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ix(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ex),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ex(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mx.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ix(t,Cx,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ix(t,Cx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ix(n,"/"==n.charAt(0)?Nx:Tx,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ix(n,Ax)),e.join("")};var Cx=/[#\/\?@]/g,Tx=/[#\?:]/g,Nx=/[#\?]/g,Ox=/[#\?@]/g,Ax=/#/g;function Px(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dx(e){e.g||(e.g=new dx,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lx(e,t){Dx(e),t=jx(e,t),px(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,px((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&hx(e)))}function Rx(e,t){return Dx(e),t=jx(e,t),px(e.g.h,t)}function Mx(e,t,n){Lx(e,t),0<n.length&&(e.i=null,e.g.set(jx(e,t),sk(n)),e.h+=n.length)}function jx(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Bb=Px.prototype).add=function(e,t){Dx(this),this.i=null,e=jx(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Bb.forEach=function(e,t){Dx(this),this.g.forEach((function(n,r){ak(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Bb.T=function(){Dx(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Bb.R=function(e){Dx(this);var t=[];if("string"===typeof e)Rx(this,e)&&(t=ok(t,this.g.get(jx(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ok(t,e[n])}return t},Bb.set=function(e,t){return Dx(this),this.i=null,Rx(this,e=jx(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Bb.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Bb.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Fx=ws((function e(t,n){bs(this,e),this.h=t,this.g=n}));function Vx(e){this.l=e||Bx,Wb.PerformanceNavigationTiming?e=0<(e=Wb.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wb.g&&Wb.g.Ea&&Wb.g.Ea()&&Wb.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ux,Bx=10;function zx(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qx(e){return e.h?1:e.g?e.g.size:0}function Hx(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wx(e,t){e.g?e.g.add(t):e.h=t}function Kx(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gx(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=xs(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return sk(e.i)}function Qx(){}function $x(){this.g=new Qx}function Yx(e,t,n){var r=n||"";try{fx(e,(function(e,n){var i=e;Qb(e)&&(i=uw(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(eB){throw t.push(r+"type="+encodeURIComponent("_badmap")),eB}}function Jx(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Xx(e){this.l=e.$b||null,this.j=e.ib||!1}function Zx(e,t){aw.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=e_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vx.prototype.cancel=function(){if(this.i=Gx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=xs(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Qx.prototype.stringify=function(e){return Wb.JSON.stringify(e,void 0)},Qx.prototype.parse=function(e){return Wb.JSON.parse(e,void 0)},tk(Xx,Bw),Xx.prototype.g=function(){return new Zx(this.l,this.j)},Xx.prototype.i=(Ux={},function(){return Ux}),tk(Zx,aw);var e_=0;function t_(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function n_(e){e.readyState=4,e.l=null,e.j=null,e.A=null,r_(e)}function r_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Bb=Zx.prototype).open=function(e,t){if(this.readyState!=e_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,r_(this)},Bb.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Wb).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Bb.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,n_(this)),this.readyState=e_},Bb.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,r_(this)),this.g&&(this.readyState=3,r_(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Wb.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;t_(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Bb.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?n_(this):r_(this),3==this.readyState&&t_(this)}},Bb.Ua=function(e){this.g&&(this.response=this.responseText=e,n_(this))},Bb.Ta=function(e){this.g&&(this.response=e,n_(this))},Bb.ha=function(){this.g&&n_(this)},Bb.setRequestHeader=function(e,t){this.v.append(e,t)},Bb.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Bb.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var i_=Wb.JSON.parse;function a_(e){aw.call(this),this.headers=new dx,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=o_,this.K=this.L=!1}tk(a_,aw);var o_="",s_=/^https?$/i,u_=["POST","PUT"];function c_(e){return"content-type"==e.toLowerCase()}function l_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,f_(e),h_(e)}function f_(e){e.D||(e.D=!0,ow(e,"complete"),ow(e,"error"))}function d_(e){if(e.h&&"undefined"!=typeof Hb&&(!e.C[1]||4!=v_(e)||2!=e.ba()))if(e.v&&4==v_(e))ww(e.Fa,0,e);else if(ow(e,"readystatechange"),4==v_(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(vx)[1]||null;if(!a&&Wb.self&&Wb.self.location){var o=Wb.self.location.protocol;a=o.substr(0,o.length-1)}i=!s_.test(a?a.toLowerCase():"")}t=i}if(t)ow(e,"complete"),ow(e,"success");else{e.m=6;try{var s=2<v_(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",f_(e)}}finally{h_(e)}}}function h_(e,t){if(e.g){p_(e);var n=e.g,r=e.C[0]?Kb:null;e.g=null,e.C=null,t||ow(e,"ready");try{n.onreadystatechange=r}catch(eB){}}}function p_(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Wb.clearTimeout(e.A),e.A=null)}function v_(e){return e.g?e.g.readyState:0}function m_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case o_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function g_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return vk(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xx(e,t,n))}function y_(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function b_(e){this.za=0,this.l=[],this.h=new Tw,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=y_("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=y_("baseRetryDelayMs",5e3,e),this.$a=y_("retryDelaySeedMs",1e4,e),this.Ya=y_("forwardChannelMaxRetries",2,e),this.ra=y_("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Vx(e&&e.concurrentRequestLimit),this.Ca=new $x,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function k_(e){if(x_(e),3==e.G){var t=e.V++,n=gx(e.F);xx(n,"SID",e.J),xx(n,"RID",t),xx(n,"TYPE","terminate"),E_(e,n),(t=new $w(e,e.h,t,void 0)).K=2,t.v=_x(gx(n)),n=!1,Wb.navigator&&Wb.navigator.sendBeacon&&(n=Wb.navigator.sendBeacon(t.v.toString(),"")),!n&&Wb.Image&&((new Image).src=t.v,n=!0),n||(t.g=F_(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ax(t)}M_(e)}function w_(e){e.g&&(O_(e),e.g.cancel(),e.g=null)}function x_(e){w_(e),e.u&&(Wb.clearTimeout(e.u),e.u=null),P_(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Wb.clearTimeout(e.m),e.m=null)}function __(e,t){e.l.push(new Fx(e.Za++,t)),3==e.G&&S_(e)}function S_(e){zx(e.i)||e.m||(e.m=!0,vw(e.Ha,e),e.C=0)}function I_(e,t){var n;n=t?t.m:e.V++;var r=gx(e.F);xx(r,"SID",e.J),xx(r,"RID",n),xx(r,"AID",e.U),E_(e,r),e.o&&e.s&&g_(r,e.o,e.s),n=new $w(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=C_(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Wx(e.i,n),ex(n,r,t)}function E_(e,t){e.j&&fx({},(function(e,n){xx(t,n,e)}))}function C_(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zb(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Yx(l,o,"req"+c+"_")}catch(dS){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function T_(e){e.g||e.u||(e.Y=1,vw(e.Ga,e),e.A=0)}function N_(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Fw(Zb(e.Ga,e),L_(e,e.A)),e.A++,!0)}function O_(e){null!=e.B&&(Wb.clearTimeout(e.B),e.B=null)}function A_(e){e.g=new $w(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=gx(e.oa);xx(t,"RID","rpc"),xx(t,"SID",e.J),xx(t,"CI",e.N?"0":"1"),xx(t,"AID",e.U),E_(e,t),xx(t,"TYPE","xmlhttp"),e.o&&e.s&&g_(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=_x(gx(t)),n.s=null,n.U=!0,tx(n,e)}function P_(e){null!=e.v&&(Wb.clearTimeout(e.v),e.v=null)}function D_(e,t){var n=null;if(e.g==t){P_(e),O_(e),e.g=null;var r=2}else{if(!Hx(e.i,t))return;n=t.D,Kx(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ow(r=Pw(),new jw(r,n,t,i)),S_(e)}else T_(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(qx(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Fw(Zb(e.Ha,e,t),L_(e,e.C)),e.C++,!0))}(e,t)||2==r&&N_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:R_(e,5);break;case 4:R_(e,10);break;case 3:R_(e,6);break;default:R_(e,2)}}function L_(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function R_(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Zb(e.jb,e);n||(n=new mx("//www.google.com/images/cleardot.gif"),Wb.location&&"http"==Wb.location.protocol||yx(n,"https"),_x(n)),function(e,t){var n=new Tw;if(Wb.Image){var r=new Image;r.onload=ek(Jx,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ek(Jx,n,r,"TestLoadImage: error",!1,t),r.onabort=ek(Jx,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ek(Jx,n,r,"TestLoadImage: timeout",!1,t),Wb.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Mw(2);e.G=0,e.j&&e.j.va(t),M_(e),x_(e)}function M_(e){e.G=0,e.I=-1,e.j&&(0==Gx(e.i).length&&0==e.l.length||(e.i.i.length=0,sk(e.l),e.l.length=0),e.j.ua())}function j_(e,t,n){var r=function(e){return e instanceof mx?gx(e):new mx(e,void 0)}(n);if(""!=r.i)t&&bx(r,t+"."+r.i),kx(r,r.m);else{var i=Wb.location;r=function(e,t,n,r){var i=new mx(null,void 0);return e&&yx(i,e),t&&bx(i,t),n&&kx(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&vk(e.aa,(function(e,t){xx(r,t,e)})),t=e.D,n=e.sa,t&&n&&xx(r,t,n),xx(r,"VER",e.ma),E_(e,r),r}function F_(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new a_(new Xx({ib:!0})):new a_(e.qa)).L=e.H,t}function V_(){}function U_(){if(xk&&!(10<=Number(Rk)))throw Error("Environmental error: no available transport.")}function B_(e,t){aw.call(this),this.g=new b_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!uk(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!uk(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new H_(this)}function z_(e){Kw.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function q_(){Gw.call(this),this.status=1}function H_(e){this.g=e}(Bb=a_.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hw.g(),this.C=this.u?zw(this.u):zw(Hw),this.g.onreadystatechange=Zb(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void l_(this,a)}e=n||"";var i=new dx(this.headers);r&&fx(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=c_,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Wb.FormData&&e instanceof Wb.FormData,!(0<=ik(u_,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{p_(this),0<this.B&&((this.K=function(e){return xk&&Dk()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zb(this.pa,this)):this.A=ww(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){l_(this,a)}},Bb.pa=function(){"undefined"!=typeof Hb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ow(this,"timeout"),this.abort(8))},Bb.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ow(this,"complete"),ow(this,"abort"),h_(this))},Bb.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),h_(this,!0)),a_.Z.M.call(this)},Bb.Fa=function(){this.s||(this.F||this.v||this.l?d_(this):this.cb())},Bb.cb=function(){d_(this)},Bb.ba=function(){try{return 2<v_(this)?this.g.status:-1}catch(Ux){return-1}},Bb.ga=function(){try{return this.g?this.g.responseText:""}catch(Ux){return""}},Bb.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),i_(t)}},Bb.Da=function(){return this.m},Bb.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Bb=b_.prototype).ma=8,Bb.G=1,Bb.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Bb.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new $w(this,this.h,e,void 0),n=this.s;if(this.P&&(n?yk(n=mk(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=C_(this,t,r),xx(i=gx(this.F),"RID",e),xx(i,"CVER",22),this.D&&xx(i,"X-HTTP-Session-Id",this.D),E_(this,i),this.o&&n&&g_(i,this.o,n),Wx(this.i,t),this.Ra&&xx(i,"TYPE","init"),this.ja?(xx(i,"$req",r),xx(i,"SID","null"),t.$=!0,ex(t,i,null)):ex(t,i,r),this.G=2}}else 3==this.G&&(e?I_(this,e):0==this.l.length||zx(this.i)||I_(this))},Bb.Ga=function(){if(this.u=null,A_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Fw(Zb(this.bb,this),e)}},Bb.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mw(10),w_(this),A_(this))},Bb.ab=function(){null!=this.v&&(this.v=null,w_(this),N_(this),Mw(19))},Bb.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Mw(2)):(this.h.info("Failed to ping google.com"),Mw(1))},(Bb=V_.prototype).xa=function(){},Bb.wa=function(){},Bb.va=function(){},Bb.ua=function(){},Bb.Oa=function(){},U_.prototype.g=function(e,t){return new B_(e,t)},tk(B_,aw),B_.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),vw(Zb(e.hb,e,t))),Mw(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=j_(e,null,e.W),S_(e)},B_.prototype.close=function(){k_(this.g)},B_.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,__(this.g,t)}else this.v?((t={}).__data__=uw(e),__(this.g,t)):__(this.g,e)},B_.prototype.M=function(){this.g.j=null,delete this.j,k_(this.g),delete this.g,B_.Z.M.call(this)},tk(z_,Kw),tk(q_,Gw),tk(H_,V_),H_.prototype.xa=function(){ow(this.g,"a")},H_.prototype.wa=function(e){ow(this.g,new z_(e))},H_.prototype.va=function(e){ow(this.g,new q_(e))},H_.prototype.ua=function(){ow(this.g,"b")},U_.prototype.createWebChannel=U_.prototype.g,B_.prototype.send=B_.prototype.u,B_.prototype.open=B_.prototype.m,B_.prototype.close=B_.prototype.close,Vw.NO_ERROR=0,Vw.TIMEOUT=8,Vw.HTTP_ERROR=6,Uw.COMPLETE="complete",qw.EventType=Ww,Ww.OPEN="a",Ww.CLOSE="b",Ww.ERROR="c",Ww.MESSAGE="d",aw.prototype.listen=aw.prototype.N,a_.prototype.listenOnce=a_.prototype.O,a_.prototype.getLastError=a_.prototype.La,a_.prototype.getLastErrorCode=a_.prototype.Da,a_.prototype.getStatus=a_.prototype.ba,a_.prototype.getResponseJson=a_.prototype.Qa,a_.prototype.getResponseText=a_.prototype.ga,a_.prototype.send=a_.prototype.ea;var W_=qb.createWebChannelTransport=function(){return new U_},K_=qb.getStatEventTarget=function(){return Pw()},G_=qb.ErrorCode=Vw,Q_=qb.EventType=Uw,$_=qb.Event=Ow,Y_=qb.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},J_=qb.FetchXmlHttpFactory=Xx,X_=qb.WebChannel=qw,Z_=qb.XhrIo=a_,eS="@firebase/firestore",tS=function(){function e(t){bs(this,e),this.uid=t}return ws(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();tS.UNAUTHENTICATED=new tS(null),tS.GOOGLE_CREDENTIALS=new tS("google-credentials-uid"),tS.FIRST_PARTY=new tS("first-party-uid"),tS.MOCK_USER=new tS("mock-user");var nS="9.9.2",rS=new Iu("@firebase/firestore");function iS(){return rS.logLevel}function aS(e){if(rS.logLevel<=yu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(uS);rS.debug.apply(rS,["Firestore (".concat(nS,"): ").concat(e)].concat(po(i)))}}function oS(e){if(rS.logLevel<=yu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(uS);rS.error.apply(rS,["Firestore (".concat(nS,"): ").concat(e)].concat(po(i)))}}function sS(e){if(rS.logLevel<=yu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(uS);rS.warn.apply(rS,["Firestore (".concat(nS,"): ").concat(e)].concat(po(i)))}}function uS(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function cS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(nS,") INTERNAL ASSERTION FAILED: ")+e;throw oS(t),new Error(t)}function lS(e,t){e||cS()}function fS(e,t){return e}var dS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hS=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ws(n)}($s),pS=ws((function e(){var t=this;bs(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vS=ws((function e(t,n){bs(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),mS=function(){function e(){bs(this,e)}return ws(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tS.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),gS=function(){function e(t){bs(this,e),this.token=t,this.changeListener=null}return ws(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),yS=function(){function e(t){bs(this,e),this.t=t,this.currentUser=tS.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ws(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new pS;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new pS,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){aS("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(aS("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new pS)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(aS("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(lS("string"==typeof n.accessToken),new vS(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return lS(null===e||"string"==typeof e),new tS(e)}}]),e}(),bS=ws((function e(t,n,r){bs(this,e),this.type="FirstParty",this.user=tS.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),kS=function(){function e(t,n,r){bs(this,e),this.h=t,this.l=n,this.m=r}return ws(e,[{key:"getToken",value:function(){return Promise.resolve(new bS(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tS.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),wS=ws((function e(t){bs(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),xS=function(){function e(t){bs(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ws(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&aS("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,aS("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){aS("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):aS("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(lS("string"==typeof t.token),e.p=t.token,new wS(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function _S(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var SS=function(){function e(){bs(this,e)}return ws(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=_S(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function IS(e,t){return e<t?-1:e>t?1:0}function ES(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function CS(e){return e+"\0"}var TS=function(){function e(t,n){if(bs(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new hS(dS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new hS(dS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new hS(dS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new hS(dS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ws(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?IS(this.nanoseconds,e.nanoseconds):IS(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),NS=function(){function e(t){bs(this,e),this.timestamp=t}return ws(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new TS(0,0))}},{key:"max",value:function(){return new e(new TS(253402300799,999999999))}}]),e}(),OS=function(){function e(t,n,r){bs(this,e),void 0===n?n=0:n>t.length&&cS(),void 0===r?r=t.length-n:r>t.length-n&&cS(),this.segments=t,this.offset=n,this.len=r}return ws(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),AS=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.apply(this,arguments)}return ws(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new hS(dS.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,po(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(OS),PS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,DS=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.apply(this,arguments)}return ws(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return PS.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new hS(dS.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new hS(dS.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new hS(dS.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new hS(dS.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(OS),LS=function(){function e(t){bs(this,e),this.path=t}return ws(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===AS.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(AS.fromString(t))}},{key:"fromName",value:function(t){return new e(AS.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(AS.emptyPath())}},{key:"comparator",value:function(e,t){return AS.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new AS(t.slice()))}}]),e}(),RS=ws((function e(t,n,r,i){bs(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function MS(e){return e.fields.find((function(e){return 2===e.kind}))}function jS(e){return e.fields.filter((function(e){return 2!==e.kind}))}RS.UNKNOWN_ID=-1;var FS=ws((function e(t,n){bs(this,e),this.fieldPath=t,this.kind=n}));var VS=function(){function e(t,n){bs(this,e),this.sequenceNumber=t,this.offset=n}return ws(e,null,[{key:"empty",value:function(){return new e(0,zS.min())}}]),e}();function US(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=NS.fromTimestamp(1e9===r?new TS(n+1,0):new TS(n,r));return new zS(i,LS.empty(),t)}function BS(e){return new zS(e.readTime,e.key,-1)}var zS=function(){function e(t,n,r){bs(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ws(e,null,[{key:"min",value:function(){return new e(NS.min(),LS.empty(),-1)}},{key:"max",value:function(){return new e(NS.max(),LS.empty(),-1)}}]),e}();function qS(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=LS.comparator(e.documentKey,t.documentKey))?n:IS(e.largestBatchId,t.largestBatchId)}var HS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",WS=function(){function e(){bs(this,e),this.onCommittedListeners=[]}return ws(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function KS(e){return GS.apply(this,arguments)}function GS(){return GS=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===dS.FAILED_PRECONDITION&&t.message===HS){e.next=2;break}throw t;case 2:aS("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}var QS=function(){function e(t){var n=this;bs(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ws(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&cS(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=xs(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),$S=function(){function e(t,n){var r=this;bs(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new pS,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new XS(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=rI(e.target.error);r.T.reject(new XS(t,n))}}return ws(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(aS("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new eI(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new XS(n,t)}}}]),e}(),YS=function(){function e(t,n,r){bs(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Us())&&oS("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ws(e,[{key:"k",value:function(){var e=hu(fu().mark((function e(t){var n=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return aS("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new XS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new hS(dS.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new hS(dS.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new XS(t,n))},i.onupgradeneeded=function(e){aS("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.M(t,i.transaction,e.oldVersion,n.version).next((function(){aS("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.O&&(this.db.onversionchange=function(e){return n.O(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.O=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=hu(fu().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(fu().mark((function e(){var n,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=$S.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),QS.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,aS("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return aS("SimpleDb","Removing database:",e),tI(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Ks())return!1;if(e.S())return!0;var t=Us(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),JS=function(){function e(t){bs(this,e),this.$=t,this.B=!1,this.L=null}return ws(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return tI(this.$.delete())}}]),e}(),XS=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,dS.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ws(n)}(hS);function ZS(e){return"IndexedDbTransactionError"===e.name}var eI=function(){function e(t){bs(this,e),this.store=t}return ws(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(aS("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(aS("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tI(n)}},{key:"add",value:function(e){return aS("SimpleDb","ADD",this.store.name,e,e),tI(this.store.add(e))}},{key:"get",value:function(e){var t=this;return tI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),aS("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return aS("SimpleDb","DELETE",this.store.name,e),tI(this.store.delete(e))}},{key:"count",value:function(){return aS("SimpleDb","COUNT",this.store.name),tI(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new QS((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new QS((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){aS("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new QS((function(n,r){t.onerror=function(e){var t=rI(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new QS((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new JS(i),o=t(i.primaryKey,i.value,a);if(o instanceof QS){var s=o.catch((function(e){return a.done(),QS.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return QS.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function tI(e){return new QS((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=rI(e.target.error);n(t)}}))}var nI=!1;function rI(e){var t=YS.v(Us());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new hS("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return nI||(nI=!0,setTimeout((function(){throw r}),0)),r}}return e}var iI=function(){function e(t,n){bs(this,e),this.asyncQueue=t,this.X=n,this.task=null}return ws(e,[{key:"start",value:function(){this.Z(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;aS("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=aS,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ZS(e.t4)){e.next=17;break}aS("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,KS(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),aI=function(){function e(t,n){bs(this,e),this.localStore=t,this.persistence=n}return ws(e,[{key:"tt",value:function(){var e=hu(fu().mark((function e(){var t,n=this,r=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return QS.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return aS("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return aS("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=BS(t);qS(r,n)>0&&(n=r)})),new zS(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),oI=function(){function e(t,n){var r=this;bs(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return ws(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function sI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function uI(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cI(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}oI.ot=-1;var lI=function(){function e(t,n){bs(this,e),this.comparator=t,this.root=n||dI.EMPTY}return ws(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,dI.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dI.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new fI(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new fI(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new fI(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new fI(this.root,e,this.comparator,!0)}}]),e}(),fI=function(){function e(t,n,r,i){bs(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ws(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),dI=function(){function e(t,n,r,i,a){bs(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ws(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw cS();if(this.right.isRed())throw cS();var e=this.left.check();if(e!==this.right.check())throw cS();return e+(this.isRed()?0:1)}}]),e}();dI.EMPTY=null,dI.RED=!0,dI.BLACK=!1,dI.EMPTY=new(function(){function e(){bs(this,e),this.size=0}return ws(e,[{key:"key",get:function(){throw cS()}},{key:"value",get:function(){throw cS()}},{key:"color",get:function(){throw cS()}},{key:"left",get:function(){throw cS()}},{key:"right",get:function(){throw cS()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new dI(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var hI=function(){function e(t){bs(this,e),this.comparator=t,this.data=new lI(this.comparator)}return ws(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new pI(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new pI(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),pI=function(){function e(t){bs(this,e),this.iter=t}return ws(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function vI(e){return e.hasNext()?e.getNext():void 0}var mI=function(){function e(t){bs(this,e),this.fields=t,t.sort(DS.comparator)}return ws(e,[{key:"unionWith",value:function(t){var n,r=new hI(DS.comparator),i=xs(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=xs(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=xs(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ES(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var gI=function(e){function t(e){bs(this,t),this.binaryString=e}return ws(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return IS(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();gI.EMPTY_BYTE_STRING=new gI("");var yI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bI(e){if(lS(!!e),"string"==typeof e){var t=0,n=yI.exec(e);if(lS(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:kI(e.seconds),nanos:kI(e.nanos)}}function kI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wI(e){return"string"==typeof e?gI.fromBase64String(e):gI.fromUint8Array(e)}function xI(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _I(e){var t=e.mapValue.fields.__previous_value__;return xI(t)?_I(t):t}function SI(e){var t=bI(e.mapValue.fields.__local_write_time__.timestampValue);return new TS(t.seconds,t.nanos)}var II=ws((function e(t,n,r,i,a,o,s,u){bs(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),EI=function(){function e(t,n){bs(this,e),this.projectId=t,this.database=n||"(default)"}return ws(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function CI(e){return null==e}function TI(e){return 0===e&&1/e==-1/0}function NI(e){return"number"==typeof e&&Number.isInteger(e)&&!TI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var OI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},AI={nullValue:"NULL_VALUE"};function PI(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xI(e)?4:KI(e)?9007199254740991:10:cS()}function DI(e,t){if(e===t)return!0;var n=PI(e);if(n!==PI(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return SI(e).isEqual(SI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=bI(e.timestampValue),r=bI(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wI(e.bytesValue).isEqual(wI(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kI(e.geoPointValue.latitude)===kI(t.geoPointValue.latitude)&&kI(e.geoPointValue.longitude)===kI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kI(e.integerValue)===kI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=kI(e.doubleValue),r=kI(t.doubleValue);return n===r?TI(n)===TI(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ES(e.arrayValue.values||[],t.arrayValue.values||[],DI);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sI(n)!==sI(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!DI(n[i],r[i])))return!1;return!0}(e,t);default:return cS()}}function LI(e,t){return void 0!==(e.values||[]).find((function(e){return DI(e,t)}))}function RI(e,t){if(e===t)return 0;var n=PI(e),r=PI(t);if(n!==r)return IS(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return IS(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=kI(e.integerValue||e.doubleValue),r=kI(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return MI(e.timestampValue,t.timestampValue);case 4:return MI(SI(e),SI(t));case 5:return IS(e.stringValue,t.stringValue);case 6:return function(e,t){var n=wI(e),r=wI(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=IS(n[i],r[i]);if(0!==a)return a}return IS(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=IS(kI(e.latitude),kI(t.latitude));return 0!==n?n:IS(kI(e.longitude),kI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=RI(n[i],r[i]);if(a)return a}return IS(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===OI.mapValue&&t===OI.mapValue)return 0;if(e===OI.mapValue)return 1;if(t===OI.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=IS(r[o],a[o]);if(0!==s)return s;var u=RI(n[r[o]],i[a[o]]);if(0!==u)return u}return IS(r.length,a.length)}(e.mapValue,t.mapValue);default:throw cS()}}function MI(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return IS(e,t);var n=bI(e),r=bI(t),i=IS(n.seconds,r.seconds);return 0!==i?i:IS(n.nanos,r.nanos)}function jI(e){return FI(e)}function FI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=bI(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wI(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,LS.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=xs(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=FI(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=xs(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(FI(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):cS();var t,n}function VI(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function UI(e){return!!e&&"integerValue"in e}function BI(e){return!!e&&"arrayValue"in e}function zI(e){return!!e&&"nullValue"in e}function qI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function HI(e){return!!e&&"mapValue"in e}function WI(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return uI(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=WI(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=WI(e.arrayValue.values[r]);return n}return Object.assign({},e)}function KI(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function GI(e){return"nullValue"in e?AI:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?VI(EI.empty(),LS.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:cS()}function QI(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?VI(EI.empty(),LS.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?OI:cS()}function $I(e,t){var n=RI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function YI(e,t){var n=RI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var JI=function(){function e(t){bs(this,e),this.value=t}return ws(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!HI(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=WI(t)}},{key:"setAll",value:function(e){var t=this,n=DS.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=WI(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());HI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return DI(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];HI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){uI(t,(function(t,n){return e[t]=n}));var r,i=xs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(WI(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function XI(e){var t=[];return uI(e.fields,(function(e,n){var r=new DS([e]);if(HI(n)){var i=XI(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=xs(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new mI(t)}var ZI=function(){function e(t,n,r,i,a,o){bs(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ws(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=JI.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=JI.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=NS.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,NS.min(),NS.min(),JI.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,NS.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,NS.min(),JI.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,NS.min(),JI.empty(),2)}}]),e}(),eE=ws((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;bs(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null}));function tE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new eE(e,t,n,r,i,a,o)}function nE(e){var t=fS(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+jI(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),CI(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return jI(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return jI(e)})).join(",")),t.ut=n}return t.ut}function rE(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!bE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!DI(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wE(e.startAt,t.startAt)&&wE(e.endAt,t.endAt)}function iE(e){return LS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function aE(e,t){return e.filters.filter((function(e){return e instanceof uE&&e.field.isEqual(t)}))}function oE(e,t,n){var r,i=AI,a=!0,o=xs(aE(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=AI,c=!0;switch(s.op){case"<":case"<=":u=GI(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=AI}$I({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];$I({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function sE(e,t,n){var r,i=OI,a=!0,o=xs(aE(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=OI,c=!0;switch(s.op){case">=":case">":u=QI(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=OI}YI({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];YI({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var uE=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a;return bs(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ws(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(RI(t,this.value)):null!==t&&PI(this.value)===PI(t)&&this.at(RI(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cS()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new cE(e,t,r):"array-contains"===t?new hE(e,r):"in"===t?new pE(e,r):"not-in"===t?new vE(e,r):"array-contains-any"===t?new mE(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new lE(e,n):new fE(e,n)}}]),n}(function(){return ws((function e(){bs(this,e)}))}()),cE=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a;return bs(this,n),(a=t.call(this,e,r,i)).key=LS.fromName(i.referenceValue),a}return ws(n,[{key:"matches",value:function(e){var t=LS.comparator(e.key,this.key);return this.at(t)}}]),n}(uE),lE=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,e,"in",r)).keys=dE("in",r),i}return ws(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uE),fE=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,e,"not-in",r)).keys=dE("not-in",r),i}return ws(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uE);function dE(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return LS.fromName(e.referenceValue)}))}var hE=function(e){Is(n,e);var t=Os(n);function n(e,r){return bs(this,n),t.call(this,e,"array-contains",r)}return ws(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return BI(t)&&LI(t.arrayValue,this.value)}}]),n}(uE),pE=function(e){Is(n,e);var t=Os(n);function n(e,r){return bs(this,n),t.call(this,e,"in",r)}return ws(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&LI(this.value.arrayValue,t)}}]),n}(uE),vE=function(e){Is(n,e);var t=Os(n);function n(e,r){return bs(this,n),t.call(this,e,"not-in",r)}return ws(n,[{key:"matches",value:function(e){if(LI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!LI(this.value.arrayValue,t)}}]),n}(uE),mE=function(e){Is(n,e);var t=Os(n);function n(e,r){return bs(this,n),t.call(this,e,"array-contains-any",r)}return ws(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!BI(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return LI(t.value.arrayValue,e)}))}}]),n}(uE),gE=ws((function e(t,n){bs(this,e),this.position=t,this.inclusive=n})),yE=ws((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";bs(this,e),this.field=t,this.dir=n}));function bE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function kE(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?LS.comparator(LS.fromName(o.referenceValue),n.key):RI(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function wE(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!DI(e.position[n],t.position[n]))return!1;return!0}var xE=ws((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;bs(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function _E(e,t,n,r,i,a,o,s){return new xE(e,t,n,r,i,a,o,s)}function SE(e){return new xE(e)}function IE(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function EE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function CE(e){var t,n=xs(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function TE(e){return null!==e.collectionGroup}function NE(e){var t=fS(e);if(null===t.lt){t.lt=[];var n=CE(t),r=EE(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new yE(n)),t.lt.push(new yE(DS.keyField(),"asc"));else{var i,a=!1,o=xs(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new yE(DS.keyField(),u))}}}return t.lt}function OE(e){var t=fS(e);if(!t.ft)if("F"===t.limitType)t.ft=tE(t.path,t.collectionGroup,NE(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=xs(NE(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yE(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new gE(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new gE(t.startAt.position,t.startAt.inclusive):null;t.ft=tE(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.ft}function AE(e,t,n){return new xE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function PE(e,t){return rE(OE(e),OE(t))&&e.limitType===t.limitType}function DE(e){return"".concat(nE(OE(e)),"|lt:").concat(e.limitType)}function LE(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(jI(t.value));var t})).join(", "),"]")),CI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return jI(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return jI(e)})).join(",")),"Target(".concat(t,")")}(OE(e)),"; limitType=").concat(e.limitType,")")}function RE(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):LS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=xs(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=xs(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=kE(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,NE(e),t))&&!(e.endAt&&!function(e,t,n){var r=kE(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,NE(e),t))}(e,t)}function ME(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jE(e){return function(t,n){var r,i=!1,a=xs(NE(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=FE(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function FE(e,t,n){var r=e.field.isKeyField()?LS.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?RI(r,i):cS()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cS()}}function VE(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:TI(t)?"-0":t}}function UE(e){return{integerValue:""+e}}function BE(e,t){return NI(t)?UE(t):VE(e,t)}var zE=ws((function e(){bs(this,e),this._=void 0}));function qE(e,t,n){return e instanceof KE?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof GE?QE(e,t):e instanceof $E?YE(e,t):function(e,t){var n=WE(e,t),r=XE(n)+XE(e._t);return UI(n)&&UI(e._t)?UE(r):VE(e.wt,r)}(e,t)}function HE(e,t,n){return e instanceof GE?QE(e,t):e instanceof $E?YE(e,t):n}function WE(e,t){return e instanceof JE?UI(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var KE=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.apply(this,arguments)}return ws(n)}(zE),GE=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this)).elements=e,r}return ws(n)}(zE);function QE(e,t){var n,r=ZE(t),i=xs(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return DI(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $E=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this)).elements=e,r}return ws(n)}(zE);function YE(e,t){var n,r=ZE(t),i=xs(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!DI(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var JE=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this)).wt=e,i._t=r,i}return ws(n)}(zE);function XE(e){return kI(e.integerValue||e.doubleValue)}function ZE(e){return BI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var eC=ws((function e(t,n){bs(this,e),this.field=t,this.transform=n}));var tC=ws((function e(t,n){bs(this,e),this.version=t,this.transformResults=n})),nC=function(){function e(t,n){bs(this,e),this.updateTime=t,this.exists=n}return ws(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rC(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var iC=ws((function e(){bs(this,e)}));function aC(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gC(e.key,nC.none()):new lC(e.key,e.data,nC.none());var n,r=e.data,i=JI.empty(),a=new hI(DS.comparator),o=xs(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new fC(e.key,i,new mI(a.toArray()),nC.none())}function oC(e,t,n){e instanceof lC?function(e,t,n){var r=e.value.clone(),i=hC(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fC?function(e,t,n){if(rC(e.precondition,t)){var r=hC(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(dC(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sC(e,t,n,r){return e instanceof lC?function(e,t,n,r){if(!rC(e.precondition,t))return n;var i=e.value.clone(),a=pC(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fC?function(e,t,n,r){if(!rC(e.precondition,t))return n;var i=pC(e.fieldTransforms,r,t),a=t.data;return a.setAll(dC(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return rC(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function uC(e,t){var n,r=null,i=xs(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=WE(a.transform,o||null);null!=s&&(null===r&&(r=JI.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function cC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ES(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof GE&&t instanceof GE||e instanceof $E&&t instanceof $E?ES(e.elements,t.elements,DI):e instanceof JE&&t instanceof JE?DI(e._t,t._t):e instanceof KE&&t instanceof KE}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var lC=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return bs(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ws(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iC),fC=function(e){Is(n,e);var t=Os(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return bs(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return ws(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(iC);function dC(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function hC(e,t,n){var r=new Map;lS(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,HE(o,s,n[i]))}return r}function pC(e,t,n){var r,i=new Map,a=xs(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,qE(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vC,mC,gC=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ws(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iC),yC=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ws(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iC),bC=ws((function e(t){bs(this,e),this.count=t}));function kC(e){switch(e){default:return cS();case dS.CANCELLED:case dS.UNKNOWN:case dS.DEADLINE_EXCEEDED:case dS.RESOURCE_EXHAUSTED:case dS.INTERNAL:case dS.UNAVAILABLE:case dS.UNAUTHENTICATED:return!1;case dS.INVALID_ARGUMENT:case dS.NOT_FOUND:case dS.ALREADY_EXISTS:case dS.PERMISSION_DENIED:case dS.FAILED_PRECONDITION:case dS.ABORTED:case dS.OUT_OF_RANGE:case dS.UNIMPLEMENTED:case dS.DATA_LOSS:return!0}}function wC(e){if(void 0===e)return oS("GRPC error has no .code"),dS.UNKNOWN;switch(e){case vC.OK:return dS.OK;case vC.CANCELLED:return dS.CANCELLED;case vC.UNKNOWN:return dS.UNKNOWN;case vC.DEADLINE_EXCEEDED:return dS.DEADLINE_EXCEEDED;case vC.RESOURCE_EXHAUSTED:return dS.RESOURCE_EXHAUSTED;case vC.INTERNAL:return dS.INTERNAL;case vC.UNAVAILABLE:return dS.UNAVAILABLE;case vC.UNAUTHENTICATED:return dS.UNAUTHENTICATED;case vC.INVALID_ARGUMENT:return dS.INVALID_ARGUMENT;case vC.NOT_FOUND:return dS.NOT_FOUND;case vC.ALREADY_EXISTS:return dS.ALREADY_EXISTS;case vC.PERMISSION_DENIED:return dS.PERMISSION_DENIED;case vC.FAILED_PRECONDITION:return dS.FAILED_PRECONDITION;case vC.ABORTED:return dS.ABORTED;case vC.OUT_OF_RANGE:return dS.OUT_OF_RANGE;case vC.UNIMPLEMENTED:return dS.UNIMPLEMENTED;case vC.DATA_LOSS:return dS.DATA_LOSS;default:return cS()}}(mC=vC||(vC={}))[mC.OK=0]="OK",mC[mC.CANCELLED=1]="CANCELLED",mC[mC.UNKNOWN=2]="UNKNOWN",mC[mC.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mC[mC.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mC[mC.NOT_FOUND=5]="NOT_FOUND",mC[mC.ALREADY_EXISTS=6]="ALREADY_EXISTS",mC[mC.PERMISSION_DENIED=7]="PERMISSION_DENIED",mC[mC.UNAUTHENTICATED=16]="UNAUTHENTICATED",mC[mC.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mC[mC.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mC[mC.ABORTED=10]="ABORTED",mC[mC.OUT_OF_RANGE=11]="OUT_OF_RANGE",mC[mC.UNIMPLEMENTED=12]="UNIMPLEMENTED",mC[mC.INTERNAL=13]="INTERNAL",mC[mC.UNAVAILABLE=14]="UNAVAILABLE",mC[mC.DATA_LOSS=15]="DATA_LOSS";var xC=function(){function e(t,n){bs(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ws(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=xs(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){uI(this.inner,(function(t,n){var r,i=xs(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return cI(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),_C=new lI(LS.comparator);function SC(){return _C}var IC=new lI(LS.comparator);function EC(){for(var e=IC,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function CC(e){var t=IC;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function TC(){return OC()}function NC(){return OC()}function OC(){return new xC((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var AC=new lI(LS.comparator),PC=new hI(LS.comparator);function DC(){for(var e=PC,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var LC=new hI(IS);function RC(){return LC}var MC=function(){function e(t,n,r,i,a){bs(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ws(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,jC.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(NS.min(),r,RC(),SC(),DC())}}]),e}(),jC=function(){function e(t,n,r,i,a){bs(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ws(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(gI.EMPTY_BYTE_STRING,n,DC(),DC(),DC())}}]),e}(),FC=ws((function e(t,n,r,i){bs(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),VC=ws((function e(t,n){bs(this,e),this.targetId=t,this.It=n})),UC=ws((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gI.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;bs(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),BC=function(){function e(){bs(this,e),this.Tt=0,this.Et=HC(),this.At=gI.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return ws(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=DC(),t=DC(),n=DC();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cS()}})),new jC(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=HC()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),zC=function(){function e(t){bs(this,e),this.Ot=t,this.Ft=new Map,this.$t=SC(),this.Bt=qC(),this.Lt=new hI(IS)}return ws(e,[{key:"Ut",value:function(e){var t,n=xs(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=xs(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:cS()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(iE(i))if(0===n){var a=new LS(i.path);this.Kt(t,a,ZI.newNoDocument(a,NS.min()))}else lS(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&iE(a.target)){var o=new LS(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,ZI.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=DC();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new MC(e,n,this.Lt,this.$t,r);return this.$t=SC(),this.Bt=qC(),this.Lt=new hI(IS),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new BC,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new hI(IS),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||aS("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new BC),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function qC(){return new lI(LS.comparator)}function HC(){return new lI(LS.comparator)}var WC={asc:"ASCENDING",desc:"DESCENDING"},KC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GC=ws((function e(t,n){bs(this,e),this.databaseId=t,this.dt=n}));function QC(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $C(e,t){return e.dt?t.toBase64():t.toUint8Array()}function YC(e,t){return QC(e,t.toTimestamp())}function JC(e){return lS(!!e),NS.fromTimestamp(function(e){var t=bI(e);return new TS(t.seconds,t.nanos)}(e))}function XC(e,t){return function(e){return new AS(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ZC(e){var t=AS.fromString(e);return lS(xT(t)),t}function eT(e,t){return XC(e.databaseId,t.path)}function tT(e,t){var n=ZC(t);if(n.get(1)!==e.databaseId.projectId)throw new hS(dS.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hS(dS.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new LS(aT(n))}function nT(e,t){return XC(e.databaseId,t)}function rT(e){var t=ZC(e);return 4===t.length?AS.emptyPath():aT(t)}function iT(e){return new AS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function aT(e){return lS(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function oT(e,t,n){return{name:eT(e,t),fields:n.value.mapValue.fields}}function sT(e,t,n){var r=tT(e,t.name),i=JC(t.updateTime),a=new JI({mapValue:{fields:t.fields}}),o=ZI.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function uT(e,t){return"found"in t?function(e,t){lS(!!t.found),t.found.name,t.found.updateTime;var n=tT(e,t.found.name),r=JC(t.found.updateTime),i=new JI({mapValue:{fields:t.found.fields}});return ZI.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){lS(!!t.missing),lS(!!t.readTime);var n=tT(e,t.missing),r=JC(t.readTime);return ZI.newNoDocument(n,r)}(e,t):cS()}function cT(e,t){var n;if(t instanceof lC)n={update:oT(e,t.key,t.value)};else if(t instanceof gC)n={delete:eT(e,t.key)};else if(t instanceof fC)n={update:oT(e,t.key,t.data),updateMask:wT(t.fieldMask)};else{if(!(t instanceof yC))return cS();n={verify:eT(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof KE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof GE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $E)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof JE)return{fieldPath:t.field.canonicalString(),increment:n._t};throw cS()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:YC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cS()}(e,t.precondition)),n}function lT(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?nC.updateTime(JC(e.updateTime)):void 0!==e.exists?nC.exists(e.exists):nC.none()}(t.currentDocument):nC.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)lS("REQUEST_TIME"===t.setToServerValue),n=new KE;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new GE(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $E(i)}else"increment"in t?n=new JE(e,t.increment):cS();var a=DS.fromServerFormat(t.fieldPath);return new eC(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=tT(e,t.update.name),a=new JI({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new mI(t.map((function(e){return DS.fromServerFormat(e)})))}(t.updateMask);return new fC(i,a,o,n,r)}return new lC(i,a,n,r)}if(t.delete){var s=tT(e,t.delete);return new gC(s,n)}if(t.verify){var u=tT(e,t.verify);return new yC(u,n)}return cS()}function fT(e,t){return{documents:[nT(e,t.path)]}}function dT(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(qI(e.value))return{unaryFilter:{field:gT(e.field),op:"IS_NAN"}};if(zI(e.value))return{unaryFilter:{field:gT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qI(e.value))return{unaryFilter:{field:gT(e.field),op:"IS_NOT_NAN"}};if(zI(e.value))return{unaryFilter:{field:gT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gT(e.field),op:mT(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gT(e.field),direction:vT(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||CI(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function hT(e){var t=rT(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lS(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=pT(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new yE(yT(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return CI(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new gE(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new gE(n,t)}(n.endAt)),_E(t,i,s,o,u,"F",c,l)}function pT(e){return e?void 0!==e.unaryFilter?[kT(e)]:void 0!==e.fieldFilter?[bT(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return pT(e)})).reduce((function(e,t){return e.concat(t)})):cS():[]}function vT(e){return WC[e]}function mT(e){return KC[e]}function gT(e){return{fieldPath:e.canonicalString()}}function yT(e){return DS.fromServerFormat(e.fieldPath)}function bT(e){return uE.create(yT(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cS()}}(e.fieldFilter.op),e.fieldFilter.value)}function kT(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yT(e.unaryFilter.field);return uE.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yT(e.unaryFilter.field);return uE.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yT(e.unaryFilter.field);return uE.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yT(e.unaryFilter.field);return uE.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cS()}}function wT(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function xT(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function _T(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=IT(t)),t=ST(e.get(n),t);return IT(t)}function ST(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function IT(e){return e+"\x01\x01"}function ET(e){var t=e.length;if(lS(t>=2),2===t)return lS("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),AS.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&cS(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:cS()}a=o+2}return new AS(r)}var CT=["userId","batchId"];function TT(e,t){return[e,_T(t)]}function NT(e,t,n){return[e,_T(t),n]}var OT={},AT=["prefixPath","collectionGroup","readTime","documentId"],PT=["prefixPath","collectionGroup","documentId"],DT=["collectionGroup","readTime","prefixPath","documentId"],LT=["canonicalId","targetId"],RT=["targetId","path"],MT=["path","targetId"],jT=["collectionId","parent"],FT=["indexId","uid"],VT=["uid","sequenceNumber"],UT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],BT=["indexId","uid","orderedDocumentKey"],zT=["userId","collectionPath","documentId"],qT=["userId","collectionPath","largestBatchId"],HT=["userId","collectionGroup","largestBatchId"],WT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),KT=[].concat(po(WT),["documentOverlays"]),GT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QT=GT,$T=[].concat(QT,["indexConfiguration","indexState","indexEntries"]),YT=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return ws(n)}(WS);function JT(e,t){var n=fS(e);return YS.N(n.ee,t)}var XT=function(){function e(t,n,r,i){bs(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ws(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&oC(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=xs(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=sC(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=xs(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=sC(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=NC();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=aC(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(NS.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),DC())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ES(this.mutations,e.mutations,(function(e,t){return cC(e,t)}))&&ES(this.baseMutations,e.baseMutations,(function(e,t){return cC(e,t)}))}}]),e}(),ZT=function(){function e(t,n,r,i){bs(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ws(e,null,[{key:"from",value:function(t,n,r){lS(t.mutations.length===r.length);for(var i=AC,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),eN=function(){function e(t,n){bs(this,e),this.largestBatchId=t,this.mutation=n}return ws(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),tN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:NS.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:NS.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gI.EMPTY_BYTE_STRING;bs(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return ws(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),nN=ws((function e(t){bs(this,e),this.ne=t}));function rN(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:iN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:eT(e,t.key),fields:t.data.value.mapValue.fields,updateTime:QC(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:aN(t.version)};else{if(!t.isUnknownDocument())return cS();r.unknownDocument={path:n.path.toArray(),version:aN(t.version)}}return r}function iN(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function aN(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function oN(e){var t=new TS(e.seconds,e.nanoseconds);return NS.fromTimestamp(t)}function sN(e,t){for(var n=(t.baseMutations||[]).map((function(t){return lT(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return lT(e.ne,t)})),s=TS.fromMillis(t.localWriteTimeMs);return new XT(t.batchId,s,n,o)}function uN(e){var t,n,r=oN(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?oN(e.lastLimboFreeSnapshotVersion):NS.min();return void 0!==e.query.documents?(lS(1===(n=e.query).documents.length),t=OE(SE(rT(n.documents[0])))):t=function(e){return OE(hT(e))}(e.query),new tN(t,e.targetId,0,e.lastListenSequenceNumber,r,i,gI.fromBase64String(e.resumeToken))}function cN(e,t){var n,r=aN(t.snapshotVersion),i=aN(t.lastLimboFreeSnapshotVersion);n=iE(t.target)?fT(e.ne,t.target):dT(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nE(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function lN(e){var t=hT({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?AE(t,t.limit,"L"):t}function fN(e,t){return new eN(t.largestBatchId,lT(e.ne,t.overlayMutation))}function dN(e,t){var n=t.path.lastSegment();return[e,_T(t.path.popLast()),n]}function hN(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:aN(r.readTime),documentKey:_T(r.documentKey.path),largestBatchId:r.largestBatchId}}var pN=function(){function e(){bs(this,e)}return ws(e,[{key:"getBundleMetadata",value:function(e,t){return vN(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:oN(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return vN(e).put({bundleId:(n=t).id,createTime:aN(JC(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return mN(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:lN(t.bundledQuery),readTime:oN(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return mN(e).put(function(e){return{name:e.name,readTime:aN(JC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function vN(e){return JT(e,"bundles")}function mN(e){return JT(e,"namedQueries")}var gN=function(){function e(t,n){bs(this,e),this.wt=t,this.userId=n}return ws(e,[{key:"getOverlay",value:function(e,t){var n=this;return yN(e).get(dN(this.userId,t)).next((function(e){return e?fN(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=TC();return QS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new eN(t,a);i.push(r.ie(e,o))})),QS.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(_T(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(yN(e).W("collectionPathOverlayIndex",i))})),QS.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=TC(),a=_T(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return yN(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=xs(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=fN(r.wt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=TC(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yN(e).J({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=fN(a.wt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return yN(e).put(function(e,t,n){var r=c(dN(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:cT(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function yN(e){return JT(e,"documentOverlays")}var bN=function(){function e(){bs(this,e)}return ws(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(kI(e.integerValue));else if("doubleValue"in e){var n=kI(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),TI(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(wI(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?KI(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):cS()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=xs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),LS.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function kN(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function wN(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=kN(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}bN.ye=new bN;var xN=function(){function e(){bs(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ws(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=xs(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=xs(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=wN(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=wN(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Me",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),_N=function(){function e(t){bs(this,e),this.Oe=t}return ws(e,[{key:"de",value:function(e){this.Oe.pe(e)}},{key:"he",value:function(e){this.Oe.be(e)}},{key:"ae",value:function(e){this.Oe.ve(e)}},{key:"ue",value:function(){this.Oe.Ce()}}]),e}(),SN=function(){function e(t){bs(this,e),this.Oe=t}return ws(e,[{key:"de",value:function(e){this.Oe.Ee(e)}},{key:"he",value:function(e){this.Oe.Pe(e)}},{key:"ae",value:function(e){this.Oe.De(e)}},{key:"ue",value:function(){this.Oe.Ne()}}]),e}(),IN=function(){function e(){bs(this,e),this.Oe=new xN,this.Fe=new _N(this.Oe),this.$e=new SN(this.Oe)}return ws(e,[{key:"seed",value:function(e){this.Oe.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Me",value:function(){return this.Oe.Me()}},{key:"reset",value:function(){this.Oe.reset()}}]),e}(),EN=function(){function e(t,n,r,i){bs(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ws(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function CN(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=TN(e.arrayValue,t.arrayValue))?n:0!==(n=TN(e.directionalValue,t.directionalValue))?n:LS.comparator(e.documentKey,t.documentKey)}function TN(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var NN=function(){function e(t){bs(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=xs(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ws(e,[{key:"Ge",value:function(e){var t=MS(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=jS(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=xs(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),ON=function(){function e(){bs(this,e),this.ze=new AN}return ws(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),QS.resolve()}},{key:"getCollectionParents",value:function(e,t){return QS.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return QS.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return QS.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return QS.resolve(null)}},{key:"getIndexType",value:function(e,t){return QS.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return QS.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return QS.resolve(null)}},{key:"getMinOffset",value:function(e,t){return QS.resolve(zS.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return QS.resolve(zS.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return QS.resolve()}},{key:"updateIndexEntries",value:function(e,t){return QS.resolve()}}]),e}(),AN=function(){function e(){bs(this,e),this.index={}}return ws(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hI(AS.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new hI(AS.comparator)).toArray()}}]),e}(),PN=new Uint8Array(0),DN=function(){function e(t,n){bs(this,e),this.user=t,this.databaseId=n,this.He=new AN,this.Je=new xC((function(e){return nE(e)}),(function(e,t){return rE(e,t)})),this.uid=t.uid||""}return ws(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:_T(i)};return LN(e).put(a)}return QS.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[CS(t),""],!1,!0);return LN(e).K(r).next((function(e){var r,i=xs(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ET(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=MN(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=jN(e);return a.next((function(e){o.put(hN(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=MN(e),r=jN(e),i=RN(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=RN(e),i=!0,a=new Map;return QS.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=DC(),o=[];return QS.forEach(a,(function(i,a){var s;aS("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(nE(t)));var u=function(e,t){var n=MS(t);if(void 0===n)return null;var r,i=xs(aE(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=xs(jS(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=xs(aE(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=xs(jS(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?oE(e,o.fieldPath,e.startAt):sE(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new gE(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=xs(jS(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?sE(e,o.fieldPath,e.endAt):oE(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new gE(r,i)}(a,i),d=n.Ze(i,a,l),h=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,u,d,l.inclusive,h,f.inclusive,p);return QS.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=LS.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return QS.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.nn(t[u/c]):PN,d=s.sn(e,f,n[u%c],r),h=s.rn(e,f,i[u%c],a),p=o.map((function(t){return s.sn(e,f,t,!0)}));l.push.apply(l,po(s.createRange(d,h,p)))},d=0;d<u;++d)f(d);return l}},{key:"sn",value:function(e,t,n,r){var i=new EN(e,LS.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new EN(e,LS.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new NN(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=xs(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return QS.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new hI(DS.comparator),r=!1,i=xs(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,s=xs(e.orderBy);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new IN,i=xs(jS(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Be(a.kind);bN.ye.re(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Me()}},{key:"nn",value:function(e){var t=new IN;return bN.ye.re(e,t.Be(0)),t.Me()}},{key:"un",value:function(e,t){var n=new IN;return bN.ye.re(VI(this.databaseId,t),n.Be(function(e){var t=jS(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Me()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new IN);var i,a=0,o=xs(jS(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=xs(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.cn(t,u.fieldPath)&&BI(c))r=this.an(r,u,c);else{var d=f.Be(u.kind);bN.ye.re(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Me();return t}},{key:"an",value:function(e,t,n){var r,i=po(e),a=[],o=xs(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=xs(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new IN;f.seed(l.Me()),bN.ye.re(u,f.Be(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof uE&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=MN(e),i=jN(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return QS.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new VS(t.sequenceNumber,new zS(oN(t.readTime),new LS(ET(t.documentKey)),t.largestBatchId)):VS.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new FS(DS.fromServerFormat(n),r)}));return new RS(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:IS(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=MN(e),a=jN(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return QS.forEach(t,(function(t){return a.put(hN(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return QS.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?QS.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),QS.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?QS.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return RN(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return RN(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=RN(e),i=new hI(CN);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new EN(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new hI(CN),r=this.on(t,e);if(null==r)return n;var i=MS(t);if(null!=i){var a=e.data.field(i.fieldPath);if(BI(a)){var o,s=xs(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new EN(t.indexId,e.key,this.nn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new EN(t.indexId,e.key,PN,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;aS("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=vI(a),u=vI(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=vI(o)):l?(i(s),s=vI(a)):(s=vI(a),u=vI(o))}}(r,i,CN,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),QS.waitFor(o)}},{key:"ln",value:function(e){var t=1;return jN(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return CN(e,t)})).filter((function(e,t,n){return!t||0!==CN(e,n[t-1])}));var r=[];r.push(e);var i,a=xs(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=CN(o,e),u=CN(o,t);if(0===s)r[0]=e.Le();else if(s>0&&u<0)r.push(o),r.push(o.Le());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,PN,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,PN,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(FN)}},{key:"getMinOffset",value:function(e,t){var n=this;return QS.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||cS()}))})).next(FN)}}]),e}();function LN(e){return JT(e,"collectionParents")}function RN(e){return JT(e,"indexEntries")}function MN(e){return JT(e,"indexConfiguration")}function jN(e){return JT(e,"indexState")}function FN(e){lS(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;qS(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zS(t.readTime,t.documentKey,n)}var VN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UN=function(){function e(t,n,r){bs(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ws(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function BN(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.J({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){lS(1===s)})));var c,l=[],f=xs(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=NT(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return QS.waitFor(a).next((function(){return l}))}function zN(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cS();t=e.noDocument}return JSON.stringify(t).length}UN.DEFAULT_COLLECTION_PERCENTILE=10,UN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,UN.DEFAULT=new UN(41943040,UN.DEFAULT_COLLECTION_PERCENTILE,UN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),UN.DISABLED=new UN(-1,0,0);var qN=function(){function e(t,n,r,i){bs(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return ws(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return WN(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=KN(e),o=WN(e);return o.add({}).next((function(s){lS("number"==typeof s);var u,c=new XT(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return cT(e.ne,t)})),i=n.mutations.map((function(t){return cT(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],d=new hI((function(e,t){return IS(e.canonicalString(),t.canonicalString())})),h=xs(r);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=NT(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,OT))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[s]=c.keys()})),QS.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return WN(e).get(t).next((function(e){return e?(lS(e.userId===n.userId),sN(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?QS.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return WN(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(lS(t.batchId>=r),a=sN(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return WN(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return WN(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return sN(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=TT(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return KN(e).J({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],d=ET(l);if(u===n.userId&&t.path.isEqual(d))return WN(e).get(f).next((function(e){if(!e)throw cS();lS(e.userId===n.userId),a.push(sN(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hI(IS),i=[];return t.forEach((function(t){var a=TT(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=KN(e).J({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=ET(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),QS.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=TT(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new hI(IS);return KN(e).J({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],d=ET(l);u===n.userId&&r.isPrefixOf(d)?d.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.pn(e,s)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(WN(e).get(t).next((function(e){if(null===e)throw cS();lS(e.userId===n.userId),r.push(sN(n.wt,e))})))})),QS.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return BN(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),QS.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return QS.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return KN(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ET(e[1]);i.push(a)}else r.done()})).next((function(){lS(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return HN(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return GN(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return lS(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function HN(e,t,n){var r=TT(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return KN(e).J({range:a,H:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function WN(e){return JT(e,"mutations")}function KN(e){return JT(e,"documentMutations")}function GN(e){return JT(e,"mutationQueues")}var QN=function(){function e(t){bs(this,e),this.En=t}return ws(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),$N=function(){function e(t,n){bs(this,e),this.referenceDelegate=t,this.wt=n}return ws(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new QN(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return NS.fromTimestamp(new TS(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return YN(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return lS(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return YN(e).J((function(o,s){var u=uN(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return QS.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return YN(e).J((function(e,n){var r=uN(n);t(r)}))}},{key:"bn",value:function(e){return JN(e).get("targetGlobalKey").next((function(e){return lS(null!==e),e}))}},{key:"Pn",value:function(e,t){return JN(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return YN(e).put(cN(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=nE(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return YN(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=uN(n);rE(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=XN(e);return t.forEach((function(t){var o=_T(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),QS.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=XN(e);return QS.forEach(t,(function(t){var a=_T(t.path);return QS.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=XN(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=XN(e),i=DC();return r.J({range:n,H:!0},(function(e,t,n){var r=ET(e[1]),a=new LS(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=_T(t.path),r=IDBKeyRange.bound([n],[CS(n)],!1,!0),i=0;return XN(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return YN(e).get(t).next((function(e){return e?uN(e):null}))}}]),e}();function YN(e){return JT(e,"targets")}function JN(e){return JT(e,"targetGlobal")}function XN(e){return JT(e,"targetDocuments")}function ZN(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=IS(r,o);return 0===u?IS(i,s):u}var eO=function(){function e(t){bs(this,e),this.Sn=t,this.buffer=new hI(ZN),this.Dn=0}return ws(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ZN(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),tO=function(){function e(t,n,r){bs(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return ws(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;aS("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ZS(e.t0)){e.next=12;break}aS("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,KS(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),nO=function(){function e(t,n){bs(this,e),this.Mn=t,this.params=n}return ws(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.On(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return QS.resolve(oI.ot);var r=new eO(t);return this.Mn.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.Mn.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(aS("LruGarbageCollector","Garbage collection skipped; disabled"),QS.resolve(VN)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(aS("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),VN):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(aS("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),iS()<=yu.DEBUG&&aS("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),QS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),rO=function(){function e(t,n){bs(this,e),this.db=t,this.garbageCollector=function(e,t){return new nO(e,t)}(this,n)}return ws(e,[{key:"On",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return iO(e,n)}},{key:"removeReference",value:function(e,t,n){return iO(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return iO(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return GN(e).Y((function(r){return HN(e,r,t).next((function(e){return e&&(n=!0),QS.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,s){if(s<=t){var u=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,NS.min()),XN(e).delete([0,_T(o.path)])}))}));i.push(u)}})).next((function(){return QS.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return iO(e,t)}},{key:"Ln",value:function(e,t){var n,r=XN(e),i=oI.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==oI.ot&&t(new LS(ET(n)),i),i=u,n=s):i=oI.ot})).next((function(){i!==oI.ot&&t(new LS(ET(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function iO(e,t){return XN(e).put(function(e,t){return{targetId:0,path:_T(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var aO=function(){function e(){bs(this,e),this.changes=new xC((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ws(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ZI.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?QS.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),oO=function(){function e(t){bs(this,e),this.wt=t}return ws(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return lO(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return lO(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],iN(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ZI.newInvalidDocument(t);return lO(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fO(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:ZI.newInvalidDocument(t)};return lO(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fO(t))},(function(e,i){r={document:n.Kn(t,i),size:zN(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=SC();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=SC(),i=new lI(LS.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,zN(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return QS.resolve();var r=new hI(hO);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(fO(r.first()),fO(r.last())),a=r.getIterator(),o=a.getNext();return lO(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=LS.fromSegments([].concat(po(t.prefixPath),[t.collectionGroup,t.documentId]));o&&hO(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(fO(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),iN(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lO(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=SC(),i=xs(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(LS.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=SC(),o=dO(t,n),s=dO(t,zS.max());return lO(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Kn(LS.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new uO(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return cO(e).get("remoteDocumentGlobalKey").next((function(e){return lS(!!e),e}))}},{key:"qn",value:function(e,t){return cO(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=sT(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=LS.fromSegments(t.noDocument.path),i=oN(t.noDocument.readTime);n=ZI.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return cS();var a=LS.fromSegments(t.unknownDocument.path),o=oN(t.unknownDocument.version);n=ZI.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new TS(e[0],e[1]);return NS.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(NS.min()))return n}return ZI.newInvalidDocument(e)}}]),e}();function sO(e){return new oO(e)}var uO=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new xC((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ws(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new hI((function(e,t){return IS(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=rN(t.zn.wt,o);i=i.add(a.path.popLast());var c=zN(u);r+=c-s.size,n.push(t.zn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=rN(t.zn.wt,o.convertToNoDocument(NS.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),QS.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(aO);function cO(e){return JT(e,"remoteDocumentGlobal")}function lO(e){return JT(e,"remoteDocumentsV14")}function fO(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function dO(e,t){var n=t.documentKey.path.toArray();return[e,iN(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hO(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=IS(n[a],r[a]))return i;return(i=IS(n.length,r.length))||((i=IS(n[n.length-2],r[r.length-2]))||IS(n[n.length-1],r[r.length-1]))}var pO=ws((function e(t,n){bs(this,e),this.overlayedDocument=t,this.mutatedFields=n})),vO=function(){function e(t,n,r,i){bs(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ws(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&sC(r.mutation,e,mI.empty(),TS.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,DC()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DC(),i=TC();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=EC();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=TC();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,DC())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=SC(),a=OC(),o=OC();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof fC)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),sC(o.mutation,t,o.mutation.getFieldMask(),TS.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new pO(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=OC(),i=new lI((function(e,t){return e-t})),a=DC();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=xs(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||mI.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||DC()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=NC();c.forEach((function(e){if(!a.has(e)){var n=aC(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return QS.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return LS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):QS.resolve(TC()),s=-1,u=a;return o.next((function(t){return QS.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?QS.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,DC())})).next((function(e){return{batchId:s,changes:CC(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new LS(t)).next((function(e){var t=EC();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=EC();return this.indexManager.getCollectionParents(e,i).next((function(o){return QS.forEach(o,(function(o){var s=function(e,t){return new xE(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,ZI.newInvalidDocument(n)))}));var n=EC();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&sC(a.mutation,i,mI.empty(),TS.now()),RE(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):QS.resolve(ZI.newInvalidDocument(t))}}]),e}(),mO=function(){function e(t){bs(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return ws(e,[{key:"getBundleMetadata",value:function(e,t){return QS.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:JC(n.createTime)}),QS.resolve()}},{key:"getNamedQuery",value:function(e,t){return QS.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:lN(e.bundledQuery),readTime:JC(e.readTime)}}(t)),QS.resolve()}}]),e}(),gO=function(){function e(){bs(this,e),this.overlays=new lI(LS.comparator),this.Xn=new Map}return ws(e,[{key:"getOverlay",value:function(e,t){return QS.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=TC();return QS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),QS.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),QS.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=TC(),i=t.length+1,a=new LS(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return QS.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new lI((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=TC(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=TC(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return QS.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new eN(t,n));var a=this.Xn.get(t);void 0===a&&(a=DC(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),yO=function(){function e(){bs(this,e),this.Zn=new hI(bO.ts),this.es=new hI(bO.ns)}return ws(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new bO(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new bO(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new LS(new AS([])),r=new bO(n,e),i=new bO(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new LS(new AS([])),n=new bO(t,e),r=new bO(t,e+1),i=DC();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new bO(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),bO=function(){function e(t,n){bs(this,e),this.key=t,this.ls=n}return ws(e,null,[{key:"ts",value:function(e,t){return LS.comparator(e.key,t.key)||IS(e.ls,t.ls)}},{key:"ns",value:function(e,t){return IS(e.ls,t.ls)||LS.comparator(e.key,t.key)}}]),e}(),kO=function(){function e(t,n){bs(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new hI(bO.ts)}return ws(e,[{key:"checkEmpty",value:function(e){return QS.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new XT(i,t,n,r);this.mutationQueue.push(a);var o,s=xs(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ds=this.ds.add(new bO(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return QS.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return QS.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return QS.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return QS.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return QS.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new bO(t,0),i=new bO(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),QS.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new hI(IS);return t.forEach((function(e){var t=new bO(e,0),i=new bO(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),QS.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;LS.isDocumentKey(i)||(i=i.child(""));var a=new bO(new LS(i),0),o=new hI(IS);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),QS.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;lS(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return QS.forEach(t.mutations,(function(i){var a=new bO(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new bO(t,0),r=this.ds.firstAfterOrEqual(n);return QS.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,QS.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),wO=function(){function e(t){bs(this,e),this.ps=t,this.docs=new lI(LS.comparator),this.size=0}return ws(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return QS.resolve(n?n.document.mutableCopy():ZI.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=SC();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ZI.newInvalidDocument(e))})),QS.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=SC(),i=new LS(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||qS(BS(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return QS.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){cS()}},{key:"Is",value:function(e,t){return QS.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new xO(this)}},{key:"getSize",value:function(e){return QS.resolve(this.size)}}]),e}(),xO=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this)).zn=e,r}return ws(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),QS.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(aO),_O=function(){function e(t){bs(this,e),this.persistence=t,this.Ts=new xC((function(e){return nE(e)}),rE),this.lastRemoteSnapshotVersion=NS.min(),this.highestTargetId=0,this.Es=0,this.As=new yO,this.targetCount=0,this.Rs=QN.An()}return ws(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),QS.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return QS.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return QS.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),QS.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),QS.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new QN(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,QS.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),QS.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,QS.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),QS.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return QS.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return QS.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),QS.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),QS.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),QS.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return QS.resolve(n)}},{key:"containsKey",value:function(e,t){return QS.resolve(this.As.containsKey(t))}}]),e}(),SO=function(){function e(t,n){var r=this;bs(this,e),this.bs={},this.overlays={},this.Ps=new oI(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new _O(this),this.indexManager=new ON,this.remoteDocumentCache=new wO((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new nN(n),this.Ds=new mO(this.wt)}return ws(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new gO,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new kO(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;aS("MemoryPersistence","Starting transaction:",e);var i=new IO(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return QS.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),IO=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ws(n)}(WS),EO=function(){function e(t){bs(this,e),this.persistence=t,this.ks=new yO,this.Ms=null}return ws(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw cS()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),QS.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),QS.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),QS.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return QS.forEach(this.Fs,(function(r){var i=LS.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,NS.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return QS.or([function(){return QS.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}(),CO=function(){function e(t){bs(this,e),this.wt=t}return ws(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new $S("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CT,{unique:!0}),e.createObjectStore("documentMutations")}(e),TO(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=QS.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),TO(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:NS.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CT,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return QS.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:zT});t.createIndex("collectionPathOverlayIndex",qT,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",HT,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:AT});t.createIndex("documentKeyIndex",PT),t.createIndex("collectionGroupIndex",DT)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:FT}).createIndex("sequenceNumberIndex",VT,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:UT}).createIndex("documentKeyIndex",BT,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=zN(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return QS.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return QS.forEach(r,(function(r){lS(r.userId===n.userId);var i=sN(t.wt,r);return BN(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new AS(n),o=function(e){return[0,_T(e)]}(a);r.push(t.get(o).next((function(n){return n?QS.resolve():function(n){return t.put({targetId:0,path:_T(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return QS.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:jT});var n=t.store("collectionParents"),r=new AN,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:_T(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new AS(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],ET(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=uN(r),a=cN(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new LS(AS.fromString(i.document.name).popFirst(5)):i.noDocument?LS.fromSegments(i.noDocument.path):i.unknownDocument?LS.fromSegments(i.unknownDocument.path):cS()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return QS.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=sO(this.wt),a=new SO(EO.Os,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:DC();sN(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),QS.forEach(r,(function(e,r){var o=new tS(r),s=gN.se(n.wt,o),u=a.getIndexManager(o),c=qN.se(o,n.wt,u,a.referenceDelegate);return new vO(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new YT(t,oI.ot),e).next()}))}))}}]),e}();function TO(e){e.createObjectStore("targetDocuments",{keyPath:RT}).createIndex("documentTargetsIndex",MT,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",LT,{unique:!0}),e.createObjectStore("targetGlobal")}var NO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",OO=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(bs(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=s,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new hS(dS.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rO(this,i),this.ei=n+"main",this.wt=new nN(u),this.ni=new YS(this.ei,this.Hs,new CO(this.wt)),this.Vs=new $N(this.referenceDelegate,this.wt),this.remoteDocumentCache=sO(this.wt),this.Ds=new pN,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&oS("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ws(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new hS(dS.FAILED_PRECONDITION,NO);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new oI(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=hu(fu().mark((function n(r){return fu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=hu(fu().mark((function t(n){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return PO(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(ZS(t))return aS("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return aS("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return AO(e).get("owner").next((function(e){return QS.resolve(t.di(e))}))}},{key:"_i",value:function(e){return PO(e).delete(this.clientId)}},{key:"wi",value:function(){var e=hu(fu().mark((function e(){var t,n,r,i,a=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=JT(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return QS.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=xs(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?QS.resolve(!0):AO(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new hS(dS.FAILED_PRECONDITION,NO);return!1}}return!(!t.networkEnabled||!t.inForeground)||PO(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&aS("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=hu(fu().mark((function e(){var t=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new YT(e,oI.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return PO(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return qN.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new DN(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return gN.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;aS("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Hs)?$T:14===i?QT:13===i?GT:12===i?KT:11===i?WT:void cS();return this.ni.runTransaction(e,o,s,(function(i){return a=new YT(i,r.Ps?r.Ps.next():oI.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw oS("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new hS(dS.FAILED_PRECONDITION,HS);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return AO(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new hS(dS.FAILED_PRECONDITION,NO)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return AO(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=AO(e);return n.get("owner").next((function(e){return t.di(e)?(aS("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):QS.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(oS("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!zs()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return aS("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return oS("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(tk){oS("Failed to set zombie client id.",tk)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(tk){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return YS.V()}}]),e}();function AO(e){return JT(e,"owner")}function PO(e){return JT(e,"clientMetadata")}function DO(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var LO=function(){function e(t,n,r,i){bs(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return ws(e,null,[{key:"Vi",value:function(t,n){var r,i=DC(),a=DC(),o=xs(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),RO=function(){function e(){bs(this,e),this.Si=!1}return ws(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(IE(t))return QS.resolve(null);var r=OE(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=AE(t,null,"F"),r=OE(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=DC.apply(void 0,po(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,AE(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return IE(t)||r.isEqual(NS.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(iS()<=yu.DEBUG&&aS("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),LE(t)),i.Oi(e,o,t,US(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new hI(jE(e));return t.forEach((function(t,r){RE(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return iS()<=yu.DEBUG&&aS("QueryEngine","Using full collection scan to execute query:",LE(t)),this.Di.getDocumentsMatchingQuery(e,t,zS.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),MO=function(){function e(t,n,r,i){bs(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new lI(IS),this.Bi=new xC((function(e){return nE(e)}),rE),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return ws(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vO(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function jO(e,t,n,r){return new MO(e,t,n,r)}function FO(e,t){return VO.apply(this,arguments)}function VO(){return VO=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fS(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=DC(),u=xs(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=xs(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;s=s.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var h,p=xs(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,g=xs(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),VO.apply(this,arguments)}function UO(e,t){var n=fS(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=QS.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);lS(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=DC(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function BO(e){var t=fS(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function zO(e,t){var n=fS(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(gI.EMPTY_BYTE_STRING,NS.min()).withLastLimboFreeSnapshotVersion(NS.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var s=SC(),u=DC();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(qO(e,a,t.documentUpdates).next((function(e){s=e.Gi,u=e.Qi}))),!r.isEqual(NS.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return QS.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function qO(e,t,n){var r=DC(),i=DC();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=SC();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(NS.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):aS("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function HO(e,t){var n=fS(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function WO(e,t){var n=fS(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,QS.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new tN(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function KO(e,t,n){return GO.apply(this,arguments)}function GO(){return GO=hu(fu().mark((function e(t,n,r){var i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fS(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ZS(e.t1)){e.next=12;break}throw e.t1;case 12:aS("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),GO.apply(this,arguments)}function QO(e,t,n){var r=fS(e),i=NS.min(),a=DC();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fS(e),i=r.Bi.get(n);return void 0!==i?QS.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,OE(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:NS.min(),n?a:DC())})).next((function(e){return JO(r,ME(t),e),{documents:e,ji:a}}))}))}function $O(e,t){var n=fS(e),r=fS(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function YO(e,t){var n=fS(e),r=n.Li.get(t)||NS.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,US(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return JO(n,t,e),e}))}function JO(e,t,n){var r=NS.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function XO(e,t,n,r){return ZO.apply(this,arguments)}function ZO(){return ZO=hu(fu().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,h,p;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=fS(t),o=DC(),s=SC(),u=xs(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(d=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),s=s.insert(f,d)}catch(v){u.e(v)}finally{u.f()}return h=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,WO(a,function(e){return OE(SE(AS.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return qO(e,h,s).next((function(t){return h.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),ZO.apply(this,arguments)}function eA(e,t){return tA.apply(this,arguments)}function tA(){return tA=hu(fu().mark((function e(t,n){var r,i,a,o=arguments;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:DC(),e.next=3,WO(t,OE(lN(n.bundledQuery)));case 3:return i=e.sent,a=fS(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=JC(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(gI.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),tA.apply(this,arguments)}function nA(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function rA(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function iA(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var aA=function(){function e(t,n,r,i){bs(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ws(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new hS(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(oS("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),oA=function(){function e(t,n,r){bs(this,e),this.targetId=t,this.state=n,this.error=r}return ws(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new hS(i.error.code,i.error.message))),a?new e(t,i.state,r):(oS("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),sA=function(){function e(t,n){bs(this,e),this.clientId=t,this.activeTargetIds=n}return ws(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=RC(),o=0;i&&o<r.activeTargetIds.length;++o)i=NI(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(oS("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),uA=function(){function e(t,n){bs(this,e),this.clientId=t,this.onlineState=n}return ws(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(oS("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),cA=function(){function e(){bs(this,e),this.activeTargetIds=RC()}return ws(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),lA=function(){function e(t,n,r,i,a){bs(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new lI(IS),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=nA(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new cA),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ws(e,[{key:"start",value:function(){var e=hu(fu().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,d=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=xs(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(nA(this.persistenceKey,i)))&&(o=sA.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(s=this.storage.getItem(this.lr))&&(u=this.wr(s))&&this.mr(u),c=xs(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(h){c.e(h)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(iA(this.persistenceKey,e));if(n){var r=oA.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(iA(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return aS("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){aS("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){aS("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(aS("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void oS("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(hu(fu().mark((function e(){var r,i,a,o,s,u,c;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}u=function(e){var t=oI.ot;if(null!=e)try{var n=JSON.parse(e);lS("number"==typeof n),t=n}catch(e){oS("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==oI.ot&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new aA(this.currentUser,e,t,n),i=rA(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=rA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=iA(this.persistenceKey,e),i=new oA(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return sA.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return aA.Ji(new tS(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return oA.Ji(r,t)}},{key:"wr",value:function(e){return uA.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:aS("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Or(o,s).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=RC();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),fA=function(){function e(){bs(this,e),this.Fr=new cA,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ws(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new cA,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),dA=function(){function e(){bs(this,e)}return ws(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),hA=function(){function e(){var t=this;bs(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return ws(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){aS("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=xs(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){aS("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=xs(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),pA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vA=function(){function e(t){bs(this,e),this.jr=t.jr,this.Wr=t.Wr}return ws(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),mA=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ws(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Z_;o.listenOnce(Q_.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case G_.NO_ERROR:var t=o.getResponseJson();aS("Connection","XHR received:",JSON.stringify(t)),i(t);break;case G_.TIMEOUT:aS("Connection",'RPC "'+e+'" timed out'),a(new hS(dS.DEADLINE_EXCEEDED,"Request time out"));break;case G_.HTTP_ERROR:var n=o.getStatus();if(aS("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(dS).indexOf(t)>=0?t:dS.UNKNOWN}(r.status);a(new hS(s,r.message))}else a(new hS(dS.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new hS(dS.UNAVAILABLE,"Connection failed."));break;default:cS()}}finally{aS("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=W_(),a=K_(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new J_({})),this.uo(o.initMessageHeaders,t,n),Bs()||Hs()||Us().indexOf("Electron/")>=0||Ws()||Us().indexOf("MSAppHost/")>=0||qs()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");aS("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new vA({jr:function(e){l?aS("Connection","Not sending because WebChannel is closed:",e):(c||(aS("Connection","Opening WebChannel transport."),u.open(),c=!0),aS("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(u,X_.EventType.OPEN,(function(){l||aS("Connection","WebChannel transport opened.")})),d(u,X_.EventType.CLOSE,(function(){l||(l=!0,aS("Connection","WebChannel transport closed"),f.eo())})),d(u,X_.EventType.ERROR,(function(e){l||(l=!0,sS("Connection","WebChannel transport errored:",e),f.eo(new hS(dS.UNAVAILABLE,"The operation could not be completed")))})),d(u,X_.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];lS(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){aS("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=vC[e];if(void 0!==t)return wC(t)}(a),s=i.message;void 0===o&&(o=dS.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new hS(o,s)),u.close()}else aS("Connection","WebChannel received:",n),f.no(n)}})),d(a,$_.STAT_EVENT,(function(e){e.stat===Y_.PROXY?aS("Connection","Detected buffering proxy"):e.stat===Y_.NOPROXY&&aS("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){bs(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ws(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);aS("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return aS("RestConnection","Received: ",e),e}),(function(t){throw sS("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nS,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=pA[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function gA(){return"undefined"!=typeof window?window:null}function yA(){return"undefined"!=typeof document?document:null}function bA(e){return new GC(e,!0)}var kA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;bs(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ws(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&aS("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),wA=function(){function e(t,n,r,i,a,o,s,u){bs(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new kA(t,n)}return ws(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===dS.RESOURCE_EXHAUSTED?(oS(n.toString()),oS("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===dS.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new hS(dS.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(hu(fu().mark((function t(){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return aS("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(aS("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),xA=function(e){Is(n,e);var t=Os(n);function n(e,r,i,a,o,s){var u;return bs(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u}return ws(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cS()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(lS(void 0===t||"string"==typeof t),gI.fromBase64String(t||"")):(lS(void 0===t||t instanceof Uint8Array),gI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?dS.UNKNOWN:wC(e.code);return new hS(t,e.message||"")}(o);n=new UC(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=tT(e,u.document.name),l=JC(u.document.updateTime),f=new JI({mapValue:{fields:u.document.fields}}),d=ZI.newFoundDocument(c,l,f),h=u.targetIds||[],p=u.removedTargetIds||[];n=new FC(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=tT(e,v.document),g=v.readTime?JC(v.readTime):NS.min(),y=ZI.newNoDocument(m,g),b=v.removedTargetIds||[];n=new FC([],b,y.key,y)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=tT(e,k.document),x=k.removedTargetIds||[];n=new FC([],x,w,null)}else{if(!("filter"in t))return cS();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new bC(S),E=_.targetId;n=new VC(E,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return NS.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?NS.min():t.readTime?JC(t.readTime):NS.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=iT(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=iE(r)?{documents:fT(e,r)}:{query:dT(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=$C(e,t.resumeToken):t.snapshotVersion.compareTo(NS.min())>0&&(n.readTime=QC(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cS()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=iT(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(wA),_A=function(e){Is(n,e);var t=Os(n);function n(e,r,i,a,o,s){var u;return bs(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u.Wo=!1,u}return ws(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Cd(Es(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(lS(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(lS(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?JC(e.updateTime):JC(t);return n.isEqual(NS.min())&&(n=JC(t)),new tC(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=JC(e.commitTime);return this.listener.Jo(n,t)}return lS(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=iT(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return cT(t.wt,e)}))};this.Oo(n)}}]),n}(wA),SA=function(e){Is(n,e);var t=Os(n);function n(e,r,i,a){var o;return bs(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return ws(n,[{key:"tu",value:function(){if(this.Zo)throw new hS(dS.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===dS.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new hS(dS.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.bo.ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===dS.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new hS(dS.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ws((function e(){bs(this,e)}))}()),IA=function(){function e(t,n){bs(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ws(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(oS(t),this.su=!1):aS("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),EA=ws((function e(t,n,r,i,a){var o=this;bs(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=jA(o),!e.t0){e.next=5;break}return aS("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fS(t)).lu.add(4),e.next=4,NA(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,CA(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new IA(r,i)}));function CA(e){return TA.apply(this,arguments)}function TA(){return TA=hu(fu().mark((function e(t){var n,r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jA(t)){e.next=18;break}n=xs(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),TA.apply(this,arguments)}function NA(e){return OA.apply(this,arguments)}function OA(){return OA=hu(fu().mark((function e(t){var n,r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xs(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),OA.apply(this,arguments)}function AA(e,t){var n=fS(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),MA(n)?RA(n):dP(n).Co()&&DA(n,t))}function PA(e,t){var n=fS(e),r=dP(n);n.hu.delete(t),r.Co()&&LA(n,t),0===n.hu.size&&(r.Co()?r.ko():jA(n)&&n._u.set("Unknown"))}function DA(e,t){e.wu.Nt(t.targetId),dP(e).Qo(t)}function LA(e,t){e.wu.Nt(t),dP(e).jo(t)}function RA(e){e.wu=new zC({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),dP(e).start(),e._u.iu()}function MA(e){return jA(e)&&!dP(e).Do()&&e.hu.size>0}function jA(e){return 0===fS(e).lu.size}function FA(e){e.wu=void 0}function VA(e){return UA.apply(this,arguments)}function UA(){return UA=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){DA(t,e)}));case 1:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function BA(e,t){return zA.apply(this,arguments)}function zA(){return zA=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:FA(t),MA(t)?(t._u.uu(n),RA(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),zA.apply(this,arguments)}function qA(e,t,n){return HA.apply(this,arguments)}function HA(){return HA=hu(fu().mark((function e(t,n,r){var i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof UC&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=hu(fu().mark((function e(t,n){var r,i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=xs(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),aS("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,WA(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof FC?t.wu.Ut(n):n instanceof VC?t.wu.zt(n):t.wu.Gt(n),r.isEqual(NS.min())){e.next=29;break}return e.prev=14,e.next=17,BO(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(gI.EMPTY_BYTE_STRING,n.snapshotVersion)),LA(e,t);var r=new tN(n.target,t,1,n.sequenceNumber);DA(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),aS("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,WA(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),HA.apply(this,arguments)}function WA(e,t,n){return KA.apply(this,arguments)}function KA(){return KA=hu(fu().mark((function e(t,n,r){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ZS(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,NA(t);case 5:t._u.set("Offline"),r||(r=function(){return BO(t.localStore)}),t.asyncQueue.enqueueRetryable(hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aS("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,CA(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}function GA(e,t){return t().catch((function(n){return WA(e,n,t)}))}function QA(e){return $A.apply(this,arguments)}function $A(){return $A=hu(fu().mark((function e(t){var n,r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fS(t),r=hP(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!YA(n)){e.next=19;break}return e.prev=3,e.next=6,HO(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,JA(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,WA(n,e.t0);case 17:e.next=2;break;case 19:XA(n)&&ZA(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),$A.apply(this,arguments)}function YA(e){return jA(e)&&e.au.length<10}function JA(e,t){e.au.push(t);var n=hP(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function XA(e){return jA(e)&&!hP(e).Do()&&e.au.length>0}function ZA(e){hP(e).start()}function eP(e){return tP.apply(this,arguments)}function tP(){return tP=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hP(t).Xo();case 1:case"end":return e.stop()}}),e)}))),tP.apply(this,arguments)}function nP(e){return rP.apply(this,arguments)}function rP(){return rP=hu(fu().mark((function e(t){var n,r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hP(t),r=xs(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),rP.apply(this,arguments)}function iP(e,t,n){return aP.apply(this,arguments)}function aP(){return aP=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=ZT.from(i,n,r),e.next=3,GA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,QA(t);case 5:case"end":return e.stop()}}),e)}))),aP.apply(this,arguments)}function oP(e,t){return sP.apply(this,arguments)}function sP(){return sP=hu(fu().mark((function e(t,n){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&hP(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=hu(fu().mark((function e(t,n){var r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kC(i=n.code)||i===dS.ABORTED){e.next=7;break}return r=t.au.shift(),hP(t).No(),e.next=5,GA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,QA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:XA(t)&&ZA(t);case 5:case"end":return e.stop()}}),e)}))),sP.apply(this,arguments)}function uP(e,t){return cP.apply(this,arguments)}function cP(){return cP=hu(fu().mark((function e(t,n){var r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fS(t)).asyncQueue.verifyOperationInProgress(),aS("RemoteStore","RemoteStore received new credentials"),i=jA(r),r.lu.add(3),e.next=6,NA(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,CA(r);case 12:case"end":return e.stop()}}),e)}))),cP.apply(this,arguments)}function lP(e,t){return fP.apply(this,arguments)}function fP(){return fP=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fS(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,CA(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,NA(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),fP.apply(this,arguments)}function dP(e){return e.mu||(e.mu=function(e,t,n){var r=fS(e);return r.tu(),new xA(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:VA.bind(null,e),Jr:BA.bind(null,e),Go:qA.bind(null,e)}),e.fu.push(function(){var t=hu(fu().mark((function t(n){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),MA(e)?RA(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:FA(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function hP(e){return e.gu||(e.gu=function(e,t,n){var r=fS(e);return r.tu(),new _A(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:eP.bind(null,e),Jr:oP.bind(null,e),Yo:nP.bind(null,e),Jo:iP.bind(null,e)}),e.fu.push(function(){var t=hu(fu().mark((function t(n){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,QA(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(aS("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var pP=function(){function e(t,n,r,i,a){bs(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new pS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ws(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hS(dS.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function vP(e,t){if(oS("AsyncQueue","".concat(t,": ").concat(e)),ZS(e))return new hS(dS.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var mP=function(){function e(t){bs(this,e),this.comparator=t?function(e,n){return t(e,n)||LS.comparator(e.key,n.key)}:function(e,t){return LS.comparator(e.key,t.key)},this.keyedMap=EC(),this.sortedSet=new lI(this.comparator)}return ws(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),gP=function(){function e(){bs(this,e),this.yu=new lI(LS.comparator)}return ws(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):cS():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),yP=function(){function e(t,n,r,i,a,o,s,u){bs(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return ws(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&PE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,mP.emptySet(n),a,r,i,!0,!1)}}]),e}(),bP=ws((function e(){bs(this,e),this.Iu=void 0,this.listeners=[]})),kP=ws((function e(){bs(this,e),this.queries=new xC((function(e){return DE(e)}),PE),this.onlineState="Unknown",this.Tu=new Set}));function wP(e,t){return xP.apply(this,arguments)}function xP(){return xP=hu(fu().mark((function e(t,n){var r,i,a,o,s;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fS(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new bP),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=vP(e.t0,"Initialization of query '".concat(LE(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&CP(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),xP.apply(this,arguments)}function _P(e,t){return SP.apply(this,arguments)}function SP(){return SP=hu(fu().mark((function e(t,n){var r,i,a,o,s;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fS(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),SP.apply(this,arguments)}function IP(e,t){var n,r=fS(e),i=!1,a=xs(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=xs(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&CP(r)}function EP(e,t,n){var r=fS(e),i=r.queries.get(t);if(i){var a,o=xs(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function CP(e){e.Tu.forEach((function(e){e.next()}))}var TP=function(){function e(t,n,r){bs(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ws(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=xs(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new yP(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=yP.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),NP=function(){function e(t,n){bs(this,e),this.payload=t,this.byteLength=n}return ws(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),OP=function(){function e(t){bs(this,e),this.wt=t}return ws(e,[{key:"Wi",value:function(e){return tT(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?sT(this.wt,e.document,!1):ZI.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return JC(e)}}]),e}(),AP=function(){function e(t,n,r){bs(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=PP(t)}return ws(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=AS.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new OP(this.wt),i=xs(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Wi(a.metadata.name),u=xs(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||DC()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=hu(fu().mark((function e(){var t,n,r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XO(this.localStore,new OP(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=xs(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,eA(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function PP(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var DP=ws((function e(t){bs(this,e),this.key=t})),LP=ws((function e(t){bs(this,e),this.key=t})),RP=function(){function e(t,n){bs(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=DC(),this.mutatedKeys=DC(),this.Lu=jE(t),this.Uu=new mP(this.Lu)}return ws(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new gP,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=RE(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Lu(f,u)>0||c&&n.Lu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cS()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new yP(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new gP,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=DC(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new LP(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new DP(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=DC();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return yP.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),MP=ws((function e(t,n,r){bs(this,e),this.query=t,this.targetId=n,this.view=r})),jP=ws((function e(t){bs(this,e),this.key=t,this.Xu=!1})),FP=function(){function e(t,n,r,i,a,o){bs(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new xC((function(e){return DE(e)}),PE),this.ec=new Map,this.nc=new Set,this.sc=new lI(LS.comparator),this.ic=new Map,this.rc=new yO,this.oc={},this.uc=new Map,this.cc=QN.Rn(),this.onlineState="Unknown",this.ac=void 0}return ws(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function VP(e,t){return UP.apply(this,arguments)}function UP(){return UP=hu(fu().mark((function e(t,n){var r,i,a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=PD(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,WO(r.localStore,OE(n));case 8:return s=e.sent,r.isPrimaryClient&&AA(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,BP(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),UP.apply(this,arguments)}function BP(e,t,n,r){return zP.apply(this,arguments)}function zP(){return zP=hu(fu().mark((function e(t,n,r,i){var a,o,s,u,c,l;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=hu(fu().mark((function e(t,n,r,i){var a,o,s;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,QO(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(uD(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,QO(t.localStore,n,!0);case 3:return a=e.sent,o=new RP(n,a.ji),s=o.Ku(a.documents),u=jC.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),uD(t,r,c.zu),l=new MP(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),zP.apply(this,arguments)}function qP(e,t){return HP.apply(this,arguments)}function HP(){return HP=hu(fu().mark((function e(t,n){var r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fS(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!PE(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,KO(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),PA(r.remoteStore,i.targetId),oD(r,i.targetId)})).catch(KS);case 9:e.next=14;break;case 11:return oD(r,i.targetId),e.next=14,KO(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),HP.apply(this,arguments)}function WP(e,t,n){return KP.apply(this,arguments)}function KP(){return KP=hu(fu().mark((function e(t,n,r){var i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=DD(t),e.prev=1,e.next=4,function(e,t){var n,r,i=fS(e),a=TS.now(),o=t.reduce((function(e,t){return e.add(t.key)}),DC());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=SC(),u=DC();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=xs(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=uC(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new fC(c.key,l,XI(l.value.mapValue),nC.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:CC(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new lI(IS)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,fD(i,a.changes);case 9:return e.next=11,QA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=vP(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),KP.apply(this,arguments)}function GP(e,t){return QP.apply(this,arguments)}function QP(){return QP=hu(fu().mark((function e(t,n){var r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fS(t),e.prev=1,e.next=4,zO(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(lS(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?lS(n.Xu):e.removedDocuments.size>0&&(lS(n.Xu),n.Xu=!1))})),e.next=8,fD(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,KS(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),QP.apply(this,arguments)}function $P(e,t,n){var r=fS(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fS(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=xs(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&CP(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function YP(e,t,n){return JP.apply(this,arguments)}function JP(){return JP=hu(fu().mark((function e(t,n,r){var i,a,o,s,u,c;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fS(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new lI(LS.comparator)).insert(o,ZI.newNoDocument(o,NS.min())),u=DC().add(o),c=new MC(NS.min(),new Map,new hI(IS),s,u),e.next=9,GP(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),lD(i),e.next=16;break;case 14:return e.next=16,KO(i.localStore,n,!1).then((function(){return oD(i,n,r)})).catch(KS);case 16:case"end":return e.stop()}}),e)}))),JP.apply(this,arguments)}function XP(e,t){return ZP.apply(this,arguments)}function ZP(){return ZP=hu(fu().mark((function e(t,n){var r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fS(t),i=n.batch.batchId,e.prev=1,e.next=4,UO(r.localStore,n);case 4:return a=e.sent,aD(r,i,null),iD(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,fD(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,KS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ZP.apply(this,arguments)}function eD(e,t,n){return tD.apply(this,arguments)}function tD(){return tD=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fS(t),e.prev=1,e.next=4,function(e,t){var n=fS(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return lS(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,aD(i,n,r),iD(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,fD(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,KS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),tD.apply(this,arguments)}function nD(e,t){return rD.apply(this,arguments)}function rD(){return rD=hu(fu().mark((function e(t,n){var r,i,a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jA((r=fS(t)).remoteStore)||aS("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=fS(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=vP(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),rD.apply(this,arguments)}function iD(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function aD(e,t,n){var r=fS(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function oD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=xs(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||sD(e,t)}))}function sD(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(PA(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),lD(e))}function uD(e,t,n){var r,i=xs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof DP?(e.rc.addReference(a.key,t),cD(e,a)):a instanceof LP?(aS("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||sD(e,a.key)):cS()}}catch(o){i.e(o)}finally{i.f()}}function cD(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(aS("SyncEngine","New document in limbo: "+n),e.nc.add(r),lD(e))}function lD(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new LS(AS.fromString(t)),r=e.cc.next();e.ic.set(r,new jP(n)),e.sc=e.sc.insert(n,r),AA(e.remoteStore,new tN(OE(SE(n.path)),r,2,oI.ot))}}function fD(e,t,n){return dD.apply(this,arguments)}function dD(){return dD=hu(fu().mark((function e(t,n,r){var i,a,o,s;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fS(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=LO.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=hu(fu().mark((function e(t,n){var r,i,a,o,s,u,c,l;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fS(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return QS.forEach(n,(function(t){return QS.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return QS.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ZS(e.t0)){e.next=10;break}throw e.t0;case 10:aS("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=xs(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.$i.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),dD.apply(this,arguments)}function hD(e,t){return pD.apply(this,arguments)}function pD(){return pD=hu(fu().mark((function e(t,n){var r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fS(t)).currentUser.isEqual(n)){e.next=11;break}return aS("SyncEngine","User change. New user:",n.toKey()),e.next=5,FO(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new hS(dS.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,fD(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),pD.apply(this,arguments)}function vD(e,t){var n=fS(e),r=n.ic.get(t);if(r&&r.Xu)return DC().add(r.key);var i=DC(),a=n.ec.get(t);if(!a)return i;var o,s=xs(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.tc.get(u);i=i.unionWith(c.view.qu)}}catch(l){s.e(l)}finally{s.f()}return i}function mD(e,t){return gD.apply(this,arguments)}function gD(){return gD=hu(fu().mark((function e(t,n){var r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fS(t),e.next=3,QO(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&uD(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),gD.apply(this,arguments)}function yD(e,t){return bD.apply(this,arguments)}function bD(){return bD=hu(fu().mark((function e(t,n){var r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fS(t),e.abrupt("return",YO(r.localStore,n).then((function(e){return fD(r,e)})));case 2:case"end":return e.stop()}}),e)}))),bD.apply(this,arguments)}function kD(e,t,n,r){return wD.apply(this,arguments)}function wD(){return wD=hu(fu().mark((function e(t,n,r,i){var a,o;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fS(t),e.next=3,function(e,t){var n=fS(e),r=fS(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):QS.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,QA(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(aD(a,n,i||null),iD(a,n),function(e,t){fS(fS(e).mutationQueue).In(t)}(a.localStore,n)):cS();case 11:return e.next=13,fD(a,o);case 13:e.next=16;break;case 15:aS("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),wD.apply(this,arguments)}function xD(e,t){return _D.apply(this,arguments)}function _D(){return _D=hu(fu().mark((function e(t,n){var r,i,a,o,s,u,c,l;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(PD(r=fS(t)),DD(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,SD(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,lP(r.remoteStore,!0);case 9:o=xs(a);try{for(o.s();!(s=o.n()).done;)u=s.value,AA(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return oD(r,t),KO(r.localStore,t,!0)})),PA(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,SD(r,c);case 21:return function(e){var t=fS(e);t.ic.forEach((function(e,n){PA(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new lI(LS.comparator)}(r),r.ac=!1,e.next=25,lP(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),_D.apply(this,arguments)}function SD(e,t,n){return ID.apply(this,arguments)}function ID(){return ID=hu(fu().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h,p,v,m,g;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=fS(t),a=[],o=[],s=xs(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,WO(i.localStore,OE(f[0]));case 11:l=e.sent,d=xs(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.tc.get(p),e.next=20,mD(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,$O(i.localStore,c);case 36:return g=e.sent,e.next=39,WO(i.localStore,g);case 39:return l=e.sent,e.next=42,BP(i,ED(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ID.apply(this,arguments)}function ED(e){return _E(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function CD(e){var t=fS(e);return fS(fS(t.localStore).persistence).Ri()}function TD(e,t,n,r){return ND.apply(this,arguments)}function ND(){return ND=hu(fu().mark((function e(t,n,r,i){var a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=fS(t)).ac){e.next=3;break}return e.abrupt("return",void aS("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,YO(a.localStore,ME(o[0]));case 10:return s=e.sent,u=MC.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,fD(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,KO(a.localStore,n,!0);case 17:return oD(a,n,i),e.abrupt("break",20);case 19:cS();case 20:case"end":return e.stop()}}),e)}))),ND.apply(this,arguments)}function OD(e,t,n){return AD.apply(this,arguments)}function AD(){return AD=hu(fu().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=PD(t)).ac){e.next=45;break}a=xs(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ec.has(s)){e.next=10;break}return aS("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,$O(i.localStore,s);case 12:return u=e.sent,e.next=15,WO(i.localStore,u);case 15:return c=e.sent,e.next=18,BP(i,ED(u),c.targetId,!1);case 18:AA(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=xs(r),e.prev=30,d=fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,KO(i.localStore,t,!1).then((function(){PA(i.remoteStore,t),oD(i,t)})).catch(KS);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),AD.apply(this,arguments)}function PD(e){var t=fS(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=GP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YP.bind(null,t),t.Zu.Go=IP.bind(null,t.eventManager),t.Zu.lc=EP.bind(null,t.eventManager),t}function DD(e){var t=fS(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eD.bind(null,t),t}function LD(e,t,n){var r=fS(e);(function(){var e=hu(fu().mark((function e(t,n,r){var i,a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=fS(e),r=JC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(PP(i)),a=new AP(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,fD(t,u.Ou,void 0);case 31:return e.next=33,function(e,t){var n=fS(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(sS("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var RD=function(){function e(){bs(this,e),this.synchronizeTabs=!1}return ws(e,[{key:"initialize",value:function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=bA(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return jO(this.persistence,new RO,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new SO(EO.Os,this.wt)}},{key:"dc",value:function(e){return new fA}},{key:"terminate",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),MD=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a;return bs(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ws(n,[{key:"initialize",value:function(){var e=hu(fu().mark((function e(t){var r=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cd(Es(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,DD(this.yc.syncEngine);case 6:return e.next=8,QA(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return jO(this.persistence,new RO,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new tO(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new aI(t,this.persistence);return new iI(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=DO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?UN.withCacheSize(this.cacheSizeBytes):UN.DEFAULT;return new OO(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,gA(),yA(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new fA}}]),n}(RD),jD=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ws(n,[{key:"initialize",value:function(){var e=hu(fu().mark((function e(t){var r,i=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cd(Es(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof lA,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:kD.bind(null,r),Mr:TD.bind(null,r),Or:OD.bind(null,r),Ri:CD.bind(null,r),Nr:yD.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xD(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=gA();if(!lA.V(t))throw new hS(dS.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=DO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lA(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(MD),FD=function(){function e(){bs(this,e)}return ws(e,[{key:"initialize",value:function(){var e=hu(fu().mark((function e(t,n){var r=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return $P(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine),e.next=12,lP(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new kP}},{key:"createDatastore",value:function(e){var t,n=bA(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new mA(t));return function(e,t,n,r){return new SA(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return $P(o.syncEngine,e,0)},a=hA.V()?new hA:new dA,new EA(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new FP(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fS(t),aS("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,NA(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function VD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return hu(fu().mark((function r(){var i;return fu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var UD=function(){function e(t){bs(this,e),this.observer=t,this.muted=!1}return ws(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):oS("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),BD=function(){function e(t,n){var r=this;bs(this,e),this.Ec=t,this.wt=n,this.metadata=new pS,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ws(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=hu(fu().mark((function e(){var t,n,r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new NP(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=hu(fu().mark((function e(){var t,n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=hu(fu().mark((function e(){var t,n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zD=function(){function e(t){bs(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ws(e,[{key:"lookup",value:function(){var e=hu(fu().mark((function e(t){var n,r=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new hS(dS.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=hu(fu().mark((function e(t,n){var r,i,a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fS(t),i=iT(r.wt)+"/documents",a={documents:n.map((function(e){return eT(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=uT(r.wt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());lS(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new gC(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=hu(fu().mark((function e(){var t,n=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=LS.fromPath(t);n.mutations.push(new yC(r,n.precondition(r)))})),e.next=7,function(){var e=hu(fu().mark((function e(t,n){var r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fS(t),i=iT(r.wt)+"/documents",a={writes:n.map((function(e){return cT(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cS();t=NS.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new hS(dS.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?nC.updateTime(t):nC.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(NS.min()))throw new hS(dS.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nC.updateTime(t)}return nC.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),qD=function(){function e(t,n,r,i,a){bs(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new kA(this.asyncQueue,"transaction_retry")}return ws(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(hu(fu().mark((function t(){var n,r;return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new zD(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!CI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!kC(t)}return!1}}]),e}(),HD=function(){function e(t,n,r,i){var a=this;bs(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tS.UNAUTHENTICATED,this.clientId=SS.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aS("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return aS("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ws(e,[{key:"getConfiguration",value:function(){var e=hu(fu().mark((function e(){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new hS(dS.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new pS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(hu(fu().mark((function n(){var r;return fu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=vP(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function WD(e,t){return KD.apply(this,arguments)}function KD(){return KD=hu(fu().mark((function e(t,n){var r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),aS("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,FO(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),KD.apply(this,arguments)}function GD(e,t){return QD.apply(this,arguments)}function QD(){return QD=hu(fu().mark((function e(t,n){var r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,$D(t);case 3:return r=e.sent,aS("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return uP(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return uP(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),QD.apply(this,arguments)}function $D(e){return YD.apply(this,arguments)}function YD(){return YD=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return aS("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,WD(t,new RD);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),YD.apply(this,arguments)}function JD(e){return XD.apply(this,arguments)}function XD(){return XD=hu(fu().mark((function e(t){return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return aS("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,GD(t,new FD);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),XD.apply(this,arguments)}function ZD(e){return $D(e).then((function(e){return e.persistence}))}function eL(e){return $D(e).then((function(e){return e.localStore}))}function tL(e){return JD(e).then((function(e){return e.remoteStore}))}function nL(e){return JD(e).then((function(e){return e.syncEngine}))}function rL(e){return iL.apply(this,arguments)}function iL(){return iL=hu(fu().mark((function e(t){var n,r;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JD(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=VP.bind(null,n.syncEngine),r.onUnlisten=qP.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),iL.apply(this,arguments)}function aL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pS;return e.asyncQueue.enqueueAndForget(hu(fu().mark((function i(){return fu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new UD({next:function(a){t.enqueueAndForget((function(){return _P(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new hS(dS.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new hS(dS.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new TP(SE(n.path),a,{includeMetadataChanges:!0,Du:!0});return wP(e,o)},i.next=3,rL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function oL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pS;return e.asyncQueue.enqueueAndForget(hu(fu().mark((function i(){return fu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new UD({next:function(n){t.enqueueAndForget((function(){return _P(e,o)})),n.fromCache&&"server"===r.source?i.reject(new hS(dS.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new TP(n,a,{includeMetadataChanges:!0,Du:!0});return wP(e,o)},i.next=3,rL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var sL=new Map;function uL(e,t,n){if(!n)throw new hS(dS.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function cL(e,t,n,r){if(!0===t&&!0===r)throw new hS(dS.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function lL(e){if(!LS.isDocumentKey(e))throw new hS(dS.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function fL(e){if(LS.isDocumentKey(e))throw new hS(dS.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function dL(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":cS()}function hL(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hS(dS.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=dL(e);throw new hS(dS.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function pL(e,t){if(t<=0)throw new hS(dS.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var vL=function(){function e(t){var n;if(bs(this,e),void 0===t.host){if(void 0!==t.ssl)throw new hS(dS.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new hS(dS.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,cL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ws(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),mL=function(){function e(t,n,r){bs(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vL({}),this._settingsFrozen=!1,t instanceof EI?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hS(dS.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new EI(e.options.projectId)}(t))}return ws(e,[{key:"app",get:function(){if(!this._app)throw new hS(dS.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new hS(dS.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vL(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new mS;switch(e.type){case"gapi":var t=e.client;return lS(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new kS(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new hS(dS.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=sL.get(e);t&&(aS("ComponentProvider","Removing Datastore"),sL.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function gL(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=hL(e,mL))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&sS("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=tS.MOCK_USER;else{o=Vs(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new hS(dS.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new tS(u)}e._authCredentials=new gS(new vS(o,s))}}var yL=function(){function e(t,n,r){bs(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ws(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new kL(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),bL=function(){function e(t,n,r){bs(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ws(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),kL=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a;return bs(this,n),(a=t.call(this,e,r,SE(i)))._path=i,a.type="collection",a}return ws(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new yL(this.firestore,null,new LS(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(bL);function wL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lu(e),uL("collection","path",t),e instanceof mL){var a=AS.fromString.apply(AS,[t].concat(r));return fL(a),new kL(e,null,a)}if(!(e instanceof yL||e instanceof kL))throw new hS(dS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(AS.fromString.apply(AS,[t].concat(r)));return fL(o),new kL(e.firestore,null,o)}function xL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lu(e),1===arguments.length&&(t=SS.I()),uL("doc","path",t),e instanceof mL){var a=AS.fromString.apply(AS,[t].concat(r));return lL(a),new yL(e,null,new LS(a))}if(!(e instanceof yL||e instanceof kL))throw new hS(dS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(AS.fromString.apply(AS,[t].concat(r)));return lL(o),new yL(e.firestore,e instanceof kL?e.converter:null,new LS(o))}function _L(e,t){return e=lu(e),t=lu(t),(e instanceof yL||e instanceof kL)&&(t instanceof yL||t instanceof kL)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function SL(e,t){return e=lu(e),t=lu(t),e instanceof bL&&t instanceof bL&&e.firestore===t.firestore&&PE(e._query,t._query)&&e.converter===t.converter}var IL=function(){function e(){var t=this;bs(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new kA(this,"async_queue_retry"),this.Kc=function(){var e=yA();e&&aS("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=yA();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return ws(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=yA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new pS;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=hu(fu().mark((function e(){var t=this;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ZS(e.t0)){e.next=12;break}throw e.t0;case 12:aS("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw oS("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=pP.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&cS()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=xs(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=xs(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function EL(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=xs(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var CL=function(){function e(){bs(this,e),this._progressObserver={},this._taskCompletionResolver=new pS,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ws(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),TL=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a;return bs(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new IL,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ws(n,[{key:"_terminate",value:function(){return this._firestoreClient||OL(this),this._firestoreClient.terminate()}}]),n}(mL);function NL(e){return e._firestoreClient||OL(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function OL(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new II(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new HD(e._authCredentials,e._appCheckCredentials,e._queue,r)}function AL(e,t,n){var r=new pS;return e.asyncQueue.enqueue(hu(fu().mark((function i(){var a;return fu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,WD(e,n);case 3:return i.next=5,GD(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===dS.FAILED_PRECONDITION||e.code===dS.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:sS("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function PL(e){return function(e){return e.asyncQueue.enqueue(hu(fu().mark((function t(){var n,r;return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ZD(e);case 2:return n=t.sent,t.next=5,tL(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=fS(e);return t.lu.delete(0),CA(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(NL(e=hL(e,TL)))}function DL(e){return function(e){return e.asyncQueue.enqueue(hu(fu().mark((function t(){var n,r;return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ZD(e);case 2:return n=t.sent,t.next=5,tL(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fS(t)).lu.add(0),e.next=4,NA(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(NL(e=hL(e,TL)))}function LL(e,t){var n=NL(e=hL(e,TL)),r=new CL;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new BD(e,t)}(function(e,t){if(e instanceof Uint8Array)return VD(e,t);if(e instanceof ArrayBuffer)return VD(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,bA(t));e.asyncQueue.enqueueAndForget(hu(fu().mark((function t(){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=LD,t.next=3,nL(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function RL(e,t){return function(e,t){return e.asyncQueue.enqueue(hu(fu().mark((function n(){return fu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=fS(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,eL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(NL(e=hL(e,TL)),t).then((function(t){return t?new bL(e,null,t.query):null}))}function ML(e){if(e._initialized||e._terminated)throw new hS(dS.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jL=function(){function e(){bs(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new hS(dS.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new DS(n)}return ws(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var FL=function(){function e(t){bs(this,e),this._byteString=t}return ws(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(gI.fromBase64String(t))}catch(t){throw new hS(dS.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(gI.fromUint8Array(t))}}]),e}(),VL=ws((function e(t){bs(this,e),this._methodName=t})),UL=function(){function e(t,n){if(bs(this,e),!isFinite(t)||t<-90||t>90)throw new hS(dS.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new hS(dS.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ws(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return IS(this._lat,e._lat)||IS(this._long,e._long)}}]),e}(),BL=/^__.*__$/,zL=function(){function e(t,n,r){bs(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ws(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fC(e,this.data,this.fieldMask,t,this.fieldTransforms):new lC(e,this.data,t,this.fieldTransforms)}}]),e}(),qL=function(){function e(t,n,r){bs(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ws(e,[{key:"toMutation",value:function(e,t){return new fC(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function HL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cS()}}var WL=function(){function e(t,n,r,i,a,o){bs(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ws(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return fR(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(HL(this.Zc)&&BL.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),KL=function(){function e(t,n,r){bs(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||bA(t)}return ws(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new WL({Zc:e,methodName:t,ca:n,path:DS.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function GL(e){var t=e._freezeSettings(),n=bA(e._databaseId);return new KL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QL(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);sR("Data must be an object, but it was:",o,r);var s,u,c=aR(r,o);if(a.merge)s=new mI(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=xs(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=uR(t,h,n);if(!o.contains(p))throw new hS(dS.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));dR(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}s=new mI(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new zL(new JI(c),s,u)}var $L=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.apply(this,arguments)}return ws(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(VL);function YL(e,t,n){return new WL({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var JL=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.apply(this,arguments)}return ws(n,[{key:"_toFieldTransform",value:function(e){return new eC(e.path,new KE)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(VL),XL=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,e)).ha=r,i}return ws(n,[{key:"_toFieldTransform",value:function(e){var t=YL(this,e,!0),n=this.ha.map((function(e){return iR(e,t)})),r=new GE(n);return new eC(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VL),ZL=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,e)).ha=r,i}return ws(n,[{key:"_toFieldTransform",value:function(e){var t=YL(this,e,!0),n=this.ha.map((function(e){return iR(e,t)})),r=new $E(n);return new eC(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VL),eR=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,e)).la=r,i}return ws(n,[{key:"_toFieldTransform",value:function(e){var t=new JE(e.wt,BE(e.wt,this.la));return new eC(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VL);function tR(e,t,n,r){var i=e.aa(1,t,n);sR("Data must be an object, but it was:",i,r);var a=[],o=JI.empty();uI(r,(function(e,r){var s=lR(t,e,n);r=lu(r);var u=i.ia(s);if(r instanceof $L)a.push(s);else{var c=iR(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new mI(a);return new qL(o,s,i.fieldTransforms)}function nR(e,t,n,r,i,a){var o=e.aa(1,t,n),s=[uR(t,r,n)],u=[i];if(a.length%2!=0)throw new hS(dS.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(uR(t,a[c])),u.push(a[c+1]);for(var l=[],f=JI.empty(),d=s.length-1;d>=0;--d)if(!dR(l,s[d])){var h=s[d],p=u[d];p=lu(p);var v=o.ia(h);if(p instanceof $L)l.push(h);else{var m=iR(p,v);null!=m&&(l.push(h),f.set(h,m))}}var g=new mI(l);return new qL(f,g,o.fieldTransforms)}function rR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return iR(n,e.aa(r?4:3,t))}function iR(e,t){if(oR(e=lu(e)))return sR("Unsupported field value:",t,e),aR(e,t);if(e instanceof VL)return function(e,t){if(!HL(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=xs(e);try{for(a.s();!(n=a.n()).done;){var o=iR(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=lu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return BE(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=TS.fromDate(e);return{timestampValue:QC(t.wt,n)}}if(e instanceof TS){var r=new TS(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:QC(t.wt,r)}}if(e instanceof UL)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof FL)return{bytesValue:$C(t.wt,e._byteString)};if(e instanceof yL){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:XC(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(dL(e)))}(e,t)}function aR(e,t){var n={};return cI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uI(e,(function(e,r){var i=iR(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof TS||e instanceof UL||e instanceof FL||e instanceof yL||e instanceof VL)}function sR(e,t,n){if(!oR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=dL(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function uR(e,t,n){if((t=lu(t))instanceof jL)return t._internalPath;if("string"==typeof t)return lR(e,t);throw fR("Field path arguments must be of type string or ",e,!1,void 0,n)}var cR=new RegExp("[~\\*/\\[\\]]");function lR(e,t,n){if(t.search(cR)>=0)throw fR("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return As(jL,po(t.split(".")))._internalPath}catch(r){throw fR("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function fR(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new hS(dS.INVALID_ARGUMENT,s+e+u)}function dR(e,t){return e.some((function(e){return e.isEqual(t)}))}var hR=function(){function e(t,n,r,i,a){bs(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ws(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new yL(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new pR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(vR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),pR=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.apply(this,arguments)}return ws(n,[{key:"data",value:function(){return Cd(Es(n.prototype),"data",this).call(this)}}]),n}(hR);function vR(e,t){return"string"==typeof t?lR(e,t):t instanceof jL?t._internalPath:t._delegate._internalPath}var mR=function(){function e(t,n){bs(this,e),this.hasPendingWrites=t,this.fromCache=n}return ws(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),gR=function(e){Is(n,e);var t=Os(n);function n(e,r,i,a,o,s){var u;return bs(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return ws(n,[{key:"exists",value:function(){return Cd(Es(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new yR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(vR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(hR),yR=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.apply(this,arguments)}return ws(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Cd(Es(n.prototype),"data",this).call(this,e)}}]),n}(gR),bR=function(){function e(t,n,r,i){bs(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new mR(i.hasPendingWrites,i.fromCache),this.query=r}return ws(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new yR(n._firestore,n._userDataWriter,r.key,r,new mR(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new hS(dS.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new yR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new yR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:kR(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function kR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cS()}}function wR(e,t){return e instanceof gR&&t instanceof gR?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof bR&&t instanceof bR&&e._firestore===t._firestore&&SL(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function xR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new hS(dS.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _R=ws((function e(){bs(this,e)}));function SR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var IR=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a;return bs(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return ws(n,[{key:"_apply",value:function(e){var t=GL(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new hS(dS.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){MR(o,a);var u,c=[],l=xs(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(RR(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=RR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||MR(o,a),s=rR(n,"where",o,"in"===a||"not-in"===a);var d=uE.create(i,a,s);return function(e,t){if(t.ht()){var n=CE(e);if(null!==n&&!n.isEqual(t.field))throw new hS(dS.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=EE(e);null!==r&&jR(e,t.field,r)}var i=function(e,t){var n,r=xs(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new hS(dS.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new hS(dS.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new bL(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new xE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(_R);var ER=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return ws(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new hS(dS.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new hS(dS.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yE(t,n);return function(e,t){if(null===EE(e)){var n=CE(e);null!==n&&jR(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new bL(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new xE(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(_R);var CR=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a;return bs(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return ws(n,[{key:"_apply",value:function(e){return new bL(e.firestore,e.converter,AE(e._query,this.ma,this.ga))}}]),n}(_R);var TR=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a;return bs(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ws(n,[{key:"_apply",value:function(e){var t=LR(e,this.type,this.ya,this.pa);return new bL(e.firestore,e.converter,function(e,t){return new xE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(_R);function NR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TR("startAt",t,!0)}function OR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TR("startAfter",t,!1)}var AR=function(e){Is(n,e);var t=Os(n);function n(e,r,i){var a;return bs(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ws(n,[{key:"_apply",value:function(e){var t=LR(e,this.type,this.ya,this.pa);return new bL(e.firestore,e.converter,function(e,t){return new xE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(_R);function PR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new AR("endBefore",t,!1)}function DR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new AR("endAt",t,!0)}function LR(e,t,n,r){if(n[0]=lu(n[0]),n[0]instanceof hR)return function(e,t,n,r,i){if(!r)throw new hS(dS.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=xs(NE(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(VI(t,r.key));else{var c=r.data.field(u.field);if(xI(c))throw new hS(dS.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new hS(dS.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new gE(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=GL(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new hS(dS.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new hS(dS.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!TE(e)&&-1!==c.indexOf("/"))throw new hS(dS.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(AS.fromString(c));if(!LS.isDocumentKey(l))throw new hS(dS.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new LS(l);s.push(VI(t,f))}else{var d=rR(n,r,c);s.push(d)}}return new gE(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function RR(e,t,n){if("string"==typeof(n=lu(n))){if(""===n)throw new hS(dS.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TE(t)&&-1!==n.indexOf("/"))throw new hS(dS.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(AS.fromString(n));if(!LS.isDocumentKey(r))throw new hS(dS.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return VI(e,new LS(r))}if(n instanceof yL)return VI(e,n._key);throw new hS(dS.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(dL(n),"."))}function MR(e,t){if(!Array.isArray(e)||0===e.length)throw new hS(dS.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new hS(dS.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function jR(e,t,n){if(!n.isEqual(t))throw new hS(dS.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var FR={maxAttempts:5},VR=function(){function e(){bs(this,e)}return ws(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(PI(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wI(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cS()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return uI(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new UL(kI(e.latitude),kI(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=_I(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(SI(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=bI(e);return new TS(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=AS.fromString(e);lS(xT(n));var r=new EI(n.get(1),n.get(3)),i=new LS(n.popFirst(5));return r.isEqual(t)||oS("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function UR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var BR=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this)).firestore=e,r}return ws(n,[{key:"convertBytes",value:function(e){return new FL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yL(this.firestore,null,t)}}]),n}(VR),zR=function(){function e(t,n){bs(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=GL(t)}return ws(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=qR(e,this._firestore),i=UR(r.converter,t,n),a=QL(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,nC.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=qR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=lu(t))||t instanceof jL?nR(this._dataReader,"WriteBatch.update",i._key,t,n,o):tR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,nC.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=qR(e,this._firestore);return this._mutations=this._mutations.concat(new gC(t._key,nC.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new hS(dS.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function qR(e,t){if((e=lu(e)).firestore!==t)throw new hS(dS.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var HR=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this)).firestore=e,r}return ws(n,[{key:"convertBytes",value:function(e){return new FL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yL(this.firestore,null,t)}}]),n}(VR);function WR(e){e=hL(e,yL);var t=hL(e.firestore,TL),n=NL(t),r=new HR(t);return function(e,t){var n=new pS;return e.asyncQueue.enqueueAndForget(hu(fu().mark((function r(){return fu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=hu(fu().mark((function e(t,n,r){var i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=fS(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new hS(dS.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=vP(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,eL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new gR(t,r,e._key,n,new mR(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function KR(e){e=hL(e,bL);var t=hL(e.firestore,TL),n=NL(t),r=new HR(t);return function(e,t){var n=new pS;return e.asyncQueue.enqueueAndForget(hu(fu().mark((function r(){return fu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=hu(fu().mark((function e(t,n,r){var i,a,o,s,u;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,QO(t,n,!0);case 3:i=e.sent,a=new RP(n,i.ji),o=a.Ku(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=vP(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,eL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new bR(t,r,e,n)}))}function GR(e,t,n){e=hL(e,yL);var r=hL(e.firestore,TL),i=UR(e.converter,t,n);return JR(r,[QL(GL(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nC.none())])}function QR(e,t,n){e=hL(e,yL);for(var r=hL(e.firestore,TL),i=GL(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return JR(r,[("string"==typeof(t=lu(t))||t instanceof jL?nR(i,"updateDoc",e._key,t,n,o):tR(i,"updateDoc",e._key,t)).toMutation(e._key,nC.exists(!0))])}function $R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=lu(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||EL(n[u])||(s=n[u],u++);var c,l,f,d={includeMetadataChanges:s.includeMetadataChanges};if(EL(n[u])){var h=n[u];n[u]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[u+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[u+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof yL)l=hL(e.firestore,TL),f=SE(e._key.path),c={next:function(t){n[u]&&n[u](XR(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=hL(e,bL);l=hL(p.firestore,TL),f=p._query;var v=new HR(l);c={next:function(e){n[u]&&n[u](new bR(l,v,p,e))},error:n[u+1],complete:n[u+2]},xR(e._query)}return function(e,t,n,r){var i=new UD(r),a=new TP(t,i,n);return e.asyncQueue.enqueueAndForget(hu(fu().mark((function t(){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wP,t.next=3,rL(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(hu(fu().mark((function t(){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_P,t.next=3,rL(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NL(l),f,d,c)}function YR(e,t){return function(e,t){var n=new UD(t);return e.asyncQueue.enqueueAndForget(hu(fu().mark((function t(){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fS(e).Tu.add(t),t.next()},t.next=3,rL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(hu(fu().mark((function t(){return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fS(e).Tu.delete(t)},t.next=3,rL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NL(e=hL(e,TL)),EL(t)?t:{next:t})}function JR(e,t){return function(e,t){var n=new pS;return e.asyncQueue.enqueueAndForget(hu(fu().mark((function r(){return fu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=WP,r.next=3,nL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(NL(e),t)}function XR(e,t,n){var r=n.docs.get(t._key),i=new HR(e);return new gR(e,i,t._key,r,new mR(n.hasPendingWrites,n.fromCache),t.converter)}var ZR=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,e,r))._firestore=e,i}return ws(n,[{key:"get",value:function(e){var t=this,r=qR(e,this._firestore),i=new HR(this._firestore);return Cd(Es(n.prototype),"get",this).call(this,e).then((function(e){return new gR(t._firestore,i,r._key,e._document,new mR(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){bs(this,e),this._firestore=t,this._transaction=n,this._dataReader=GL(t)}return ws(e,[{key:"get",value:function(e){var t=this,n=qR(e,this._firestore),r=new BR(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return cS();var i=e[0];if(i.isFoundDocument())return new hR(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new hR(t._firestore,r,n._key,null,n.converter);throw cS()}))}},{key:"set",value:function(e,t,n){var r=qR(e,this._firestore),i=UR(r.converter,t,n),a=QL(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=qR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=lu(t))||t instanceof jL?nR(this._dataReader,"Transaction.update",i._key,t,n,o):tR(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=qR(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function eM(e,t,n){e=hL(e,TL);var r=Object.assign(Object.assign({},FR),n);return function(e){if(e.maxAttempts<1)throw new hS(dS.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new pS;return e.asyncQueue.enqueueAndForget(hu(fu().mark((function i(){var a;return fu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return JD(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new qD(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(NL(e),(function(n){return t(new ZR(e,n))}),r)}function tM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XL("arrayUnion",t)}function nM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZL("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){nS=e}(sc),ec(new pu("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new TL(i,new yS(e.getProvider("auth-internal")),new xS(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),hc(eS,"3.4.14",e),hc(eS,"3.4.14","esm2017")}();function rM(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new hS("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function iM(){if("undefined"===typeof Uint8Array)throw new hS("unimplemented","Uint8Arrays are not available in this environment.")}function aM(){if("undefined"==typeof atob)throw new hS("unimplemented","Blobs are unavailable in Firestore in this environment.")}var oM=function(){function e(t){bs(this,e),this._delegate=t}return ws(e,[{key:"toBase64",value:function(){return aM(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return iM(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return aM(),new e(FL.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return iM(),new e(FL.fromUint8Array(t))}}]),e}();function sM(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=xs(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var uM=function(){function e(){bs(this,e)}return ws(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ML(e=hL(e,TL));var n=NL(e),r=e._freezeSettings(),i=new FD;return AL(n,i,new MD(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ML(e=hL(e,TL));var t=NL(e),n=e._freezeSettings(),r=new FD;return AL(t,r,new jD(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new hS(dS.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new pS;return e._queue.enqueueAndForgetEvenWhileRestricted(hu(fu().mark((function n(){return fu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=hu(fu().mark((function e(t){var n;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(YS.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,YS.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(DO(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),cM=function(){function e(t,n,r){var i=this;bs(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof EI||(this._appCompat=t)}return ws(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||sS("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gL(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return PL(this._delegate)}},{key:"disableNetwork",value:function(){return DL(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&cL("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new pS;return e.asyncQueue.enqueueAndForget(hu(fu().mark((function n(){return fu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=nD,n.next=3,nL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(NL(e=hL(e,TL)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return YR(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new hS("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new _M(this,wL(this._delegate,e))}catch(eB){throw vM(eB,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new pM(this,xL(this._delegate,e))}catch(eB){throw vM(eB,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new kM(this,function(e,t){if(e=hL(e,mL),uL("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new hS(dS.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new bL(e,null,function(e){return new xE(AS.emptyPath(),e)}(t))}(this._delegate,e))}catch(eB){throw vM(eB,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return eM(this._delegate,(function(n){return e(new fM(t,n))}))}},{key:"batch",value:function(){var e=this;return NL(this._delegate),new dM(new zR(this._delegate,(function(t){return JR(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return LL(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return RL(this._delegate,e).then((function(e){return e?new kM(t,e):null}))}}]),e}(),lM=function(e){Is(n,e);var t=Os(n);function n(e){var r;return bs(this,n),(r=t.call(this)).firestore=e,r}return ws(n,[{key:"convertBytes",value:function(e){return new oM(new FL(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return pM.forKey(t,this.firestore,null)}}]),n}(VR);var fM=function(){function e(t,n){bs(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new lM(t)}return ws(e,[{key:"get",value:function(e){var t=this,n=SM(e);return this._delegate.get(n).then((function(e){return new yM(t._firestore,new gR(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=SM(e);return n?(rM("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=SM(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SM(e);return this._delegate.delete(t),this}}]),e}(),dM=function(){function e(t){bs(this,e),this._delegate=t}return ws(e,[{key:"set",value:function(e,t,n){var r=SM(e);return n?(rM("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=SM(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SM(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),hM=function(){function e(t,n,r){bs(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ws(e,[{key:"fromFirestore",value:function(e,t){var n=new yR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bM(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new lM(t),n),i.set(n,a)),a}}]),e}();hM.INSTANCES=new WeakMap;var pM=function(){function e(t,n){bs(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new lM(t)}return ws(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new _M(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new _M(this.firestore,wL(this._delegate,e))}catch(eB){throw vM(eB,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=lu(e))instanceof yL&&_L(this._delegate,e)}},{key:"set",value:function(e,t){t=rM("DocumentReference.set",t);try{return t?GR(this._delegate,e,t):GR(this._delegate,e)}catch(eB){throw vM(eB,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?QR(this._delegate,e):QR.apply(void 0,[this._delegate,e,t].concat(r))}catch(eB){throw vM(eB,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return JR(hL(e.firestore,TL),[new gC(e._key,nC.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mM(n),a=gM(n,(function(t){return new yM(e.firestore,new gR(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return $R(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?WR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=hL(e,yL);var t=hL(e.firestore,TL);return aL(NL(t),e._key,{source:"server"}).then((function(n){return XR(t,e,n)}))}(this._delegate):function(e){e=hL(e,yL);var t=hL(e.firestore,TL);return aL(NL(t),e._key).then((function(n){return XR(t,e,n)}))}(this._delegate),t.then((function(e){return new yM(n.firestore,new gR(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(hM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new hS("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new yL(n._delegate,r,new LS(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new yL(n._delegate,r,t))}}]),e}();function vM(e,t,n){return e.message=e.message.replace(t,n),e}function mM(e){var t,n=xs(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!sM(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function gM(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=sM(e[0])?e[0]:sM(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var yM=function(){function e(t,n){bs(this,e),this._firestore=t,this._delegate=n}return ws(e,[{key:"ref",get:function(){return new pM(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return wR(this._delegate,e._delegate)}}]),e}(),bM=function(e){Is(n,e);var t=Os(n);function n(){return bs(this,n),t.apply(this,arguments)}return ws(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||cS()}(void 0!==t),t}}]),n}(yM),kM=function(){function e(t,n){bs(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new lM(t)}return ws(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,SR(this._delegate,function(e,t,n){var r=t,i=vR("where",e);return new IR(i,r,n)}(t,n,r)))}catch(eB){throw vM(eB,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,SR(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vR("orderBy",e);return new ER(n,t)}(t,n)))}catch(eB){throw vM(eB,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,SR(this._delegate,function(e){return pL("limit",e),new CR("limit",e,"F")}(t)))}catch(eB){throw vM(eB,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,SR(this._delegate,function(e){return pL("limitToLast",e),new CR("limitToLast",e,"L")}(t)))}catch(eB){throw vM(eB,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,SR(this._delegate,NR.apply(void 0,arguments)))}catch(eB){throw vM(eB,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,SR(this._delegate,OR.apply(void 0,arguments)))}catch(eB){throw vM(eB,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,SR(this._delegate,PR.apply(void 0,arguments)))}catch(eB){throw vM(eB,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,SR(this._delegate,DR.apply(void 0,arguments)))}catch(eB){throw vM(eB,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return SL(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?KR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=hL(e,bL);var t=hL(e.firestore,TL),n=NL(t),r=new HR(t);return oL(n,e._query,{source:"server"}).then((function(n){return new bR(t,r,e,n)}))}(this._delegate):function(e){e=hL(e,bL);var t=hL(e.firestore,TL),n=NL(t),r=new HR(t);return xR(e._query),oL(n,e._query).then((function(n){return new bR(t,r,e,n)}))}(this._delegate),t.then((function(e){return new xM(n.firestore,new bR(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mM(n),a=gM(n,(function(t){return new xM(e.firestore,new bR(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return $R(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(hM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),wM=function(){function e(t,n){bs(this,e),this._firestore=t,this._delegate=n}return ws(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new bM(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),xM=function(){function e(t,n){bs(this,e),this._firestore=t,this._delegate=n}return ws(e,[{key:"query",get:function(){return new kM(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new bM(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new wM(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new bM(n._firestore,r))}))}},{key:"isEqual",value:function(e){return wR(this._delegate,e._delegate)}}]),e}(),_M=function(e){Is(n,e);var t=Os(n);function n(e,r){var i;return bs(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ws(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new pM(this.firestore,e):null}},{key:"doc",value:function(e){try{return new pM(this.firestore,void 0===e?xL(this._delegate):xL(this._delegate,e))}catch(eB){throw vM(eB,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=hL(e.firestore,TL),r=xL(e),i=UR(e.converter,t);return JR(n,[QL(GL(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nC.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new pM(t.firestore,e)}))}},{key:"isEqual",value:function(e){return _L(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(hM.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(kM);function SM(e){return hL(e,yL)}var IM=function(){function e(){bs(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=As(jL,n)}return ws(e,[{key:"isEqual",value:function(e){return(e=lu(e))instanceof jL&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(DS.keyField().canonicalString())}}]),e}(),EM=function(){function e(t){bs(this,e),this._delegate=t}return ws(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new JL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new $L("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=tM.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=nM.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new eR("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),CM={Firestore:cM,GeoPoint:UL,Timestamp:TS,Blob:oM,Transaction:fM,WriteBatch:dM,DocumentReference:pM,DocumentSnapshot:yM,Query:kM,QueryDocumentSnapshot:bM,QuerySnapshot:xM,CollectionReference:_M,FieldPath:IM,FieldValue:EM,setLogLevel:function(e){!function(e){rS.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new pu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},CM)))}(e,(function(e,t){return new cM(e,t,new uM)})),e.registerVersion("@firebase/firestore-compat","0.1.23")}(jc);jc.initializeApp({apiKey:"AIzaSyC_FfQg9Qs5d-2L9Q6VUgvzmv6Xkh-2NfI",authDomain:"tiktok-app-e426e.firebaseapp.com",projectId:"tiktok-app-e426e",storageBucket:"tiktok-app-e426e.appspot.com",messagingSenderId:"764220515332",appId:"1:764220515332:web:20c247aae5398467904151",measurementId:"G-0H4EY946X4"}),jc.analytics();var TM=jc.firestore(),NM=jc.auth(),OM=jc,AM=(0,r.createContext)();var PM=function(e){var t=e.children,n=c((0,r.useState)({}),2),i=n[0],a=n[1],o=c((0,r.useState)(!1),2),s=o[0],u=o[1];return(0,r.useEffect)((function(){i&&u(!1)}),[i]),(0,r.useEffect)((function(){var e=NM.onAuthStateChanged((function(e){if(e){var t=e.displayName,n=e.photoURL,r=e.email,i=e.uid;a({displayName:t,photoURL:n,email:r,uid:i})}else a({})}));return function(){e()}}),[window.location.pathname]),(0,Dr.jsx)(AM.Provider,{value:{user:i,showModal:s,setUser:a,handleLogOut:function(){NM.signOut(),window.location.pathname="/"},handleShowModal:function(){u(!s)}},children:t})},DM=Pr().bind(yo);var LM=function(e){var t=e.children,n=e.data,i=(0,r.useContext)(AM).handleLogOut,a=c((0,r.useState)([{data:n}]),2),o=a[0],s=a[1],u=o[o.length-1],l=function(e){e.children&&s((function(t){return[].concat(po(t),[e.children])})),e.signOut&&(i(),window.location.reload(),window.location.pathname="/")},f=function(){var e=o.splice(0,o.length-1);s(e)};return(0,r.useEffect)((function(){s([{data:n}])}),[n]),(0,Dr.jsx)(ys,{delay:[10,700],placement:"bottom-start",interactive:!0,className:DM(yo.menu),render:function(e){return(0,Dr.jsxs)("div",fo(fo({className:DM(yo.body),tabIndex:"-1"},e),{},{children:[o.length>1&&(0,Dr.jsx)(go,{onClick:f,justifyContent:"unset",iconLeft:(0,Dr.jsx)(Nr,{icon:ee}),children:u.title}),u.data.map((function(e,t){return(0,Dr.jsx)(go,{onClick:l,data:e,to:e.to,iconLeft:e.icon,borderTop:e.borderTop&&!0,justifyContent:"unset",gap:"10",children:e.title},t)}))]}))},onHidden:function(){s([o[0]])},children:(0,Dr.jsx)("div",{className:DM(yo.content),children:t})})},RM={navbarContainer:"Navbar_navbarContainer__ixC42",navbar:"Navbar_navbar__-NP3v",logo:"Navbar_logo__nxpRy",control:"Navbar_control__YWsu9",icon:"Navbar_icon__UV17j",desc:"Navbar_desc__lF266",img:"Navbar_img__WeLlg"};var MM=function(){var e=c((0,r.useState)(document.documentElement.clientWidth||document.documentElement.offsetWidth),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){var e=document.documentElement.clientWidth||document.documentElement.offsetWidth;n(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[t]),t},jM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FM=r.createContext&&r.createContext(jM),VM=function(){return VM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},VM.apply(this,arguments)},UM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function BM(e){return e&&e.map((function(e,t){return r.createElement(e.tag,VM({key:t},e.attr),BM(e.child))}))}function zM(e){return function(t){return r.createElement(qM,VM({attr:VM({},e.attr)},t),BM(e.child))}}function qM(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=UM(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",VM({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:VM(VM({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==FM?r.createElement(FM.Consumer,null,(function(e){return t(e)})):t(jM)}function HM(e){return zM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}}]})(e)}function WM(e){return zM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 5.146a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2z"}}]})(e)}function KM(e){return zM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"}}]})(e)}function GM(e){return zM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}}]})(e)}function QM(e){return zM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M14 11V2h1v9h-1zM6 3v10H5V3h1z"}},{tag:"path",attr:{d:"M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"}}]})(e)}function $M(e){return zM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"}}]})(e)}function YM(e){return zM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"}}]})(e)}function JM(e){return zM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(e)}var XM=n(248),ZM=n(327);var ej=function(e){e()},tj=function(){return ej},nj=r.createContext(null);function rj(){return(0,r.useContext)(nj)}var ij=function(){throw new Error("uSES not initialized!")},aj=ij,oj=function(e,t){return e===t};function sj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nj,t=e===nj?rj:function(){return(0,r.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oj;var i=t(),a=i.store,o=i.subscription,s=i.getServerState,u=aj(o.addNestedSub,a.getState,s||a.getState,e,n);return(0,r.useDebugValue)(u),u}}var uj=sj();n(110),n(900);var cj={notify:function(){},get:function(){return[]}};function lj(e,t){var n,r=cj;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=tj(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=cj)},getListeners:function(){return r}};return o}var fj=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var dj=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=lj(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);fj((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=n||nj;return r.createElement(u.Provider,{value:o},i)};function hj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nj,t=e===nj?rj:function(){return(0,r.useContext)(e)};return function(){return t().store}}var pj=hj();function vj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nj,t=e===nj?pj:hj(e);return function(){return t().dispatch}}var mj,gj=vj();!function(e){aj=e}(ZM.useSyncExternalStoreWithSelector),function(e){e}(XM.useSyncExternalStore),mj=Ga.unstable_batchedUpdates,ej=mj;var yj=function(e){return{type:"getListUsers",payload:e}},bj=function(e){return{type:"search",payload:e}},kj={title:"SearchAccounts_title__-AE2Q",listAccounts:"SearchAccounts_listAccounts__LG9Vz"},wj={accountItems:"SearchAccountsItems_accountItems__wIjEA",load:"SearchAccountsItems_load__Cck0g",accountImg:"SearchAccountsItems_accountImg__wDpst",accountInfor:"SearchAccountsItems_accountInfor__-6pZl",accountNickname:"SearchAccountsItems_accountNickname__z2BMG",accountName:"SearchAccountsItems_accountName__soP-V",check:"SearchAccountsItems_check__0ZEC9",checkIcon:"SearchAccountsItems_checkIcon__ybvfc"},xj=Pr().bind(wj);var _j=function(e){var t=e.data,n=void 0===t?{}:t,r=e.widthImg,i=e.isLoading,a=MM();return(0,Dr.jsx)("button",{className:xj(wj.accountItems,i&&"load"),style:{alignItems:"".concat(i?"center":"start")},children:!0===i?(0,Dr.jsxs)(Dr.Fragment,{children:[(0,Dr.jsx)("div",{style:{width:"".concat(r,"px"),height:"".concat(r,"px")},className:xj("loading","card-chart")}),a>900&&(0,Dr.jsxs)("div",{className:xj(wj.accountInfor),children:[(0,Dr.jsx)("div",{className:xj(wj.accountNickname,"loading","card-title")}),(0,Dr.jsx)("div",{className:xj(wj.accountName,"loading","card-title","shorter-m")})]})]}):(0,Dr.jsxs)(Dr.Fragment,{children:[(0,Dr.jsx)("div",{style:{width:"".concat(r,"px"),height:"".concat(r,"px")},className:xj(wj.accountImg),children:(0,Dr.jsx)("img",{src:n.img||n.photoURL,alt:""})}),a>900&&(0,Dr.jsxs)("div",{className:xj(wj.accountInfor),children:[(0,Dr.jsx)("h2",{className:xj(wj.accountNickname),children:n.nickName||n.displayName}),(0,Dr.jsx)("p",{className:xj(wj.accountName),children:n.name||n.displayName})]}),n.sticker&&(0,Dr.jsx)("div",{className:xj(wj.check),children:(0,Dr.jsx)(Nr,{className:xj(wj.checkIcon),icon:te})})]})})},Sj=Pr().bind(kj);var Ij=function(e){var t=e.data,n=void 0===t?[]:t;return(0,Dr.jsxs)("div",{children:[(0,Dr.jsx)("p",{className:Sj(kj.title),children:"T\xe0i kho\u1ea3n"}),(0,Dr.jsx)("div",{className:Sj(kj.listAccounts),children:n.map((function(e,t){return(0,Dr.jsx)(_j,{data:e,widthImg:34},t)}))})]})},Ej={layout:"SearchLayout_layout__hK-C5"},Cj=Pr().bind(Ej);var Tj=function(){return(0,Dr.jsx)("div",{className:Cj(Ej.layout),children:(0,Dr.jsx)(go,{iconLeft:(0,Dr.jsx)(Nr,{icon:le}),smallIcon:!0,justifyContent:"unset",gap:"10",children:"Luu quynh anh"})})},Nj={search:"Search_search__GMtMz",searchLayout:"Search_searchLayout__OrDuC",inp:"Search_inp__6cZcH",searchWrap:"Search_searchWrap__TivJt",searchIcon:"Search_searchIcon__zaX7d",closeIcon:"Search_closeIcon__WGEWg",loadIcon:"Search_loadIcon__UUHg8",spinner:"Search_spinner__aXa+0"},Oj=Pr().bind(Nj);var Aj=function(){var e=gj(),t=uj((function(e){return e})),n=t.searchText,i=t.listAllUsers,a=c((0,r.useState)([]),2),o=a[0],s=a[1],u=c((0,r.useState)(!1),2),l=u[0],f=u[1];return(0,r.useEffect)((function(){f(!0);var e=setTimeout((function(){!function(){var e=i.filter((function(e){return n.lenght>0?e.nickName.includes(n):[]}));s(e)}(),f(!1)}),2e3);return function(){clearTimeout(e)}}),[n]),(0,Dr.jsxs)("div",{className:Oj(Nj.search),children:[(0,Dr.jsx)("input",{placeholder:"T\xecm ki\u1ebfm t\xe0i kho\u1ea3n v\xe0 video",value:n,onChange:function(t){return n=t.target.value,void e(bj(n));var n},type:"text",className:Oj(Nj.inp)}),n&&(l?(0,Dr.jsx)(Nr,{className:Oj(Nj.loadIcon),icon:he}):(0,Dr.jsx)(Nr,{className:Oj(Nj.closeIcon),onClick:function(){e(bj("")),s([])},icon:re})),(0,Dr.jsx)("div",{className:Oj(Nj.searchWrap),children:(0,Dr.jsx)(JM,{className:Oj(Nj.searchIcon)})}),n&&(0,Dr.jsxs)("div",{className:Oj(Nj.searchLayout),children:[(0,Dr.jsx)(Tj,{}),(0,Dr.jsx)(Ij,{data:o})]})]})},Pj=Pr().bind(RM);var Dj=function(){var e=(0,r.useContext)(AM),t=e.user,n=e.handleShowModal,i=MM();return(0,Dr.jsx)("div",{className:Pj(RM.navbarContainer),children:(0,Dr.jsxs)("div",{className:Pj(RM.navbar,"container"),children:[(0,Dr.jsx)(Y,{to:"/",className:Pj(RM.logo),children:(0,Dr.jsx)("img",{src:uo.logo,alt:"logo"})}),(0,Dr.jsx)(Aj,{}),(0,Dr.jsxs)("div",{style:{width:"".concat(i<=600&&null!==t&&void 0!==t&&t.uid?"80%":"46%")},className:Pj(RM.control),children:[i>600&&(0,Dr.jsx)(go,{onClick:!t.uid&&n,to:t.uid&&"upload",borderRadius:!0,smallBtn:!0,iconLeft:(0,Dr.jsx)(Nr,{icon:de}),gap:"6",children:"T\u1ea3i l\xean"}),t&&t.uid?(0,Dr.jsxs)(Dr.Fragment,{children:[i<=600&&(0,Dr.jsx)(go,{onClick:!t.uid&&n,to:t.uid&&"upload",borderRadius:!0,smallBtn:!0,iconLeft:(0,Dr.jsx)(Nr,{icon:de}),gap:"6",children:"T\u1ea3i l\xean"}),(0,Dr.jsx)(so,{content:"Tin nh\u1eafn",children:(0,Dr.jsx)(Nr,{className:Pj(RM.icon),icon:fe})}),(0,Dr.jsx)(so,{content:"H\u1ed9p th\u01b0",children:(0,Dr.jsx)(Nr,{className:Pj(RM.icon),icon:J})})]}):(0,Dr.jsx)(go,{onClick:n,borderRadius:!0,smallBtn:!0,primary:!0,children:"\u0110\u0103ng nh\u1eadp"}),(0,Dr.jsx)(LM,{data:t&&t.uid?Rr:Lr,children:t&&t.uid?(0,Dr.jsx)("img",{className:Pj(RM.img),src:t.photoURL,alt:""}):(0,Dr.jsx)(Nr,{icon:oe})})]})]})})},Lj={video:"Video_video__va0O5"},Rj={inforWrap:"InforUser_inforWrap__E99MV",img:"InforUser_img__89a4e",inforUserWrap:"InforUser_inforUserWrap__-D4eX",inforUser:"InforUser_inforUser__4-yrN",infor:"InforUser_infor__RpLCs",inforLink:"InforUser_inforLink__wxou-",inforNickName:"InforUser_inforNickName__N4w6S",inforName:"InforUser_inforName__Yug7a",desc:"InforUser_desc__Pdzdb",inforMusic:"InforUser_inforMusic__KUCX5",inforIcon:"InforUser_inforIcon__vWsf+"},Mj=function(e,t,n,r){var i,a=TM.collection("users").doc(e);n?(i=t.filter((function(e){return e.uid!==r.uid?e:[]})),a.update({following:i})):t.includes(r.id)||a.update({following:[].concat(po(t),[r])})},jj=function(){var e=hu(fu().mark((function e(t,n){var r,i,a;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=TM.collection(t),!n){e.next=10;break}return r=r.where(n.fieldName,n.operator,n.compareValue),e.next=6,r.get().then((function(e){return e.docs.map((function(e){return fo(fo({},e.data()),{},{id:e.id})}))}));case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.next=12,r.get().then((function(e){return e.docs.map((function(e){return fo(fo({},e.data()),{},{id:e.id})}))}));case 12:return a=e.sent,e.abrupt("return",a);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error get document");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}();var Fj=function(e,t){var n=(0,r.useContext)(AM).user,i=c((0,r.useState)({}),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){if(null!==n&&void 0!==n&&n.uid){var r=TM.collection(e);if(!t)return void o([]);(r=r.where(t.fieldName,t.operator,t.compareValue)).onSnapshot((function(e){var t=e.docs.map((function(e){return fo(fo({},e.data()),{},{id:e.id})}));o(t)}))}}),[e,t]),a};var Vj=function(e){var t=c((0,r.useState)(),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){TM.collection(e).onSnapshot((function(e){var t=e.docs.map((function(e){return fo(fo({},e.data()),{},{id:e.id})}));i(t)}))}),[e]),n},Uj=(0,r.createContext)();var Bj=function(e){var t=e.children,n=gj(),i=(0,r.useContext)(AM).user,a=c((0,r.useState)({}),2),o=a[0],s=a[1],u=c((0,r.useState)([]),2),l=u[0],f=u[1],d=c((0,r.useState)([]),2),h=d[0],p=d[1],v=c((0,r.useState)([]),2),m=v[0],g=v[1],y=Vj("videos"),b=(0,r.useMemo)((function(){return{fieldName:"uid",operator:"==",compareValue:i.uid}}),[i]),k=Fj("users",b),w=function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jj("users",{fieldName:"uid",operator:"!=",compareValue:i.uid});case 2:t=e.sent,f(t),n(yj(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){i.uid&&w()}),[i]),(0,r.useEffect)((function(){k.length>0&&(s(k[0]),p(k[0].following),g(k[0].liked))}),[k,k[0]]),(0,Dr.jsx)(Uj.Provider,{value:{listVideos:y,currentUser:o,listCurrentUsers:l,newFollow:h,likedVideos:m,setLikedVideos:g,setNewFollow:p},children:t})},zj=Pr().bind(Rj);var qj=function(e){var t=e.data,n=e.loading,i=e.children,a=e.height,o=(0,r.useContext)(AM).handleShowModal,s=(0,r.useContext)(Uj),u=s.currentUser,l=s.newFollow,f=MM(),d=c((0,r.useState)(!1),2),h=d[0],p=d[1],v=function(){u.uid?h?(Mj(u.id,l,h,t),p(!1)):(Mj(u.id,l,h,t),p(!0)):o()};return(0,r.useEffect)((function(){l&&l.length>=0&&(p(!1),l&&l.length>0&&l.map((function(e){return t&&t.uid===e.uid&&p(!0),[]})))}),[l]),(0,Dr.jsx)("div",{className:zj(Rj.inforWrap),children:n?(0,Dr.jsxs)(Dr.Fragment,{children:[(0,Dr.jsx)("div",{className:zj(Rj.img,"loading")}),(0,Dr.jsxs)("div",{className:zj(Rj.infor),children:[(0,Dr.jsx)("div",{className:zj(Rj.inforLink,"loading card-title shorter-m")}),(0,Dr.jsx)("p",{className:zj(Rj.desc,"loading card-title")}),i]})]}):(0,Dr.jsxs)(Dr.Fragment,{children:[f>600&&(0,Dr.jsx)("img",{className:zj(Rj.img),src:t.photoURL||t.img,alt:""}),(0,Dr.jsxs)("div",{className:zj(Rj.inforUserWrap),style:{height:"".concat(a)},children:[(0,Dr.jsxs)("div",{className:zj(Rj.inforUser),children:[(0,Dr.jsxs)("div",{className:zj(Rj.infor),children:[(0,Dr.jsxs)("a",{href:"#",className:zj(Rj.inforLink),children:[f<=600&&(0,Dr.jsx)("img",{className:zj(Rj.img),src:t.photoURL||t.img,alt:""}),(0,Dr.jsx)("strong",{className:zj(Rj.inforNickName),children:t.nickName}),!n&&t.uid!==u.uid&&f<=600&&(0,Dr.jsx)(go,{onClick:v,followedBtn:h&&!0,followBtn:!h&&!0,data:t,borderRadius:!0,children:h?"\u0110ang Follow":"Follow"}),f>600&&(0,Dr.jsx)("p",{className:zj(Rj.inforName),children:t.name})]}),(0,Dr.jsx)("p",{className:zj(Rj.desc),children:t.desc}),(0,Dr.jsxs)("a",{href:"#",className:zj(Rj.inforMusic),children:[(0,Dr.jsx)(QM,{className:zj(Rj.inforIcon)}),(0,Dr.jsx)("strong",{className:zj(Rj.inforMusicName),children:t.music})]})]}),i]}),!n&&t.uid!==u.uid&&f>600&&(0,Dr.jsx)(go,{onClick:v,followedBtn:h&&!0,followBtn:!h&&!0,data:t,borderRadius:!0,children:h?"\u0110ang Follow":"Follow"})]})]})})};function Hj(e){return zM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(e)}function Wj(e){return zM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"}}]})(e)}var Kj=function(e,t,n,r){var i=TM.collection("videos").doc(r.id),a=TM.collection("users").doc(e);if(n){i.update({likes:r.likes-1});var o=t.filter((function(e){return e!==r.id}));a.update({liked:po(o)})}else i.update({likes:r.likes+1}),t.includes(r.id)||a.update({liked:[].concat(po(t),[r.id])})};var Gj=function(e,t){var n=c((0,r.useState)(),2),i=n[0],a=n[1],o=function(e){var t=c(e,1)[0];a(t.isIntersecting)},s=(0,r.useMemo)((function(){return e}),[e]);return(0,r.useEffect)((function(){var e=new IntersectionObserver(o,s),n=t.current;return n&&e.observe(n),function(){n&&e.unobserve(n)}}),[t,s]),i};function Qj(e){return zM({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}}]})(e)}var $j={videoControl:"ControlVideo_videoControl__OkXLR",controlVolume:"ControlVideo_controlVolume__AioI7",volumeWrap:"ControlVideo_volumeWrap__EqSDS",icon:"ControlVideo_icon__kzMw9",volume:"ControlVideo_volume__FCRT3",volumeProgress:"ControlVideo_volumeProgress__+hmbi",progress:"ControlVideo_progress__GBBvM"},Yj=Pr().bind($j);var Jj=function(e){var t=e.volume,n=e.onClick,r=e.muted,i=e.onPlay,a=e.isPlaying;return(0,Dr.jsxs)("div",{className:Yj($j.videoControl),children:[a?(0,Dr.jsx)($M,{onClick:i,className:Yj($j.pause,$j.icon)}):(0,Dr.jsx)(YM,{onClick:i,className:Yj($j.play,$j.icon)}),(0,Dr.jsxs)("div",{className:Yj($j.controlVolume),children:[(0,Dr.jsxs)("div",{className:Yj($j.volumeWrap),children:[(0,Dr.jsx)("input",{className:Yj($j.volume),value:t/100,type:"range",onChange:function(e){return n(e.target.value)},max:1,min:0,step:.1}),(0,Dr.jsx)("div",{className:Yj($j.volumeProgress),children:(0,Dr.jsx)("div",{style:{width:"".concat(t,"%")},className:Yj($j.progress)})})]}),0===t?(0,Dr.jsx)(Wj,{onClick:r,className:Yj($j.volumeIcon,$j.icon)}):(0,Dr.jsx)(Qj,{onClick:r,className:Yj($j.volumeIcon,$j.icon)})]})]})},Xj={layout:"LayoutComments_layout__Hc1Q2",show:"LayoutComments_show__dLod7",layoutVideo:"LayoutComments_layoutVideo__lM6YL",layoutCotent:"LayoutComments_layoutCotent__wAe8a"},Zj=function(e,t,n){TM.collection("videos").doc(e).update({comments:[].concat(po(n.comments),[t])})},eF={item:"VideoAction_item__eg-77",row:"VideoAction_row__EMiuc",itemIcon:"VideoAction_itemIcon__s5rQm",small:"VideoAction_small__jiM+6",active:"VideoAction_active__iHEmY",icon:"VideoAction_icon__4NAJh",liked:"VideoAction_liked__Gmka4",iconEffect:"VideoAction_iconEffect__QmNkS",likeEffect:"VideoAction_likeEffect__YP1hZ",number:"VideoAction_number__XVoOl"},tF=Pr().bind(eF);var nF=function(e){var t=e.Icon,n=e.number,r=e.liked,i=e.onClick,a=e.small,o=e.row,s=n.length>=0?n.length:n;return(0,Dr.jsxs)("div",{className:tF(eF.item,a&&"small",o&&"row"),children:[(0,Dr.jsxs)("div",{onClick:i,className:tF(eF.itemIcon,r?"active":""),children:[(0,Dr.jsx)(t,{className:tF(eF.icon)}),(0,Dr.jsx)("div",{className:tF(eF.iconEffect)})]}),(0,Dr.jsx)("p",{className:tF(eF.number),children:s})]})},rF={item:"CommentAccout_item__u8m4k",itemMenu:"CommentAccout_itemMenu__aPc9Z",itemWrap:"CommentAccout_itemWrap__oOwzG",img:"CommentAccout_img__yu-B5",itemLink:"CommentAccout_itemLink__eAW1E",content:"CommentAccout_content__7icDg",time:"CommentAccout_time__H5tLL",modal:"CommentAccout_modal__C+hXv",modalBtn:"CommentAccout_modalBtn__8vc4p"};function iF(e){return zM({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 4h12v2H6zm.707 11.707L11 11.414V20h2v-8.586l4.293 4.293 1.414-1.414L12 7.586l-6.707 6.707z"}}]})(e)}function aF(e){return zM({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}var oF=Pr().bind(rF);var sF=function(e){var t=e.data;return(0,Dr.jsxs)("div",{className:oF(rF.item),children:[(0,Dr.jsxs)("div",{className:oF(rF.itemWrap),children:[(0,Dr.jsx)("img",{className:oF(rF.img),src:t.photoURL,alt:""}),(0,Dr.jsxs)("div",{className:oF(rF.itemContent),children:[(0,Dr.jsx)("a",{className:oF(rF.itemLink),href:"#",children:t.nickName}),(0,Dr.jsx)("p",{className:oF(rF.content),children:t.comment}),(0,Dr.jsx)("p",{className:oF(rF.time),children:t.createdAt})]})]}),(0,Dr.jsx)(ys,{delay:[200,0],offset:[10,-20],interactive:!0,arrow:!0,placement:"left-end",render:function(e){return(0,Dr.jsx)("div",fo(fo({className:oF(rF.modal),tabIndex:"-1"},e),{},{children:(0,Dr.jsx)("button",{className:oF(rF.modalBtn),children:"Delete"})}))},children:(0,Dr.jsx)("div",{children:(0,Dr.jsx)(aF,{className:oF(rF.itemMenu)})})})]})};var uF=[{icon:function(e){return zM({tag:"svg",attr:{version:"1.1",viewBox:"0 0 20 16"},child:[{tag:"path",attr:{d:"M13 11.5l1.5 1.5 5-5-5-5-1.5 1.5 3.5 3.5z"}},{tag:"path",attr:{d:"M7 4.5l-1.5-1.5-5 5 5 5 1.5-1.5-3.5-3.5z"}},{tag:"path",attr:{d:"M10.958 2.352l1.085 0.296-3 11-1.085-0.296 3-11z"}}]})(e)},backgroundColor:"#50525a",title:"Embed"},{icon:function(e){return zM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M435.9 64.9l-367.1 160c-6.5 3.1-6.3 12.4.3 15.3l99.3 56.1c5.9 3.3 13.2 2.6 18.3-1.8l195.8-168.8c1.3-1.1 4.4-3.2 5.6-2 1.3 1.3-.7 4.3-1.8 5.6L216.9 320.1c-4.7 5.3-5.4 13.1-1.6 19.1l64.9 104.1c3.2 6.3 12.3 6.2 15.2-.2L447.2 76c3.3-7.2-4.2-14.5-11.3-11.1z"}}]})(e)},backgroundColor:"#fe2c55",title:"Send"},{icon:GM,backgroundColor:"#0075fa",title:"Share to Facebook"},{icon:function(e){return zM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"}}]})(e)},backgroundColor:"#25d366",title:"Share to WhatsApp"},{icon:function(e){return zM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"}}]})(e)},backgroundColor:"#1da1f2",title:"Share to Twitter"}],cF={contentWrap:"LayoutContent_contentWrap__NV-V6",header:"LayoutContent_header__rb2Qq",actions:"LayoutContent_actions__rwCnG",social:"LayoutContent_social__jgLIn",icon:"LayoutContent_icon__3CovH",linkVideo:"LayoutContent_linkVideo__HDDuE",desc:"LayoutContent_desc__ZAqLx",copyBtn:"LayoutContent_copyBtn__C-Ilh",body:"LayoutContent_body__JAgsW",bottom:"LayoutContent_bottom__91n1j",inp:"LayoutContent_inp__tfnEV",postBtn:"LayoutContent_postBtn__s-NPO",active:"LayoutContent_active__J64jn"},lF=Pr().bind(cF);var fF=function(e){var t=e.data,n=e.loading,i=(0,r.useContext)(AM).handleShowModal,a=(0,r.useContext)(Uj),o=a.currentUser,s=a.likedVideos,u=c((0,r.useState)(!1),2),l=u[0],f=u[1],d=(0,r.useRef)();return(0,r.useEffect)((function(){t&&s.includes(t.id)?f(!0):f(!1)}),[s]),(0,Dr.jsxs)("div",{className:lF(cF.contentWrap),children:[(0,Dr.jsxs)("div",{className:lF(cF.header),children:[(0,Dr.jsx)(qj,{height:"10vh",data:t,loading:n}),(0,Dr.jsxs)("div",{className:lF(cF.actions),children:[(0,Dr.jsx)(nF,{Icon:KM,onClick:function(){o.uid?(Kj(o.id,s,l,t),f(!l)):i()},liked:l,number:t.likes,data:t,small:!0,row:!0}),(0,Dr.jsx)("div",{className:lF(cF.social),children:uF.map((function(e,t){return(0,Dr.jsx)(so,{content:e.title,children:(0,Dr.jsx)("a",{href:"#",children:(0,Dr.jsx)(e.icon,{style:{backgroundColor:"".concat(e.backgroundColor)},className:lF(cF.icon)})})},t)}))})]}),(0,Dr.jsxs)("div",{className:lF(cF.linkVideo),children:[(0,Dr.jsx)("p",{className:lF(cF.desc),children:"https://www.tiktok.com/@meowmeow_2204/video/7133402560525946158?is_from_webapp=1&sender_device=pc&web_id=7117324751291647490"}),(0,Dr.jsx)("button",{className:lF(cF.copyBtn),children:"Copy link"})]})]}),(0,Dr.jsx)("div",{className:lF(cF.body),children:t.comments.length>0&&t.comments.map((function(e,t){return(0,Dr.jsx)(sF,{data:e},t)}))}),(0,Dr.jsxs)("div",{className:lF(cF.bottom),children:[(0,Dr.jsx)("input",{ref:d,maxLength:150,placeholder:"Add comment...",className:lF(cF.inp),type:"text"}),(0,Dr.jsx)("button",{onClick:function(){var e=d.current.value,n=o.name,r=o.nickName,i=o.photoURL,a=o.uid,s=o.tick,u=new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(Date.now());Zj(t.id,{name:n,nickName:r,photoURL:i,uid:a,tick:s,comment:e,createdAt:u},t),d.current.value=""},className:lF(cF.postBtn),children:"Post"})]})]})};function dF(e){return zM({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"}}]})(e)}var hF={layout:"LayoutVideo_layout__DndWq",layoutHeader:"LayoutVideo_layoutHeader__8JGGz",closeBtn:"LayoutVideo_closeBtn__uHbOu",logo:"LayoutVideo_logo__3ke6Y",layoutBody:"LayoutVideo_layoutBody__kZrle",layoutBottom:"LayoutVideo_layoutBottom__M6glS"},pF=Pr().bind(hF);var vF=function(e){var t=e.onClick,n=e.data,i=e.volume,a=e.volumeChange,o=e.muted,s=e.show,u=(0,r.useRef)(),l=MM(),f=c((0,r.useState)(!0),2),d=f[0],h=f[1],p=function(){d?(u.current.pause(),h(!d)):(u.current.play(),h(!d))};return(0,r.useEffect)((function(){s&&l>900?(u.current.play(),u.current.currentTime=0,h(!0)):(u.current.pause(),h(!1))}),[s,l]),(0,Dr.jsxs)("div",{className:pF(hF.layout),children:[(0,Dr.jsxs)("div",{className:pF(hF.layoutHeader),children:[(0,Dr.jsx)(dF,{onClick:t,className:pF(hF.closeBtn)}),(0,Dr.jsx)("div",{className:pF(hF.logo),children:(0,Dr.jsx)("img",{src:uo.tiktokIcon,alt:""})})]}),(0,Dr.jsxs)("div",{className:pF(hF.layoutBody),children:[(0,Dr.jsx)("video",{onClick:p,ref:u,loop:!0,muted:0===i,src:n.video}),(0,Dr.jsx)(Jj,{onPlay:p,isPlaying:d,data:n,volume:i,onClick:a,muted:o})]})]})},mF=Pr().bind(Xj);var gF=function(e){var t=e.show,n=e.onClick,r=e.data,i=e.volume,a=e.volumeChange,o=e.muted;return(0,Dr.jsx)("div",{className:mF(Xj.layout,t&&"show"),children:r.uid&&(0,Dr.jsxs)(Dr.Fragment,{children:[(0,Dr.jsx)("div",{className:mF(Xj.layoutVideo),children:(0,Dr.jsx)(vF,{data:r,volume:i,volumeChange:a,muted:o,show:t,onClick:n})}),(0,Dr.jsx)("div",{className:mF(Xj.layoutCotent),children:(0,Dr.jsx)(fF,{data:r,loading:!1})})]})})},yF={video:"VideoContent_video__knV3x",videoLoading:"VideoContent_videoLoading__tFoN3",videoContent:"VideoContent_videoContent__ki9mm",videoAction:"VideoContent_videoAction__TmbCy"},bF=Pr().bind(yF);var kF=function(e){var t=e.data,n=e.volume,i=e.onClick,a=e.muted,o=e.loading,s=e.handleStopAllVideo,u=e.isStopAllVideos,l=(0,r.useContext)(AM).handleShowModal,f=(0,r.useContext)(Uj),d=f.currentUser,h=f.likedVideos,p=(0,r.useRef)(),v=c((0,r.useState)(!1),2),m=v[0],g=v[1],y=c((0,r.useState)(!0),2),b=y[0],k=y[1],w=c((0,r.useState)(!1),2),x=w[0],_=w[1],S=c((0,r.useState)({}),2),I=S[0],E=S[1],C=function(){s(),_(!x)},T=function(){b?(p.current.pause(),k(!b)):(p.current.play(),k(!b))},N=Gj({root:null,rootMargin:"30px",threshold:.8},p);return(0,r.useEffect)((function(){o||(N&&!u?(p.current.play(),k(!0)):(u||(p.current.currentTime=0),p.current.pause()))}),[N,o,u]),(0,r.useEffect)((function(){t&&h.includes(t.id)?g(!0):g(!1)}),[h,u]),(0,r.useEffect)((function(){x&&E(t)}),[t]),(0,Dr.jsx)(Dr.Fragment,{children:o?(0,Dr.jsx)("div",{className:bF(yF.videoLoading,"loading")}):(0,Dr.jsxs)("div",{className:bF(yF.video),children:[(0,Dr.jsxs)("div",{className:bF(yF.videoContent),children:[(0,Dr.jsx)("video",{onClick:T,controls:!1,autoPlay:b,muted:0===n,playsInline:!0,"webkit-playsinline":"true",ref:p,loop:!0,src:t?t.video:"https://v16-webapp.tiktok.com/384815b66bef7df0cc285e23aa25d2e0/63090c52/video/tos/useast2a/tos-useast2a-pve-0037-aiso/9057be79936b4f1cb5b865c7dfaae770/?a=1988&ch=0&cr=0&dr=0&lr=tiktok&cd=0%7C0%7C1%7C0&cv=1&br=1682&bt=841&cs=0&ds=3&ft=eXd.6Hk_Myq8ZDMR0he2NM4jml7Gb&mime_type=video_mp4&qs=0&rc=NTQ7PDM6NDk7aTM1ZmZpZkBpMzY2djY6Zmg1ZTMzZjgzM0AwYy8tMTI2NjUxNC01Yy0yYSNqLWMycjRfMl5gLS1kL2Nzcw%3D%3D&l=202208261208560102452441780B1234E2&btag=80000"}),(0,Dr.jsx)(Jj,{volume:n,onClick:i,muted:a,onPlay:T,isPlaying:b})]}),(0,Dr.jsxs)("div",{className:bF(yF.videoAction),children:[(0,Dr.jsx)(nF,{Icon:KM,onClick:function(){d.uid?(Kj(d.id,h,m,t),g(!m)):l()},liked:m,number:t.likes,data:t}),(0,Dr.jsx)(nF,{onClick:function(){!function(e){d.uid?(C(),E(e)):l()}(t)},Icon:HM,number:t.comments}),(0,Dr.jsx)(nF,{Icon:Hj,number:t.shares})]}),(0,Dr.jsx)(gF,{data:I,volume:n,volumeChange:i,muted:a,show:x,onClick:C})]})})},wF={},xF=Pr().bind(wF);var _F=function(e){var t=e.data,n=e.volume,r=e.onClick,i=e.muted,a=e.loading,o=e.handleStopAllVideo,s=e.isStopAllVideos;return(0,Dr.jsx)("div",{className:xF(wF.item),children:(0,Dr.jsx)("div",{className:xF(wF.itemWrap),children:(0,Dr.jsx)(qj,{data:t,loading:a,children:a?(0,Dr.jsx)(kF,{loading:!0}):(0,Dr.jsx)(kF,{volume:n,onClick:r,muted:i,data:t,handleStopAllVideo:o,isStopAllVideos:s})})})})},SF=Pr().bind(Lj);var IF=function(e){var t=e.data,n=c((0,r.useState)(0),2),i=n[0],a=n[1],o=c((0,r.useState)(!0),2),s=o[0],u=o[1],l=c((0,r.useState)(!1),2),f=l[0],d=l[1],h=function(){d(!f)},p=function(e){a(100*e)},v=function(){0!==i&&a(0),0===i&&a(100)};return(0,r.useEffect)((function(){t&&u(!1)}),[t]),(0,Dr.jsx)("div",{className:SF(Lj.video),children:s?(0,Dr.jsx)(_F,{loading:s}):(0,Dr.jsx)(Dr.Fragment,{children:t&&t.map((function(e,t){return(0,Dr.jsx)(_F,{data:e,volume:i,isStopAllVideos:f,handleStopAllVideo:h,onClick:p,muted:v},t)}))})})},EF={},CF=Pr().bind(EF);var TF=function(){var e=(0,r.useContext)(Uj).listVideos;return(0,Dr.jsx)("div",{className:CF(EF.content),children:(0,Dr.jsx)(IF,{data:e})})},NF=[{title:"D\xe0nh cho b\u1ea1n",icon:(0,Dr.jsx)(Nr,{icon:ue}),to:"/"},{title:"\u0110ang theo d\xf5i",icon:(0,Dr.jsx)(Nr,{icon:pe}),to:"/following"},{title:"Live",icon:(0,Dr.jsx)(Nr,{icon:ve}),to:"/live"}],OF=[{title:"T\xe0i kho\u1ea3n \u0111\u01b0\u1ee3c \u0111\u1ec1 xu\u1ea5t",collection:"users",type:"suggestAccounts"},{title:"T\xe0i kho\u1ea3n \u0111ang theo d\xf5i",collection:"users",type:"followingAccounts"},{title:"Kh\xe1m ph\xe1",collection:"users",type:"explore"}],AF={sideBar:"Sidebar_sideBar__SYZV5"},PF={footer:"Footer_footer__1vKHr",footerLine:"Footer_footerLine__qQhT5",copyRight:"Footer_copyRight__6yMt8",ruleModal:"Footer_ruleModal__roSoz",ruleContent:"Footer_ruleContent__71GRm",rule:"Footer_rule__3eXtk",footerBottom:"Footer_footerBottom__DG83X"},DF={listItem:"FooterItem_listItem__hRF6n",item:"FooterItem_item__3ipLt"},LF=Pr().bind(DF);var RF=function(e){var t=e.data;return(0,Dr.jsx)("div",{className:LF(DF.listItem),children:t.category.map((function(e,t){return(0,Dr.jsx)("a",{href:e.link,className:LF(DF.item),children:e.title},t)}))})},MF=[{category:[{title:"Gi\u1edbi thi\u1ec7u",link:"https://www.tiktok.com/about?lang=vi-VN"},{title:"TikTok",link:"https://newsroom.tiktok.com/vi-vn/"},{title:"Li\xean h\u1ec7",link:"https://www.tiktok.com/about/contact?lang=vi-VN"},{title:"S\u1ef1 nghi\u1ec7p",link:"https://careers.tiktok.com/"},{title:"ByteDance",link:"https://www.bytedance.com/"}]},{category:[{title:"TikTok for Good",link:"https://www.tiktok.com/forgood"},{title:"Qu\u1ea3ng c\xe1o",link:"https://www.tiktok.com/business/?attr_medium=tt_official_site_guidance&attr_source=tt_official_site&refer=tiktok_web"},{title:"Developers",link:"https://developers.tiktok.com/?refer=tiktok_web"},{title:"Transparency",link:"https://www.tiktok.com/transparency?lang=vi-VN"},{title:"TikTok Rewards",link:"https://www.tiktok.com/tiktok-rewards/vi-VN"}]},{category:[{title:"Tr\u1ee3 gi\xfap",link:"https://support.tiktok.com/vi-VN"},{title:"An to\xe0n",link:"https://www.tiktok.com/safety/vi-vn"},{title:"\u0110i\u1ec1u kho\u1ea3n",link:"https://www.tiktok.com/legal/terms-of-service?lang=vi-VN"},{title:"Quy\u1ec1n ri\xeang t\u01b0",link:"https://www.tiktok.com/legal/privacy-policy-row?lang=vi-VN"},{title:"Creator Portal",link:"https://www.tiktok.com/creators/creator-portal/en-us/"},{title:"H\u01b0\u1edbng d\u1eabn C\u1ed9ng \u0111\u1ed3ng",link:"https://www.tiktok.com/community-guidelines?lang=vi-VN"}]}],jF=Pr().bind(PF);var FF=function(){return(0,Dr.jsxs)("div",{className:jF(PF.footer),children:[(0,Dr.jsx)("div",{className:jF(PF.footerLine)}),MF.map((function(e,t){return(0,Dr.jsx)(RF,{data:e},t)})),(0,Dr.jsxs)("div",{className:jF(PF.footerBottom),children:[(0,Dr.jsx)(so,{arrow:!1,className:jF(PF.ruleModal),placement:"top-end",maxWidth:200,interactive:!0,content:(0,Dr.jsx)("div",{className:jF(PF.ruleContent),children:"NGUY\xcaN T\u1eaeC TH\u1ef0C THI PH\xc1P LU\u1eacT C\u1ee6A TIKTOK"}),children:(0,Dr.jsx)("p",{className:jF(PF.rule),children:"Th\xeam"})}),(0,Dr.jsx)("p",{className:jF(PF.copyRight),children:"\xa9 2022 TikTok"})]})]})},VF={link:"ButtonCategory_link__1CT1a",icon:"ButtonCategory_icon__qUfs4",title:"ButtonCategory_title__SFqXT"},UF=Pr().bind(VF);var BF=function(e){var t=e.Icon,n=e.title,r=e.link,i=e.isLoading;return(0,Dr.jsx)(Dr.Fragment,{children:i?(0,Dr.jsxs)(Dr.Fragment,{children:[(0,Dr.jsx)("a",{href:r,className:UF(VF.link,"loading","desc"),children:(0,Dr.jsx)("span",{className:UF(VF.title)})}),(0,Dr.jsx)("a",{href:r,className:UF(VF.link,"loading","desc"),children:(0,Dr.jsx)("span",{className:UF(VF.title)})})]}):(0,Dr.jsxs)("a",{href:r,className:UF(VF.link),children:[(0,Dr.jsx)(t,{className:UF(VF.icon)}),(0,Dr.jsx)("p",{className:UF(VF.title),children:n})]})})},zF={modalWrap:"SidebarItem_modalWrap__TMcXX",modal:"SidebarItem_modal__9f7SX"},qF={modalWrap:"ModalAccount_modalWrap__TOo84",header:"ModalAccount_header__21C-1",img:"ModalAccount_img__T9hgL",linkUser:"ModalAccount_linkUser__fF0Ew",nickName:"ModalAccount_nickName__tBLCi",stick:"ModalAccount_stick__s85VJ",name:"ModalAccount_name__tWKy8",desc:"ModalAccount_desc__OET+1"},HF=Pr().bind(qF);var WF=function(e){var t=e.data,n=void 0===t?{}:t,i=(0,r.useContext)(AM).handleShowModal,a=(0,r.useContext)(Uj),o=a.currentUser,s=a.newFollow,u=c((0,r.useState)(!1),2),l=u[0],f=u[1];return(0,r.useEffect)((function(){s&&s.length>=0&&(f(!1),s.length>0&&s.map((function(e){n.uid===e.uid&&f(!0)})))}),[s]),(0,Dr.jsxs)("div",{className:HF(qF.modalWrap),children:[(0,Dr.jsxs)("div",{className:HF(qF.header),children:[(0,Dr.jsx)("div",{className:HF(qF.img),children:(0,Dr.jsx)("img",{src:n.photoURL,alt:""})}),(0,Dr.jsx)(go,{onClick:function(){if(o.uid){var e,t=TM.collection("users").doc(o.id);if(l)e=s.filter((function(e){if(e.uid!==n.uid)return e})),console.log(e),t.update({following:e}),f(!1);else{var r=TM.collection("users").doc(o.id);s.includes(n.id)||(console.log(s.includes(n.id)),r.update({following:[].concat(po(s),[n])})),f(!0)}}else i()},followedBtn:l&&!0,followBtn:!l&&!0,data:n,borderRadius:!0,children:l?"\u0110ang Follow":"Follow"})]}),(0,Dr.jsxs)("a",{href:"#",className:HF(qF.linkUser),children:[(0,Dr.jsxs)("div",{className:HF(qF.nickName),children:[(0,Dr.jsx)("strong",{children:n.nickName}),(0,Dr.jsx)(Nr,{icon:te,className:HF(qF.stick)})]}),(0,Dr.jsx)("strong",{className:HF(qF.name),children:n.name})]}),(0,Dr.jsxs)("div",{className:HF(qF.desc),children:[(0,Dr.jsxs)("p",{className:HF(qF.content),children:[(0,Dr.jsx)("strong",{children:"7.1M "}),"Follower"]}),(0,Dr.jsxs)("p",{className:HF(qF.content),children:[(0,Dr.jsx)("strong",{children:"10M "}),"Likes"]})]})]})},KF=Pr().bind(zF);var GF=function(e){var t=e.data,n=e.isLoading,r=e.type,i=MM();return(0,Dr.jsx)("div",{className:KF(zF.modalWrap),children:"suggestAccounts"===r&&i>900?(0,Dr.jsx)(ys,{delay:[800,0],offset:[0,1],placement:"bottom",interactive:!0,render:function(e){return(0,Dr.jsx)("div",fo(fo({className:KF(zF.modal),tabIndex:"-1"},e),{},{children:(0,Dr.jsx)(WF,{data:t})}))},children:(0,Dr.jsx)("div",{className:KF(zF.item),children:(0,Dr.jsx)(_j,{isLoading:n,data:t,widthImg:32})})}):(0,Dr.jsx)("div",{className:KF(zF.item),children:(0,Dr.jsx)(_j,{isLoading:n,data:t,widthImg:32})})})};function QF(e){return zM({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7.784 14l.42-4H4V8h4.415l.525-5h2.011l-.525 5h3.989l.525-5h2.011l-.525 5H20v2h-3.784l-.42 4H20v2h-4.415l-.525 5h-2.011l.525-5H9.585l-.525 5H7.049l.525-5H4v-2h3.784zm2.011 0h3.99l.42-4h-3.99l-.42 4z"}}]}]})(e)}var $F=[{title:"suthala",icon:QF,link:"#"},{title:"mackedoi",icon:QF,link:"#"},{title:"sansangthaydoi",icon:QF,link:"#"},{title:"Y\xeau \u0110\u01a1n Ph\u01b0\u01a1ng L\xe0 G\xec (MEE Remix) - Mee Media & h0n",icon:QM,link:"#"},{title:"V\u1ec1 Nghe M\u1eb9 Ru - NSND Bach Tuyet & H\u1ee9a Kim Tuy\u1ec1n & 14 Casper & Ho\xe0ng D\u0169ng",icon:QM,link:"#"},{title:"Thi\xean Th\u1ea7n T\xecnh Y\xeau - RICKY STAR",icon:QM,link:"#"},{title:"7749hieuung",icon:QF,link:"#"},{title:"genzlife",icon:QF,link:"#"},{title:"T\xecnh \u0110\xe3 \u0110\u1ea7y M\u1ed9t Tim - Huy\u1ec1n T\xe2m M\xf4n",icon:QM,link:"#"},{title:"Th\u1eb1ng H\u1ea7u (Th\xe1i Ho\xe0ng Remix) [Short Version] - Dunghoangpham",icon:QM,link:"#"}],YF={listItem:"SidebarList_listItem__+idus",item:"SidebarList_item__KTjsZ",line:"SidebarList_line__tn1VL",title:"SidebarList_title__drlYB",btnShow:"SidebarList_btnShow__L6X-T",itemWrap:"SidebarList_itemWrap__9qT35"},JF=Pr().bind(YF);var XF=function(e){var t=e.type,n=e.collection,i=e.title,a=(0,r.useContext)(Uj),o=a.currentUser,s=a.listCurrentUsers,u=c((0,r.useState)([]),2),l=u[0],f=u[1],d=c((0,r.useState)(5),2),h=d[0],p=d[1],v=c((0,r.useState)(!1),2),m=v[0],g=v[1],y=c((0,r.useState)(!0),2),b=y[0],k=y[1],w=MM(),x=o.uid?s.slice(0,h):l.slice(0,h),_=function(){m?(p(5),g(!m)):(p(l.length),g(!m))},S=function(){var e=hu(fu().mark((function e(){var t;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jj(n);case 3:t=e.sent,f(t),k(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){n&&S()}),[]),(0,Dr.jsx)("div",{className:JF(YF.listItem),children:"suggestAccounts"===t||"followingAccounts"===t?(0,Dr.jsxs)(Dr.Fragment,{children:[b?(0,Dr.jsx)(GF,{isLoading:b}):"suggestAccounts"===t?(0,Dr.jsxs)("div",{className:JF(YF.item),children:[x.length>0&&(w>900?(0,Dr.jsxs)(Dr.Fragment,{children:[(0,Dr.jsx)("div",{className:JF(YF.line)}),(0,Dr.jsx)("h3",{className:JF(YF.title),children:i})]}):(0,Dr.jsx)("div",{className:JF(YF.line)})),x.length>0&&x.map((function(e,n){return(0,Dr.jsx)(GF,{type:t,data:e},n)}))]}):(0,Dr.jsxs)("div",{className:JF(YF.item),children:[(null===o||void 0===o?void 0:o.uid)&&o.following.length>0&&(w>900?(0,Dr.jsxs)(Dr.Fragment,{children:[(0,Dr.jsx)("div",{className:JF(YF.line)}),(0,Dr.jsx)("h3",{className:JF(YF.title),children:i})]}):(0,Dr.jsx)("div",{className:JF(YF.line)})),o&&o.uid&&o.following.map((function(e,n){return(0,Dr.jsx)(GF,{type:t,data:e},n)}))]}),l.length>5&&(m?(0,Dr.jsx)("p",{onClick:_,className:JF(YF.btnShow),children:"\u1ea8n b\u1edbt"}):(0,Dr.jsx)("p",{onClick:_,className:JF(YF.btnShow),children:"Xem t\u1ea5t c\u1ea3"}))]}):(0,Dr.jsx)("div",{children:w>900&&(0,Dr.jsxs)("div",{className:JF(YF.item),children:[(0,Dr.jsx)("div",{className:JF(YF.line)}),(0,Dr.jsx)("h3",{className:JF(YF.title),children:i}),(0,Dr.jsx)("div",{className:JF(YF.itemWrap),children:b?(0,Dr.jsx)(BF,{isLoading:b}):(0,Dr.jsx)(Dr.Fragment,{children:$F.map((function(e,t){return(0,Dr.jsx)(BF,{title:e.title,Icon:e.icon,link:e.link},t)}))})})]})})})},ZF=Pr().bind(AF);var eV=function(){var e=c((0,r.useState)(window.location.pathname),2),t=e[0],n=e[1],i=MM();return(0,Dr.jsxs)("div",{className:ZF(AF.sideBar),children:[(0,Dr.jsx)("div",{className:ZF(AF.header),children:NF.map((function(e,r){return(0,Dr.jsx)(go,{onClick:function(){var r;(r=e.to)!==t&&n(r)},to:e.to,active:e.to===t,largeBtn:!0,iconLeft:e.icon,borderRadius:!0,gap:"14",justifyContent:"unset",children:i>900&&e.title},r)}))}),OF.map((function(e,t){return(0,Dr.jsx)(XF,{type:e.type,title:e.title,collection:e.collection},t)})),i>900&&(0,Dr.jsx)(FF,{})]})},tV={layout:"DefaultLayout_layout__bgs3c",sideBar:"DefaultLayout_sideBar__2LG3F",content:"DefaultLayout_content__lziaP",scrollToTop:"DefaultLayout_scrollToTop__OmnXk",active:"DefaultLayout_active__pBXqN",scrollIcon:"DefaultLayout_scrollIcon__Y8Y8Z"},nV=n(667);var rV=function(){var e=c((0,r.useState)(0),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){var e=document.documentElement.scrollTop||window.scrollY;n(e)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[t]),t},iV=Pr().bind(tV);var aV=function(e){var t=e.children,n=rV();return(0,Dr.jsxs)("div",{className:iV(tV.layout,"p-top","container"),children:[(0,Dr.jsx)("div",{className:iV(tV.sideBar),children:(0,Dr.jsx)(eV,{})}),(0,Dr.jsx)("div",{className:iV(tV.content),children:t}),(0,Dr.jsx)("button",{onClick:function(){nV.ZP.animateScroll.scrollToTop()},className:iV(tV.scrollToTop,n>200&&"active"),children:(0,Dr.jsx)(iF,{className:iV(tV.scrollIcon)})})]})},oV=function(e,t){TM.collection(e).add(fo(fo({},t),{},{createdAt:OM.firestore.FieldValue.serverTimestamp()}))},sV={upload:"Upload_upload__QXxrt",uploadHeader:"Upload_uploadHeader__kpsXA",title:"Upload_title__u6-yN",desc:"Upload_desc__IQ4QU",uploadContent:"Upload_uploadContent__EIvVx",video:"Upload_video__OaUv4",uploadLayout:"Upload_uploadLayout__TEV8u",uploadIcon:"Upload_uploadIcon__Ua2bB",layoutTitle:"Upload_layoutTitle__8Gz7j",uploadDesc:"Upload_uploadDesc__qzrFv",uploadBtn:"Upload_uploadBtn__dkNFq",inpWrap:"Upload_inpWrap__Xa9PT",inpItem:"Upload_inpItem__e+Eb3",inpDesc:"Upload_inpDesc__p8YcF",inp:"Upload_inp__Pl+CE"},uV=Pr().bind(sV);var cV=function(){var e=V(),t=(0,r.useContext)(AM).user,n=(0,r.useContext)(Uj).currentUser,i=MM(),a=c((0,r.useState)([]),2),o=a[0],s=a[1],u=(0,r.useRef)(),l=(0,r.useRef)(),f=function(){var t=hu(fu().mark((function t(){var r,i,a,s,c,f;return fu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.name,i=n.nickName,a=n.photoURL,s=n.uid,c=l.current.value,f=u.current.value,t.prev=3,t.next=6,oV("videos",{name:r,nickName:i,photoURL:a,uid:s,video:URL.createObjectURL(o[0]),music:f,desc:c,comments:[],likes:0,shares:0});case 6:e("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log("upload video error");case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}();return(0,r.useEffect)((function(){t.uid||(window.location.pathname="/")}),[]),(0,Dr.jsxs)("div",{className:uV("container",sV.upload),children:[(0,Dr.jsxs)("div",{className:uV(sV.uploadHeader),children:[(0,Dr.jsx)("h1",{className:uV(sV.title),children:"T\u1ea3i video l\xean"}),(0,Dr.jsx)("h2",{className:uV(sV.desc),children:"\u0110\u0103ng video v\xe0o t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"})]}),(0,Dr.jsxs)("div",{className:uV(sV.uploadContent),children:[(0,Dr.jsx)("input",{onChange:function(e){return s(e.target.files)},id:"upload",type:"file",style:{display:"none"}}),o.length>0?(0,Dr.jsx)("video",{controls:!0,src:URL.createObjectURL(o[0]),className:uV(sV.video)}):(0,Dr.jsxs)("label",{htmlFor:"upload",className:uV(sV.uploadLayout),children:[(0,Dr.jsx)(WM,{className:uV(sV.uploadIcon)}),(0,Dr.jsx)("h3",{className:uV(sV.layoutTitle),children:"Ch\u1ecdn video \u0111\u1ec3 t\u1ea3i l\xean"}),(0,Dr.jsx)("p",{className:uV(sV.uploadDesc),children:"Ho\u1eb7c k\xe9o v\xe0 th\u1ea3 t\u1eadp tin"}),(0,Dr.jsx)("p",{className:uV(sV.uploadDesc),children:"MP4 ho\u1eb7c WebM \u0110\u1ed9 ph\xe2n gi\u1ea3i 720x1280 tr\u1edf l\xean T\u1ed1i \u0111a 10 ph\xfat \xcdt h\u01a1n 2 GB"}),(0,Dr.jsx)("label",{htmlFor:"upload",className:uV(sV.uploadBtn),children:"Ch\u1ecdn t\u1eadp tin"})]}),(0,Dr.jsxs)("div",{className:uV(sV.inpWrap),children:[(0,Dr.jsxs)("div",{className:uV(sV.inpItem),children:[(0,Dr.jsx)("p",{className:uV(sV.inpDesc),children:"M\xf4 t\u1ea3 video"}),(0,Dr.jsx)("input",{maxLength:150,ref:l,className:uV(sV.inp),type:"text"})]}),(0,Dr.jsxs)("div",{className:uV(sV.inpItem),children:[(0,Dr.jsx)("p",{className:uV(sV.inpDesc),children:"\xc2m thanh video"}),(0,Dr.jsx)("input",{maxLength:150,ref:u,className:uV(sV.inp),type:"text"})]}),(0,Dr.jsx)(go,{onClick:f,fitContentBtn:!(i<900),borderRadius:!0,smallBtn:!0,primary:!0,children:"upload"})]})]})]})},lV={},fV=Pr().bind(lV);var dV=[{path:"/",layout:aV,content:TF},{path:"/upload",content:cV},{path:"/following",layout:aV,content:function(){var e=(0,r.useContext)(Uj),t=e.currentUser,n=e.newFollow,i=e.listVideos,a=c((0,r.useState)([]),2),o=a[0],s=a[1];return(0,r.useEffect)((function(){if(null!==t&&void 0!==t&&t.uid){var e=n.map((function(e){return e.uid})),r=i.filter((function(t){return e.includes(t.uid)}));s(po(r))}}),[t]),(0,Dr.jsx)("div",{className:fV(lV.Following),children:o.length>0?(0,Dr.jsx)(IF,{data:o}):null!==t&&void 0!==t&&t.uid?(0,Dr.jsx)("h1",{children:"B\u1ea1n ch\u01b0a follow ai c\u1ea3!!!"}):(0,Dr.jsx)("h1",{children:"\u0110\u0103ng nh\u1eadp \u0111\xe3 b\u1ea1n \u01a1i!!!"})})}},{path:"/live",layout:aV,content:TF}];function hV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hV(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vV={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},mV=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bs(this,e),this.init(t,n)}return ws(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||vV,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,pV(pV({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),gV=new mV,yV=function(){function e(){bs(this,e),this.observers={}}return ws(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function bV(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function kV(e){return null==e?"":""+e}function wV(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function xV(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var a="string"!==typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=r(a.shift());!e[o]&&n&&(e[o]=new n),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return i()?{}:{obj:e,k:r(a.shift())}}function _V(e,t,n){var r=xV(e,t,Object);r.obj[r.k]=n}function SV(e,t){var n=xV(e,t),r=n.obj,i=n.k;if(r)return r[i]}function IV(e,t,n){var r=SV(e,n);return void 0!==r?r:SV(t,n)}function EV(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):EV(e[r],t[r],n):e[r]=t[r]);return e}function CV(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var TV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function NV(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return TV[e]})):e}var OV="undefined"!==typeof window&&window.navigator&&"undefined"===typeof window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,AV=[" ",",","?","!",";"];function PV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PV(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LV(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(eB){return!1}}();return function(){var n,r=Es(e);if(t){var i=Es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ns(this,n)}}function RV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,a=0;a<r.length;++a){if(!i)return;if("string"===typeof i[r[a]]&&a+1<r.length)return;if(void 0===i[r[a]]){for(var o=2,s=r.slice(a,a+o).join(n),u=i[s];void 0===u&&r.length>a+o;)o++,u=i[s=r.slice(a,a+o).join(n)];if(void 0===u)return;if(null===u)return null;if(t.endsWith(s)){if("string"===typeof u)return u;if(s&&"string"===typeof u[s])return u[s]}var c=r.slice(a+o).join(n);return c?RV(u,c,n):void 0}i=i[r[a]]}return i}}var MV=function(e){Is(n,e);var t=LV(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return bs(this,n),r=t.call(this),OV&&yV.call(_s(r)),r.data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return ws(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];n&&"string"!==typeof n&&(o=o.concat(n)),n&&"string"===typeof n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split("."));var s=SV(this.data,o);return s||!a||"string"!==typeof n?s:RV(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(r=t,t=(o=e.split("."))[1]),this.addNamespaces(t),_V(this.data,o,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var s=SV(this.data,o)||{};r?EV(s,n,i):s=DV(DV({},s),n),_V(this.data,o,s),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?DV(DV({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(yV),jV={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))})),t}};function FV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FV(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UV(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(eB){return!1}}();return function(){var n,r=Es(e);if(t){var i=Es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ns(this,n)}}var BV={},zV=function(e){Is(n,e);var t=UV(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return bs(this,n),r=t.call(this),OV&&yV.call(_s(r)),wV(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,_s(r)),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=gV.create("translator"),r}return ws(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var r=AV.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!i.test(e);if(!a){var o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a}(e,n,r);if(a&&!o){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==Ts(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),u=s.key,c=s.namespaces,l=c[c.length-1],f=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(d){var h=t.nsSeparator||this.options.nsSeparator;return a?(p.res="".concat(l).concat(h).concat(u),p):"".concat(l).concat(h).concat(u)}return a?(p.res=u,p):u}var p=this.resolve(e,t),v=p&&p.res,m=p&&p.usedKey||u,g=p&&p.exactUsedKey||u,y=Object.prototype.toString.apply(v),b=["[object Number]","[object Function]","[object RegExp]"],k=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,x="string"!==typeof v&&"boolean"!==typeof v&&"number"!==typeof v;if(w&&v&&x&&b.indexOf(y)<0&&("string"!==typeof k||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,VV(VV({},t),{},{ns:c})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return a?(p.res=_,p):_}if(o){var S="[object Array]"===y,I=S?[]:{},E=S?g:m;for(var C in v)if(Object.prototype.hasOwnProperty.call(v,C)){var T="".concat(E).concat(o).concat(C);I[C]=this.translate(T,VV(VV({},t),{joinArrays:!1,ns:c})),I[C]===T&&(I[C]=v[C])}v=I}}else if(w&&"string"===typeof k&&"[object Array]"===y)(v=v.join(k))&&(v=this.extendTranslation(v,e,t,r));else{var N=!1,O=!1,A=void 0!==t.count&&"string"!==typeof t.count,P=n.hasDefaultValue(t),D=A?this.pluralResolver.getSuffix(f,t.count,t):"",L=t["defaultValue".concat(D)]||t.defaultValue;!this.isValidLookup(v)&&P&&(N=!0,v=L),this.isValidLookup(v)||(O=!0,v=u);var R=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,M=R&&O?void 0:v,j=P&&L!==v&&this.options.updateMissing;if(O||N||j){if(this.logger.log(j?"updateKey":"missingKey",f,l,u,j?L:v),o){var F=this.resolve(u,VV(VV({},t),{},{keySeparator:!1}));F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var V=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var B=0;B<U.length;B++)V.push(U[B]);else"all"===this.options.saveMissingTo?V=this.languageUtils.toResolveHierarchy(t.lng||this.language):V.push(t.lng||this.language);var z=function(e,n,r){var a=P&&r!==v?r:M;i.options.missingKeyHandler?i.options.missingKeyHandler(e,l,n,a,j,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,l,n,a,j,t),i.emit("missingKey",e,l,n,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?V.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){z([e],u+n,t["defaultValue".concat(n)]||L)}))})):z(V,u,L))}v=this.extendTranslation(v,e,t,p,r),O&&v===u&&this.options.appendNamespaceToMissingKey&&(v="".concat(l,":").concat(u)),(O||N)&&this.options.parseMissingKeyHandler&&(v="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(u):u,N?v:void 0):this.options.parseMissingKeyHandler(v))}return a?(p.res=v,p):v}},{key:"extendTranslation",value:function(e,t,n,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,VV(VV({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(VV(VV({},n),{interpolation:VV(VV({},this.options.interpolation),n.interpolation)}));var o,s="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);o=u&&u.length}var c=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=VV(VV({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);o<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):a.translate.apply(a,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,d="string"===typeof f?[f]:f;return void 0!==e&&null!==e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=jV.handle(d,e,t,this.options&&this.options.postProcessPassResolved?VV({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,a,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var u=o.extractFromKey(e,s),c=u.key;n=c;var l=u.namespaces;o.options.fallbackNS&&(l=l.concat(o.options.fallbackNS));var f=void 0!==s.count&&"string"!==typeof s.count,d=f&&!s.ordinal&&0===s.count&&o.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);l.forEach((function(e){o.isValidLookup(t)||(a=e,!BV["".concat(p[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(a)&&(BV["".concat(p[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!o.isValidLookup(t)){i=n;var a,u=[c];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(u,c,n,e,s);else{var l;f&&(l=o.pluralResolver.getSuffix(n,s.count,s));var p="".concat(o.options.pluralSeparator,"zero");if(f&&(u.push(c+l),d&&u.push(c+p)),h){var v="".concat(c).concat(o.options.contextSeparator).concat(s.context);u.push(v),f&&(u.push(v+l),d&&u.push(v+p))}}for(;a=u.pop();)o.isValidLookup(t)||(r=a,t=o.getResource(n,e,a,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:a}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}(yV);function qV(e){return e.charAt(0).toUpperCase()+e.slice(1)}var HV=function(){function e(t){bs(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gV.create("languageUtils")}return ws(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=qV(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=qV(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=qV(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"===typeof e&&a(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))})),i}}]),e}(),WV=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],KV={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},GV=["v1","v2","v3"],QV={zero:0,one:1,two:2,few:3,many:4,other:5};function $V(){var e={};return WV.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:KV[t.fc]}}))})),e}var YV=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bs(this,e),this.languageUtils=t,this.options=n,this.logger=gV.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=$V()}return ws(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return QV[e]-QV[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!GV.includes(this.options.compatibilityJSON)}}]),e}();function JV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JV(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ZV=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bs(this,e),this.logger=gV.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return ws(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:NV,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?CV(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?CV(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?CV(t.nestingPrefix):t.nestingPrefixEscaped||CV("$t("),this.nestingSuffix=t.nestingSuffix?CV(t.nestingSuffix):t.nestingSuffixEscaped||CV(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,a,o,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var i=IV(t,u,e);return s.alwaysFormat?s.format(i,void 0,n,XV(XV(XV({},r),t),{},{interpolationkey:e})):i}var a=e.split(s.formatSeparator),o=a.shift().trim(),c=a.join(s.formatSeparator).trim();return s.format(IV(t,u,o),c,n,XV(XV(XV({},r),t),{},{interpolationkey:o}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(o=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(a=l(n)))if("function"===typeof f){var u=f(e,i,r);a="string"===typeof u?u:""}else if(r&&r.hasOwnProperty(n))a="";else{if(d){a=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else"string"===typeof a||s.useRawValueToEscape||(a=kV(a));var c=t.safeValue(a);if(e=e.replace(i[0],c),d?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++o>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=XV({},a);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,o)).replace(/'/g,'"');try{o=JSON.parse(i),t&&(o=XV(XV({},t),o))}catch(eB){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),eB),"".concat(e).concat(n).concat(i)}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),u=l,c=!0}if((r=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=kV(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=u.reduce((function(e,t){return i.format(e,t,a.lng,XV(XV({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nU=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bs(this,e),this.logger=gV.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,tU(tU({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,tU({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,tU({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,tU({},n)).format(e)}},this.init(t)}return ws(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,r){var i=this,a=t.split(this.formatSeparator).reduce((function(e,t){var a=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=Id(e.split(":")),r=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}}(t),o=a.formatName,s=a.formatOptions;if(i.formats[o]){var u=e;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=c.locale||c.lng||r.locale||r.lng||n;u=i.formats[o](e,l,tU(tU(tU({},s),r),c))}catch(f){i.logger.warn(f)}return u}return i.logger.warn("there was no format function for ".concat(o)),e}),e);return a}}]),e}();function rU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rU(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aU(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(eB){return!1}}();return function(){var n,r=Es(e);if(t){var i=Es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ns(this,n)}}var oU=function(e){Is(n,e);var t=aU(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return bs(this,n),a=t.call(this),OV&&yV.call(_s(a)),a.backend=e,a.store=r,a.services=i,a.languageUtils=i.languageUtils,a.options=o,a.logger=gV.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,o.backend,o),a}return ws(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,a={},o={},s={},u={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===o[s]&&(o[s]=!0):(i.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===a[s]&&(a[s]=!0),void 0===u[t]&&(u[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),n&&this.store.addResourceBundle(i,a,n),this.state[e]=t?-1:2;var o={};this.queue.forEach((function(n){!function(e,t,n,r){var i=xV(e,t,Object),a=i.obj,o=i.k;a[o]=a[o]||[],r&&(a[o]=a[o].concat(n)),r||a[o].push(n)}(n.loaded,[i],a),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){o[e]||(o[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===o[e][t]&&(o[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:a,callback:o}):(this.readingCalls++,this.backend[n](e,t,(function(s,u){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&u&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*a,o)}),a):o(s,u)}))):o(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(function(r,o){r&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(i," failed"),r),!r&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(i),o),t.loaded(e,r,o)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,iU(iU({},a),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),n}(yV);function sU(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Ts(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===Ts(e[2])||"object"===Ts(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function uU(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function cU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cU(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fU(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(eB){return!1}}();return function(){var n,r=Es(e);if(t){var i=Es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ns(this,n)}}function dU(){}function hU(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"===typeof e[t]&&(e[t]=e[t].bind(e))}))}var pU=function(e){Is(n,e);var t=fU(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(bs(this,n),e=t.call(this),OV&&yV.call(_s(e)),e.options=uU(r),e.services={},e.logger=gV,e.modules={external:[]},hU(_s(e)),i&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,i),Ns(e,_s(e));setTimeout((function(){e.init(r,i)}),0)}return e}return ws(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"===typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"===typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=sU();function i(e){return e?"function"===typeof e?new e:e:null}if(this.options=lU(lU(lU({},r),this.options),uU(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=lU(lU({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var a;this.modules.logger?gV.init(i(this.modules.logger),this.options):gV.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!==typeof Intl&&(a=nU);var o=new HV(this.options);this.store=new MV(this.options.resources,this.options);var s=this.services;s.logger=gV,s.resourceStore=this.store,s.languageUtils=o,s.pluralResolver=new YV(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(a),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new ZV(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new oU(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new zV(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=dU),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var f=bV(),d=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),f.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),f}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dU,r=n,i="string"===typeof e?e:this.language;if("function"===typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var a=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};if(i)o(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return o(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(a,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=bV();return e||(e=this.languages),t||(t=this.options.ns),n||(n=dU),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&jV.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=bV();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var o="string"===typeof a?a:n.services.languageUtils.getBestMatchFromCodes(a);o&&(n.language||i(o),n.translator.language||n.translator.changeLanguage(o),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(o)),n.loadResources(o,(function(e){!function(e,a){a?(i(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,o)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var a;if("object"!==Ts(i)){for(var o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];a=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else a=lU({},i);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var c=r.options.keySeparator||".",l=a.keyPrefix?"".concat(a.keyPrefix).concat(c).concat(t):t;return r.t(l,a)};return"string"===typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,o);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(r,e)||i&&!o(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=bV();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=bV();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dU,i=lU(lU(lU({},this.options),t),{isClone:!0}),a=new n(i),o=["store","services","language"];return o.forEach((function(t){a[t]=e[t]})),a.services=lU({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new zV(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))})),a.init(i,r),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(yV);co(pU,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new pU(e,t)}));var vU=pU.createInstance();vU.createInstance=pU.createInstance;vU.createInstance,vU.init,vU.loadResources,vU.reloadResources,vU.use,vU.changeLanguage,vU.getFixedT,vU.t,vU.exists,vU.setDefaultNamespace,vU.hasLoadedNamespace,vU.loadNamespaces,vU.loadLanguages;var mU=vU,gU=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yU={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},bU=function(e){return yU[e]};function kU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kU(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xU,_U={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(gU,bU)}},SU=(0,r.createContext)();function IU(){return _U}var EU=function(){function e(){bs(this,e),this.usedNamespaces={}}return ws(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function CU(){return xU}var TU={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_U=wU(wU({},_U),e)}(e.options.react),function(e){xU=e}(e)}};mU.use(TU).init({resources:{en:{translation:{"Welcome to React":"Welcome to React and react-i18next"}},fr:{translation:{"Welcome to React":"Bienvenue \xe0 React et react-i18next"}}},lng:"en",interpolation:{escapeValue:!1}});function NU(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var OU={};function AU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&OU[t[0]]||("string"===typeof t[0]&&(OU[t[0]]=new Date),NU.apply(void 0,t))}function PU(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function DU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!o(r,e)||i&&!o(a,e))))}function LU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return AU("i18n.languages were undefined or empty",t.languages),!0;var r=void 0!==t.options.ignoreJSONStructure;return r?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):DU(e,t,n)}function RU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RU(Object(n),!0).forEach((function(t){co(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jU=function(e,t){var n=(0,r.useRef)();return(0,r.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current};var FU={modal:"Modal_modal__RTtfl",show:"Modal_show__slFAc",layoutClose:"Modal_layoutClose__1VHO2",layout:"Modal_layout__K4dnU",closeBtn:"Modal_closeBtn__uNV-I",closeBtnIcon:"Modal_closeBtnIcon__2++4f",title:"Modal_title__2Fokm",listItem:"Modal_listItem__LNcVS",item:"Modal_item__0KOKu",itemIcon:"Modal_itemIcon__aR7JF",itemContent:"Modal_itemContent__C5BkE",desc:"Modal_desc__qu7n-",footer:"Modal_footer__XNh+u",footerLink:"Modal_footerLink__NggfT"};function VU(e){return zM({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",stroke:"#000",strokeWidth:"2",d:"M3,3 L21,21 M3,21 L21,3"}}]})(e)}var UU=new OM.auth.GoogleAuthProvider,BU=[{icon:GM,title:"Ti\u1ebfp t\u1ee5c v\u1edbi facebook",provider:new OM.auth.FacebookAuthProvider},{icon:function(e){return zM({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"}}]})(e)},title:"Ti\u1ebfp t\u1ee5c v\u1edbi Google",provider:UU}],zU=Pr().bind(FU);var qU=function(e){var t=e.show,n=e.onClick,i=c((0,r.useState)(!1),2),a=i[0],o=i[1],s=function(){var e=hu(fu().mark((function e(t){var n,r,i;return fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,NM.signInWithPopup(t);case 3:n=e.sent,r=n.additionalUserInfo,i=n.user,r&&r.isNewUser&&oV("users",{name:i.displayName,photoURL:i.photoURL,email:i.email,nickName:i.displayName.toLocaleLowerCase().split(" ").join(""),following:[],liked:[],tick:!1,isFollow:!1,uid:i.uid}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,Dr.jsxs)("div",{className:zU(FU.modal,t&&"show"),children:[(0,Dr.jsx)("div",{onClick:n,className:zU(FU.layoutClose)}),(0,Dr.jsxs)("div",{className:zU(FU.layout,t&&"show"),children:[(0,Dr.jsx)("div",{onClick:n,className:zU(FU.closeBtn),children:(0,Dr.jsx)(VU,{className:zU(FU.closeBtnIcon)})}),(0,Dr.jsx)("h1",{className:zU(FU.title),children:"\u0110\u0103ng nh\u1eadp v\xe0o tiktok"}),(0,Dr.jsx)("div",{className:zU(FU.listItem),children:BU.map((function(e,t){return(0,Dr.jsxs)("button",{onClick:function(){s(e.provider)},className:zU(FU.item),children:[(0,Dr.jsx)(e.icon,{className:zU(FU.itemIcon)}),(0,Dr.jsx)("p",{className:zU(FU.itemContent),children:e.title})]},t)}))}),a&&(0,Dr.jsx)("p",{className:zU(FU.desc),children:"B\u1eb1ng c\xe1ch ti\u1ebfp t\u1ee5c, b\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi \u0110i\u1ec1u kho\u1ea3n S\u1eed d\u1ee5ng c\u1ee7a TikTok v\xe0 x\xe1c nh\u1eadn r\u1eb1ng b\u1ea1n \u0111\xe3 \u0111\u1ecdc hi\u1ec3u Ch\xednh s\xe1ch Quy\u1ec1n ri\xeang t\u01b0 c\u1ee7a TikTok."}),(0,Dr.jsxs)("div",{className:zU(FU.footer),children:[(0,Dr.jsx)("p",{className:zU(FU.footerContent),children:"B\u1ea1n kh\xf4ng c\xf3 t\xe0i kho\u1ea3n?"}),(0,Dr.jsx)("a",{onClick:function(){return o(!a)},href:"#",className:zU(FU.footerLink),children:a?"\u0110\u0103ng k\xfd":"\u0110\u0103ng nh\u1eadp"})]})]})]})};var HU=function(){var e=(0,r.useContext)(AM),t=e.showModal,n=e.handleShowModal,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=(0,r.useContext)(SU)||{},a=i.i18n,o=i.defaultNS,s=n||a||CU();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new EU),!s){AU("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[u,{},!1];return l.t=u,l.i18n={},l.ready=!1,l}s.options.react&&void 0!==s.options.react.wait&&AU("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var f=MU(MU(MU({},IU()),s.options.react),t),d=f.useSuspense,h=f.keyPrefix,p=e||o||s.options&&s.options.defaultNS;p="string"===typeof p?[p]:p||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(p);var v=(s.isInitialized||s.initializedStoreOnce)&&p.every((function(e){return LU(e,s,f)}));function m(){return s.getFixedT(null,"fallback"===f.nsMode?p:p[0],h)}var g=c((0,r.useState)(m),2),y=g[0],b=g[1],k=p.join(),w=jU(k),x=(0,r.useRef)(!0);(0,r.useEffect)((function(){var e=f.bindI18n,t=f.bindI18nStore;function n(){x.current&&b(m)}return x.current=!0,v||d||PU(s,p,(function(){x.current&&b(m)})),v&&w&&w!==k&&x.current&&b(m),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){x.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,k]);var _=(0,r.useRef)(!0);(0,r.useEffect)((function(){x.current&&!_.current&&b(m),_.current=!1}),[s,h]);var S=[y,s,v];if(S.t=y,S.i18n=s,S.ready=v,v)return S;if(!v&&!d)return S;throw new Promise((function(e){PU(s,p,(function(){e()}))}))}();return i.t,i.i18n,(0,Dr.jsx)($,{children:(0,Dr.jsxs)("div",{className:"App",children:[(0,Dr.jsx)(Dj,{}),(0,Dr.jsx)(qU,{show:t,onClick:n}),(0,Dr.jsx)(H,{children:dV.map((function(e){var t=r.Fragment,n=e.content;return e.layout&&(t=e.layout),(0,Dr.jsx)(z,{path:e.path,element:(0,Dr.jsx)(t,{children:(0,Dr.jsx)(n,{})})},e.path)}))})]})})};function WU(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var KU="function"===typeof Symbol&&Symbol.observable||"@@observable",GU=function(){return Math.random().toString(36).substring(7).split("").join(".")},QU={INIT:"@@redux/INIT"+GU(),REPLACE:"@@redux/REPLACE"+GU(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+GU()}};function $U(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function YU(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(WU(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(WU(1));return n(YU)(e,t)}if("function"!==typeof e)throw new Error(WU(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(WU(3));return a}function f(e){if("function"!==typeof e)throw new Error(WU(4));if(u)throw new Error(WU(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(WU(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function d(e){if(!$U(e))throw new Error(WU(7));if("undefined"===typeof e.type)throw new Error(WU(8));if(u)throw new Error(WU(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(WU(10));i=e,d({type:QU.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(WU(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[KU]=function(){return this},e}return d({type:QU.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[KU]=p,r}var JU={searchText:"",listAllUsers:[]},XU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JU,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"search":return fo(fo({},e),{},{searchText:t.payload});case"getListUsers":return fo(fo({},e),{},{listAllUsers:t.payload});default:return e}},ZU=YU(XU);i.createRoot(document.getElementById("root")).render((0,Dr.jsx)(r.StrictMode,{children:(0,Dr.jsx)(dj,{store:ZU,children:(0,Dr.jsx)(PM,{children:(0,Dr.jsx)(Bj,{children:(0,Dr.jsx)(HU,{})})})})}))}()}();
//# sourceMappingURL=main.9124cf49.js.map