/*! For license information please see main.9896ada3.js.LICENSE.txt */
!function(){var e={136:function(e,t,n){"use strict";n(791);t.Z=n.p+"static/media/logo.2c09544518b754ec025aa443d223f74f.svg"},582:function(e,t,n){"use strict";n(791);t.Z=n.p+"static/media/tiktok.00d68adfe6003dcfe33369018a521d79.svg"},448:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(i.apply(this,n));else if("object"===a)if(n.toString===Object.prototype.toString)for(var o in n)r.call(n,o)&&n[o]&&e.push(this&&this[o]||o);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Ne(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Le=!1}function Re(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ve=null,Ue={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,je=null,Re.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,Et,St=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Dt=new Map,Lt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(Vt),Dt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)jt(n),null===n.blockedOn&&Lt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return In}var Sn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Ln=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Mn=l&&"TextEvent"in window&&!Rn,jn=l&&(!Pn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),s(t,[e])}for(var Lr=0;Lr<Or.length;Lr++){var Pr=Or[Lr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Hn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ei(Ni),Ei(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Si(Ci,e)):Ei(Ni),Si(Ni,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=La(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=La(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=La(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),Ra(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Di(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Di(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=R(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Rc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(R(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Si(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ho(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Lo(n,t,i)}return i}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Ro(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Lo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Lc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ls,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ls,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ls,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ls,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ai:Ci.current;return a=Oi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Oi(t,c=Di(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Oi(t,s=Di(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Lu,Pu,Ru={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Rc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Ru,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Rc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Ru,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=Fu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Lc(r,u):(u=Rc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i}return e=(u=e.child).sibling,i=Lc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Di(t.type)&&Li(),Ku(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Lu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ku(t),null;case 10:return xa(t.type._context),Ku(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,$u=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Yu;var c=$u;if(Yu=o,($u=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,Yu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var _s,Is=Math.ceil,Es=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Os=0,Ds=0,Ls=Ii(0),Ps=0,Rs=null,Ms=0,js=0,Fs=0,Vs=null,Us=null,Bs=0,zs=1/0,qs=null,Hs=!1,Ws=null,Ks=null,Gs=!1,Qs=null,Ys=0,$s=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(js|=n),4===Ps&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,Vi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Os===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Es.current=o,Cs=i,null!==As?t=0:(Ns=null,Os=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Rs,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Rs,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,qs),t);break}wc(e,Us,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~Fs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Rs,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,Vi&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Ds=Ls.current,Ei(Ls)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Lc(e.current,null),Os=Ds=t,Ps=0,Rs=null,Fs=js=Ms=0,Us=Vs=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ss.current=null,null===n||null===n.return){Ps=1,Rs=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Ns||0===(268435455&Ms)&&0===(268435455&js)||uc(Ns,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Os===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Es.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Ps}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!Ye();)kc(As)}function kc(e){var t=_s(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ds)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ps=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ss.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ws,Ws=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?$s++:($s=0,Xs=e):$s=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt(Ys),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ps||3===Ps&&(130023424&Os)===Os&&500>Xe()-Bs?hc(e,0):Fs|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Rc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case L:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ri(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=La(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),Ra(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Si(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Hu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),ja(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=La(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},L={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:L,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,L(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,E=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(I=!1,E=null)}}else I=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=A,_=function(){D.postMessage(null)}}else _=function(){y(A,0)};function L(e){E=e,I||(I=!0,_())}function P(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,L(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return cs},SDK_VERSION:function(){return wc},_DEFAULT_ENTRY_NAME:function(){return sc},_addComponent:function(){return hc},_addOrOverwriteComponent:function(){return dc},_apps:function(){return lc},_clearComponents:function(){return yc},_components:function(){return fc},_getProvider:function(){return vc},_registerComponent:function(){return pc},_removeServiceInstance:function(){return mc},deleteApp:function(){return Ec},getApp:function(){return _c},getApps:function(){return Ic},initializeApp:function(){return xc},onLog:function(){return Cc},registerVersion:function(){return Tc},setLogLevel:function(){return Nc}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var b=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=I(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function I(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=D([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),I(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}var E=/^:\w+$/,S=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:D([i,l.pathname]),pathnameBase:L(D([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=D([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function A(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:P(a),hash:R(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var D=function(e){return e.join("/").replace(/\/\/+/g,"/")},L=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},R=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){j()||x(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,a=U(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):D([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function j(){return null!=(0,r.useContext)(b)}function F(){return j()||x(!1),(0,r.useContext)(b).location}function V(){j()||x(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=A(e,JSON.parse(o),a);"/"!==t&&(i.pathname=D([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function U(e){var t=(0,r.useContext)(w).matches,n=F().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return A(e,JSON.parse(i),n)}),[e,i,n])}function B(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function z(e){x(!1)}function q(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;j()&&x(!1);var d=L(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,m=v.pathname,y=void 0===m?"/":m,w=v.search,_=void 0===w?"":w,I=v.hash,E=void 0===I?"":I,S=v.state,T=void 0===S?null:S,C=v.key,N=void 0===C?"default":C,A=(0,r.useMemo)((function(){var e=O(y,d);return null==e?null:{pathname:e,search:_,hash:E,state:T,key:N}}),[d,y,_,E,T,N]);return null==A?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:A,navigationType:c}}))}function H(e){var t=e.children,n=e.location;return function(e,t){j()||x(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,F());if(t){var c,l="string"===typeof t?g(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||x(!1),n=l}else n=s;var f=n.pathname||"/",h=_(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return B(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:D([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,e.pathnameBase])})})),i)}(W(t),n)}function W(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==z&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=W(e.props.children)),t.push(n)}else t.push.apply(t,W(e.props.children))})),t}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function Y(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else S(e)}}));var u=t.Pop,s=a(),c=s[0],k=s[1],b=v(),w=v();function x(e){return"string"===typeof e?e:y(e)}function _(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function E(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function S(e){u=e;var t=a();c=t[0],k=t[1],b.call({action:u,location:k})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return k},createHref:x,push:function e(n,a){var o=t.Push,u=_(n,a);if(E(o,u,(function(){e(n,a)}))){var s=I(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}S(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(E(a,o,(function(){e(n,r)}))){var u=I(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),S(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return C}({window:a}));var u=o.current,s=c((0,r.useState)({action:u.action,location:u.location}),2),k=s[0],b=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(b)}),[u]),(0,r.createElement)(q,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:u})}var $=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=G(e,Q),f=M(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=V(),s=F(),c=U(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(s)===y(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",K({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var X={prefix:"far",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M447.1 0h-384c-35.25 0-64 28.75-64 63.1v287.1c0 35.25 28.75 63.1 64 63.1h96v83.98c0 9.836 11.02 15.55 19.12 9.7l124.9-93.68h144c35.25 0 64-28.75 64-63.1V63.1C511.1 28.75 483.2 0 447.1 0zM464 352c0 8.75-7.25 16-16 16h-160l-80 60v-60H64c-8.75 0-16-7.25-16-16V64c0-8.75 7.25-16 16-16h384c8.75 0 16 7.25 16 16V352z"]},J={prefix:"far",iconName:"user",icon:[448,512,[62144,128100],"f007","M272 304h-96C78.8 304 0 382.8 0 480c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32C448 382.8 369.2 304 272 304zM48.99 464C56.89 400.9 110.8 352 176 352h96c65.16 0 119.1 48.95 127 112H48.99zM224 256c70.69 0 128-57.31 128-128c0-70.69-57.31-128-128-128S96 57.31 96 128C96 198.7 153.3 256 224 256zM224 48c44.11 0 80 35.89 80 80c0 44.11-35.89 80-80 80S144 172.1 144 128C144 83.89 179.9 48 224 48z"]},Z={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[512,512,["sign-out"],"f08b","M160 416H96c-17.67 0-32-14.33-32-32V128c0-17.67 14.33-32 32-32h64c17.67 0 32-14.33 32-32S177.7 32 160 32H96C42.98 32 0 74.98 0 128v256c0 53.02 42.98 96 96 96h64c17.67 0 32-14.33 32-32S177.7 416 160 416zM502.6 233.4l-128-128c-12.51-12.51-32.76-12.49-45.25 0c-12.5 12.5-12.5 32.75 0 45.25L402.8 224H192C174.3 224 160 238.3 160 256s14.31 32 32 32h210.8l-73.38 73.38c-12.5 12.5-12.5 32.75 0 45.25s32.75 12.5 45.25 0l128-128C515.1 266.1 515.1 245.9 502.6 233.4z"]},ee={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M224 480c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l169.4 169.4c12.5 12.5 12.5 32.75 0 45.25C240.4 476.9 232.2 480 224 480z"]},te={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM371.8 211.8C382.7 200.9 382.7 183.1 371.8 172.2C360.9 161.3 343.1 161.3 332.2 172.2L224 280.4L179.8 236.2C168.9 225.3 151.1 225.3 140.2 236.2C129.3 247.1 129.3 264.9 140.2 275.8L204.2 339.8C215.1 350.7 232.9 350.7 243.8 339.8L371.8 211.8z"]},ne={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 400c-18 0-32-14-32-32s13.1-32 32-32c17.1 0 32 14 32 32S273.1 400 256 400zM325.1 258L280 286V288c0 13-11 24-24 24S232 301 232 288V272c0-8 4-16 12-21l57-34C308 213 312 206 312 198C312 186 301.1 176 289.1 176h-51.1C225.1 176 216 186 216 198c0 13-11 24-24 24s-24-11-24-24C168 159 199 128 237.1 128h51.1C329 128 360 159 360 198C360 222 347 245 325.1 258z"]},re={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},ie={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80C512 98.01 497.7 114.6 473.6 128C444.5 144.1 401.2 155.5 351.3 158.9C347.7 157.2 343.9 155.5 340.1 153.9C300.6 137.4 248.2 128 192 128C183.7 128 175.6 128.2 167.5 128.6L166.4 128C142.3 114.6 128 98.01 128 80C128 35.82 213.1 0 320 0C426 0 512 35.82 512 80V80zM160.7 161.1C170.9 160.4 181.3 160 192 160C254.2 160 309.4 172.3 344.5 191.4C369.3 204.9 384 221.7 384 240C384 243.1 383.3 247.9 381.9 251.7C377.3 264.9 364.1 277 346.9 287.3C346.9 287.3 346.9 287.3 346.9 287.3C346.8 287.3 346.6 287.4 346.5 287.5L346.5 287.5C346.2 287.7 345.9 287.8 345.6 288C310.6 307.4 254.8 320 192 320C132.4 320 79.06 308.7 43.84 290.9C41.97 289.9 40.15 288.1 38.39 288C14.28 274.6 0 258 0 240C0 205.2 53.43 175.5 128 164.6C138.5 163 149.4 161.8 160.7 161.1L160.7 161.1zM391.9 186.6C420.2 182.2 446.1 175.2 468.1 166.1C484.4 159.3 499.5 150.9 512 140.6V176C512 195.3 495.5 213.1 468.2 226.9C453.5 234.3 435.8 240.5 415.8 245.3C415.9 243.6 416 241.8 416 240C416 218.1 405.4 200.1 391.9 186.6V186.6zM384 336C384 354 369.7 370.6 345.6 384C343.8 384.1 342 385.9 340.2 386.9C304.9 404.7 251.6 416 192 416C129.2 416 73.42 403.4 38.39 384C14.28 370.6 .0003 354 .0003 336V300.6C12.45 310.9 27.62 319.3 43.93 326.1C83.44 342.6 135.8 352 192 352C248.2 352 300.6 342.6 340.1 326.1C347.9 322.9 355.4 319.2 362.5 315.2C368.6 311.8 374.3 308 379.7 304C381.2 302.9 382.6 301.7 384 300.6L384 336zM416 278.1C434.1 273.1 452.5 268.6 468.1 262.1C484.4 255.3 499.5 246.9 512 236.6V272C512 282.5 507 293 497.1 302.9C480.8 319.2 452.1 332.6 415.8 341.3C415.9 339.6 416 337.8 416 336V278.1zM192 448C248.2 448 300.6 438.6 340.1 422.1C356.4 415.3 371.5 406.9 384 396.6V432C384 476.2 298 512 192 512C85.96 512 .0003 476.2 .0003 432V396.6C12.45 406.9 27.62 415.3 43.93 422.1C83.44 438.6 135.8 448 192 448z"]},ae={prefix:"fas",iconName:"earth-asia",icon:[512,512,[127759,"globe-asia"],"f57e","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM51.68 295.1L83.41 301.5C91.27 303.1 99.41 300.6 105.1 294.9L120.5 279.5C132 267.1 151.6 271.1 158.9 285.8L168.2 304.3C172.1 313.9 182.8 319.1 193.5 319.1C208.7 319.1 219.6 305.4 215.2 290.8L209.3 270.9C204.6 255.5 216.2 240 232.3 240H234.6C247.1 240 260.5 233.3 267.9 222.2L278.6 206.1C284.2 197.7 283.9 186.6 277.8 178.4L261.7 156.9C251.4 143.2 258.4 123.4 275.1 119.2L292.1 114.1C299.6 113.1 305.7 107.8 308.6 100.6L324.9 59.69C303.4 52.12 280.2 48 255.1 48C141.1 48 47.1 141.1 47.1 256C47.1 269.4 49.26 282.5 51.68 295.1L51.68 295.1zM450.4 300.4L434.6 304.9C427.9 306.7 420.8 304 417.1 298.2L415.1 295.1C409.1 285.7 398.7 279.1 387.5 279.1C376.4 279.1 365.1 285.7 359.9 295.1L353.8 304.6C352.4 306.8 350.5 308.7 348.2 309.1L311.1 330.1C293.9 340.2 286.5 362.5 294.1 381.4L300.5 393.8C309.1 413 331.2 422.3 350.1 414.9L353.5 413.1C363.6 410.2 374.8 411.8 383.5 418.1L385 419.2C422.2 389.7 449.1 347.8 459.4 299.7C456.4 299.4 453.4 299.6 450.4 300.4H450.4zM156.1 367.5L188.1 375.5C196.7 377.7 205.4 372.5 207.5 363.9C209.7 355.3 204.5 346.6 195.9 344.5L163.9 336.5C155.3 334.3 146.6 339.5 144.5 348.1C142.3 356.7 147.5 365.4 156.1 367.5V367.5zM236.5 328.1C234.3 336.7 239.5 345.4 248.1 347.5C256.7 349.7 265.4 344.5 267.5 335.9L275.5 303.9C277.7 295.3 272.5 286.6 263.9 284.5C255.3 282.3 246.6 287.5 244.5 296.1L236.5 328.1zM321.7 120.8L305.7 152.8C301.7 160.7 304.9 170.4 312.8 174.3C320.7 178.3 330.4 175.1 334.3 167.2L350.3 135.2C354.3 127.3 351.1 117.6 343.2 113.7C335.3 109.7 325.6 112.9 321.7 120.8V120.8z"]},oe={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360C94.93 360 120 385.1 120 416C120 446.9 94.93 472 64 472C33.07 472 8 446.9 8 416C8 385.1 33.07 360 64 360zM64 200C94.93 200 120 225.1 120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200zM64 152C33.07 152 8 126.9 8 96C8 65.07 33.07 40 64 40C94.93 40 120 65.07 120 96C120 126.9 94.93 152 64 152z"]},ue={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"]},se={prefix:"fas",iconName:"house",icon:[576,512,[63498,63500,127968,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"]},ce={prefix:"fas",iconName:"keyboard",icon:[576,512,[9e3],"f11c","M512 448H64c-35.35 0-64-28.65-64-64V128c0-35.35 28.65-64 64-64h448c35.35 0 64 28.65 64 64v256C576 419.3 547.3 448 512 448zM128 180v-40C128 133.4 122.6 128 116 128h-40C69.38 128 64 133.4 64 140v40C64 186.6 69.38 192 76 192h40C122.6 192 128 186.6 128 180zM224 180v-40C224 133.4 218.6 128 212 128h-40C165.4 128 160 133.4 160 140v40C160 186.6 165.4 192 172 192h40C218.6 192 224 186.6 224 180zM320 180v-40C320 133.4 314.6 128 308 128h-40C261.4 128 256 133.4 256 140v40C256 186.6 261.4 192 268 192h40C314.6 192 320 186.6 320 180zM416 180v-40C416 133.4 410.6 128 404 128h-40C357.4 128 352 133.4 352 140v40C352 186.6 357.4 192 364 192h40C410.6 192 416 186.6 416 180zM512 180v-40C512 133.4 506.6 128 500 128h-40C453.4 128 448 133.4 448 140v40C448 186.6 453.4 192 460 192h40C506.6 192 512 186.6 512 180zM128 276v-40C128 229.4 122.6 224 116 224h-40C69.38 224 64 229.4 64 236v40C64 282.6 69.38 288 76 288h40C122.6 288 128 282.6 128 276zM224 276v-40C224 229.4 218.6 224 212 224h-40C165.4 224 160 229.4 160 236v40C160 282.6 165.4 288 172 288h40C218.6 288 224 282.6 224 276zM320 276v-40C320 229.4 314.6 224 308 224h-40C261.4 224 256 229.4 256 236v40C256 282.6 261.4 288 268 288h40C314.6 288 320 282.6 320 276zM416 276v-40C416 229.4 410.6 224 404 224h-40C357.4 224 352 229.4 352 236v40C352 282.6 357.4 288 364 288h40C410.6 288 416 282.6 416 276zM512 276v-40C512 229.4 506.6 224 500 224h-40C453.4 224 448 229.4 448 236v40C448 282.6 453.4 288 460 288h40C506.6 288 512 282.6 512 276zM128 372v-40C128 325.4 122.6 320 116 320h-40C69.38 320 64 325.4 64 332v40C64 378.6 69.38 384 76 384h40C122.6 384 128 378.6 128 372zM416 372v-40C416 325.4 410.6 320 404 320h-232C165.4 320 160 325.4 160 332v40C160 378.6 165.4 384 172 384h232C410.6 384 416 378.6 416 372zM512 372v-40C512 325.4 506.6 320 500 320h-40C453.4 320 448 325.4 448 332v40C448 378.6 453.4 384 460 384h40C506.6 384 512 378.6 512 372z"]},le={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"]},fe={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M511.6 36.86l-64 415.1c-1.5 9.734-7.375 18.22-15.97 23.05c-4.844 2.719-10.27 4.097-15.68 4.097c-4.188 0-8.319-.8154-12.29-2.472l-122.6-51.1l-50.86 76.29C226.3 508.5 219.8 512 212.8 512C201.3 512 192 502.7 192 491.2v-96.18c0-7.115 2.372-14.03 6.742-19.64L416 96l-293.7 264.3L19.69 317.5C8.438 312.8 .8125 302.2 .0625 289.1s5.469-23.72 16.06-29.77l448-255.1c10.69-6.109 23.88-5.547 34 1.406S513.5 24.72 511.6 36.86z"]},he={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},de={prefix:"fas",iconName:"user-group",icon:[640,512,[128101,"user-friends"],"f500","M224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3c-95.73 0-173.3 77.6-173.3 173.3C0 496.5 15.52 512 34.66 512H413.3C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304zM479.1 320h-73.85C451.2 357.7 480 414.1 480 477.3C480 490.1 476.2 501.9 470 512h138C625.7 512 640 497.6 640 479.1C640 391.6 568.4 320 479.1 320zM432 256C493.9 256 544 205.9 544 144S493.9 32 432 32c-25.11 0-48.04 8.555-66.72 22.51C376.8 76.63 384 101.4 384 128c0 35.52-11.93 68.14-31.59 94.71C372.7 243.2 400.8 256 432 256z"]},pe={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M384 112v288c0 26.51-21.49 48-48 48h-288c-26.51 0-48-21.49-48-48v-288c0-26.51 21.49-48 48-48h288C362.5 64 384 85.49 384 112zM576 127.5v256.9c0 25.5-29.17 40.39-50.39 25.79L416 334.7V177.3l109.6-75.56C546.9 87.13 576 102.1 576 127.5z"]};function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"===typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ie=function(){},Ee={},Se={},Te=null,Ce={mark:Ie,measure:Ie};try{"undefined"!==typeof window&&(Ee=window),"undefined"!==typeof document&&(Se=document),"undefined"!==typeof MutationObserver&&(Te=MutationObserver),"undefined"!==typeof performance&&(Ce=performance)}catch(WF){}var Ne=(Ee.navigator||{}).userAgent,Ae=void 0===Ne?"":Ne,Oe=Ee,De=Se,Le=Te,Pe=Ce,Re=(Oe.document,!!De.documentElement&&!!De.head&&"function"===typeof De.addEventListener&&"function"===typeof De.createElement),Me=~Ae.indexOf("MSIE")||~Ae.indexOf("Trident/"),je="svg-inline--fa",Fe="data-fa-i2svg",Ve="data-fa-pseudo-element",Ue="data-prefix",Be="data-icon",ze="fontawesome-i2svg",qe=["HTML","HEAD","STYLE","SCRIPT"],He=function(){try{return!0}catch(WF){return!1}}(),We={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Ke={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Ge={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Qe={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Ye=/fa[srltdbk]?[\-\ ]/,$e="fa-layers-text",Xe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Je={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},Ze=[1,2,3,4,5,6,7,8,9,10],et=Ze.concat([11,12,13,14,15,16,17,18,19,20]),tt=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],nt="duotone-group",rt="swap-opacity",it="primary",at="secondary",ot=[].concat(we(Object.keys(Ke)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",nt,rt,it,at]).concat(Ze.map((function(e){return"".concat(e,"x")}))).concat(et.map((function(e){return"w-".concat(e)}))),ut=Oe.FontAwesomeConfig||{};if(De&&"function"===typeof De.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=be(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=De.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(ut[r]=i)}))}var st=me(me({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:je,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),ut);st.autoReplaceSvg||(st.observeMutations=!1);var ct={};Object.keys(st).forEach((function(e){Object.defineProperty(ct,e,{enumerable:!0,set:function(t){st[e]=t,lt.forEach((function(e){return e(ct)}))},get:function(){return st[e]}})})),Oe.FontAwesomeConfig=ct;var lt=[];var ft=16,ht={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function dt(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function pt(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function vt(e){return e.classList?pt(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function mt(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yt(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function gt(e){return e.size!==ht.size||e.x!==ht.x||e.y!==ht.y||e.rotate!==ht.rotate||e.flipX||e.flipY}function kt(){var e="fa",t=je,n=ct.familyPrefix,r=ct.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var bt=!1;function wt(){ct.autoAddCss&&!bt&&(!function(e){if(e&&Re){var t=De.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=De.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}De.head.insertBefore(t,r)}}(kt()),bt=!0)}var xt={mixout:function(){return{dom:{css:kt,insertCss:wt}}},hooks:function(){return{beforeDOMElementCreation:function(){wt()},beforeI2svg:function(){wt()}}}},_t=Oe||{};_t.___FONT_AWESOME___||(_t.___FONT_AWESOME___={}),_t.___FONT_AWESOME___.styles||(_t.___FONT_AWESOME___.styles={}),_t.___FONT_AWESOME___.hooks||(_t.___FONT_AWESOME___.hooks={}),_t.___FONT_AWESOME___.shims||(_t.___FONT_AWESOME___.shims=[]);var It=_t.___FONT_AWESOME___,Et=[],St=!1;function Tt(e){Re&&(St?setTimeout(e,0):Et.push(e))}function Ct(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?mt(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(mt(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(Ct).join(""),"</").concat(t,">")}function Nt(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Re&&((St=(De.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(De.readyState))||De.addEventListener("DOMContentLoaded",(function e(){De.removeEventListener("DOMContentLoaded",e),St=1,Et.map((function(e){return e()}))})));var At=function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o};function Ot(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Dt(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Dt(t);"function"!==typeof It.hooks.addPack||i?It.styles[e]=me(me({},It.styles[e]||{}),a):It.hooks.addPack(e,Dt(t)),"fas"===e&&Lt("fa",t)}var Pt=It.styles,Rt=It.shims,Mt=Object.values(Ge),jt=null,Ft={},Vt={},Ut={},Bt={},zt={},qt=Object.keys(We);function Ht(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~ot.indexOf(n))?null:a}var Wt=function(){var e=function(e){return At(Pt,(function(t,n,r){return t[r]=At(n,e,{}),t}),{})};Ft=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),Vt=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),zt=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Pt||ct.autoFetchSvg,n=At(Rt,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Ut=n.names,Bt=n.unicodes,jt=$t(ct.styleDefault)};function Kt(e,t){return(Ft[e]||{})[t]}function Gt(e,t){return(zt[e]||{})[t]}function Qt(e){return Ut[e]||{prefix:null,iconName:null}}function Yt(){return jt}!function(e){lt.push(e)}((function(e){jt=$t(e.styleDefault)})),Wt();function $t(e){var t=Ke[e]||Ke[We[e]],n=e in It.styles?e:null;return t||n||null}function Xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=Ht(ct.familyPrefix,t);if(Pt[t]?(t=Mt.includes(t)?Qe[t]:t,i=t,e.prefix=t):qt.indexOf(t)>-1?(i=t,e.prefix=$t(t)):n?e.iconName=n:t!==ct.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?Qt(e.iconName):{},o=Gt(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||Pt.far||!Pt.fas||ct.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=Yt()||"fas"),a}var Jt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=me(me({},e.definitions[t]||{}),i[t]),Lt(t,i[t]);var n=Ge[t];n&&Lt(n,i[t]),Wt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,u=o[2];e[i]||(e[i]={}),u.length>0&&u.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&ge(t.prototype,n),r&&ge(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Zt=[],en={},tn={},nn=Object.keys(tn);function rn(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=en[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function an(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=en[e]||[];i.forEach((function(e){e.apply(null,n)}))}function on(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return tn[e]?tn[e].apply(null,t):void 0}function un(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Yt();if(t)return t=Gt(n,t)||t,Nt(sn.definitions,n,t)||Nt(It.styles,n,t)}var sn=new Jt,cn={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Re?(an("beforeI2svg",e),on("pseudoElements2svg",e),on("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===ct.autoReplaceSvg&&(ct.autoReplaceSvg=!0),ct.observeMutations=!0,Tt((function(){hn({autoReplaceSvgRoot:t}),an("watch",e)}))}},ln={icon:function(e){if(null===e)return null;if("object"===ye(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Gt(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=$t(e[0]);return{prefix:n,iconName:Gt(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(ct.familyPrefix,"-"))>-1||e.match(Ye))){var r=Xt(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Yt(),iconName:Gt(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Yt();return{prefix:i,iconName:Gt(i,e)||e}}}},fn={noAuto:function(){ct.autoReplaceSvg=!1,ct.observeMutations=!1,an("noAuto")},config:ct,dom:cn,parse:ln,library:sn,findIconDefinition:un,toHtml:Ct},hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?De:t;(Object.keys(It.styles).length>0||ct.autoFetchSvg)&&Re&&ct.autoReplaceSvg&&fn.dom.i2svg({node:n})};function dn(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Ct(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Re){var t=De.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function pn(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,y="fak"===i,g=[ct.replacementClass,a?"".concat(ct.familyPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),k={children:[],attributes:me(me({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},b=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(k.attributes[Fe]=""),s&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(l||dt())},children:[s]}),delete k.attributes.title);var w=me(me({},k),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:me(me({},b),f.styles)}),x=r.found&&n.found?on("generateAbstractMask",w)||{children:[],attributes:{}}:on("generateAbstractIcon",w)||{children:[],attributes:{}},_=x.children,I=x.attributes;return w.children=_,w.attributes=I,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(ct.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:me(me({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(gt(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=yt(me(me({},a),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function vn(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,u=e.watchable,s=void 0!==u&&u,c=me(me(me({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(c[Fe]="");var l=me({},o.styles);gt(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,u=void 0!==o&&o,s="";return s+=u&&Me?"translate(".concat(t.x/ft-r/2,"em, ").concat(t.y/ft-a/2,"em) "):u?"translate(calc(-50% + ".concat(t.x/ft,"em), calc(-50% + ").concat(t.y/ft,"em)) "):"translate(".concat(t.x/ft,"em, ").concat(t.y/ft,"em) "),s+="scale(".concat(t.size/ft*(t.flipX?-1:1),", ").concat(t.size/ft*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=yt(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function mn(e){var t=e.content,n=e.title,r=e.extra,i=me(me(me({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=yt(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var yn=It.styles;function gn(e){var t=e[0],n=e[1],r=be(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(ct.familyPrefix,"-").concat(nt)},children:[{tag:"path",attributes:{class:"".concat(ct.familyPrefix,"-").concat(at),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ct.familyPrefix,"-").concat(it),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var kn={found:!1,width:512,height:512};function bn(e,t){var n=t;return"fa"===t&&null!==ct.styleDefault&&(t=Yt()),new Promise((function(r,i){on("missingIconAbstract");if("fa"===n){var a=Qt(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&yn[t]&&yn[t][e])return r(gn(yn[t][e]));!function(e,t){He||ct.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(me(me({},kn),{},{icon:ct.showMissingIcons&&e&&on("missingIconAbstract")||{}}))}))}var wn=function(){},xn=ct.measurePerformance&&Pe&&Pe.mark&&Pe.measure?Pe:{mark:wn,measure:wn},_n='FA "6.1.2"',In=function(e){xn.mark("".concat(_n," ").concat(e," ends")),xn.measure("".concat(_n," ").concat(e),"".concat(_n," ").concat(e," begins"),"".concat(_n," ").concat(e," ends"))},En=function(e){return xn.mark("".concat(_n," ").concat(e," begins")),function(){return In(e)}},Sn=function(){};function Tn(e){return"string"===typeof(e.getAttribute?e.getAttribute(Fe):null)}function Cn(e){return De.createElementNS("http://www.w3.org/2000/svg",e)}function Nn(e){return De.createElement(e)}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?Cn:Nn:n;if("string"===typeof e)return De.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(An(e,{ceFn:r}))})),i}var On={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(An(e),t)})),null===t.getAttribute(Fe)&&ct.keepOriginalSource){var n=De.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~vt(t).indexOf(ct.replacementClass))return On.replace(e);var r=new RegExp("".concat(ct.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===ct.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return Ct(e)})).join("\n");t.setAttribute(Fe,""),t.innerHTML=a}};function Dn(e){e()}function Ln(e,t){var n="function"===typeof t?t:Sn;if(0===e.length)n();else{var r=Dn;"async"===ct.mutateApproach&&(r=Oe.requestAnimationFrame||Dn),r((function(){var t=!0===ct.autoReplaceSvg?On.replace:On[ct.autoReplaceSvg]||On.replace,r=En("mutate");e.map(t),r(),n()}))}}var Pn=!1;function Rn(){Pn=!0}function Mn(){Pn=!1}var jn=null;function Fn(e){if(Le&&ct.observeMutations){var t=e.treeCallback,n=void 0===t?Sn:t,r=e.nodeCallback,i=void 0===r?Sn:r,a=e.pseudoElementsCallback,o=void 0===a?Sn:a,u=e.observeMutationsRoot,s=void 0===u?De:u;jn=new Le((function(e){if(!Pn){var t=Yt();pt(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Tn(e.addedNodes[0])&&(ct.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&ct.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&Tn(e.target)&&~tt.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Ue):null,n=e.getAttribute?e.getAttribute(Be):null;return t&&n}(e.target)){var r=Xt(vt(e.target)),a=r.prefix,u=r.iconName;e.target.setAttribute(Ue,a||t),u&&e.target.setAttribute(Be,u)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(ct.replacementClass)&&i(e.target);var s}))}})),Re&&jn.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Vn(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function Un(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Xt(vt(e));return i.prefix||(i.prefix=Yt()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Vt[e]||{})[t]}(i.prefix,e.innerText)||Kt(i.prefix,Ot(e.innerText))),!i.iconName&&ct.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Bn(e){var t=pt(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return ct.autoA11y&&(n?t["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(r||dt()):(t["aria-hidden"]="true",t.focusable="false")),t}function zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Un(e),r=n.iconName,i=n.prefix,a=n.rest,o=Bn(e),u=rn("parseNodeAttributes",{},e),s=t.styleParser?Vn(e):[];return me({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:ht,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},u)}var qn=It.styles;function Hn(e){var t="nest"===ct.autoReplaceSvg?zn(e,{styleParser:!1}):zn(e);return~t.extra.classes.indexOf($e)?on("generateLayersText",e,t):on("generateSvgReplacementMutation",e,t)}function Wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Re)return Promise.resolve();var n=De.documentElement.classList,r=function(e){return n.add("".concat(ze,"-").concat(e))},i=function(e){return n.remove("".concat(ze,"-").concat(e))},a=ct.autoFetchSvg?Object.keys(We):Object.keys(qn);a.includes("fa")||a.push("fa");var o=[".".concat($e,":not([").concat(Fe,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(Fe,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=pt(e.querySelectorAll(o))}catch(WF){}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var s=En("onTree"),c=u.reduce((function(e,t){try{var n=Hn(t);n&&e.push(n)}catch(WF){He||"MissingIcon"===WF.name&&console.error(WF)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){Ln(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),s(),e()}))})).catch((function(e){s(),n(e)}))}))}function Kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Hn(e).then((function(e){e&&Ln([e],t)}))}var Gn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ht:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,y=void 0===m?{}:m,g=t.styles,k=void 0===g?{}:g;if(e){var b=e.prefix,w=e.iconName,x=e.icon;return dn(me({type:"icon"},e),(function(){return an("beforeDOMElementCreation",{iconDefinition:e,params:t}),ct.autoA11y&&(f?y["aria-labelledby"]="".concat(ct.replacementClass,"-title-").concat(d||dt()):(y["aria-hidden"]="true",y.focusable="false")),pn({icons:{main:gn(x),mask:u?gn(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:me(me({},ht),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:k,classes:v}})}))}},Qn={mixout:function(){return{icon:(e=Gn,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:un(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:un(i||{})),e(r,me(me({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Wn,e.nodeCallback=Kn,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?De:t,r=e.callback;return Wn(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,u=t.symbol,s=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([bn(n,a),s.iconName?bn(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(s){var f=be(s,2),h=f[0],d=f[1];t([e,pn({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:u,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=yt(e.styles);return o.length>0&&(r.style=o),gt(a)&&(t=on("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Yn={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return dn({type:"layer"},(function(){an("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(ct.familyPrefix,"-layers")].concat(we(r)).join(" ")},children:n}]}))}}}},$n={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,u=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return dn({type:"counter",content:e},(function(){return an("beforeDOMElementCreation",{content:e,params:t}),mn({content:e.toString(),title:r,extra:{attributes:u,styles:c,classes:["".concat(ct.familyPrefix,"-layers-counter")].concat(we(a))}})}))}}}},Xn={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ht:n,i=t.title,a=void 0===i?null:i,o=t.classes,u=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,l=t.styles,f=void 0===l?{}:l;return dn({type:"text",content:e},(function(){return an("beforeDOMElementCreation",{content:e,params:t}),vn({content:e,transform:me(me({},ht),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(ct.familyPrefix,"-layers-text")].concat(we(u))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(Me){var u=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();a=s.width/u,o=s.height/u}return ct.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,vn({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},Jn=new RegExp('"',"ug"),Zn=[1105920,1112319];function er(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=pt(e.children).filter((function(e){return e.getAttribute(Ve)===t}))[0],o=Oe.getComputedStyle(e,t),u=o.getPropertyValue("font-family").match(Xe),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!u)return e.removeChild(a),r();if(u&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?Ke[u[2].toLowerCase()]:Je[s],h=function(e){var t=e.replace(Jn,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=Zn[0]&&n<=Zn[1],i=2===t.length&&t[0]===t[1];return{value:Ot(i?t[0]:t),isSecondary:r||i}}(l),d=h.value,p=h.isSecondary,v=u[0].startsWith("FontAwesome"),m=Kt(f,d),y=m;if(v){var g=function(e){var t=Bt[e],n=Kt("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);g.iconName&&g.prefix&&(m=g.iconName,f=g.prefix)}if(!m||p||a&&a.getAttribute(Ue)===f&&a.getAttribute(Be)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var k={iconName:null,title:null,titleId:null,prefix:null,transform:ht,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},b=k.extra;b.attributes[Ve]=t,bn(m,f).then((function(i){var a=pn(me(me({},k),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:y,extra:b,watchable:!0})),o=De.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return Ct(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function tr(e){return Promise.all([er(e,"::before"),er(e,"::after")])}function nr(e){return e.parentNode!==document.head&&!~qe.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Ve)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function rr(e){if(Re)return new Promise((function(t,n){var r=pt(e.querySelectorAll("*")).filter(nr).map(tr),i=En("searchPseudoElements");Rn(),Promise.all(r).then((function(){i(),Mn(),t()})).catch((function(){i(),Mn(),n()}))}))}var ir=!1,ar=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},or={mixout:function(){return{parse:{transform:function(e){return ar(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=ar(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(u," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:me({},c.outer),children:[{tag:"g",attributes:me({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:me(me({},t.icon.attributes),c.path)}]}]}}}},ur={x:0,y:0,width:"100%",height:"100%"};function sr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var cr={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Xt(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Yt()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:me(me({},ur),{},{fill:"white"})},p=c.children?{children:c.children.map(sr)}:{},v={tag:"g",attributes:me({},h.inner),children:[sr(me({tag:c.tag,attributes:me(me({},c.attributes),h.path)},p))]},m={tag:"g",attributes:me({},h.outer),children:[v]},y="mask-".concat(o||dt()),g="clip-".concat(o||dt()),k={tag:"mask",attributes:me(me({},ur),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:me({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},ur)}),{children:n,attributes:r}}}},lr={provides:function(e){var t=!1;Oe.matchMedia&&(t=Oe.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:me(me({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=me(me({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:me(me({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:me(me({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:me(me({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:me(me({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:me(me({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:me(me({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:me(me({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;Zt=e,en={},Object.keys(tn).forEach((function(e){-1===nn.indexOf(e)&&delete tn[e]})),Zt.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===ye(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){en[e]||(en[e]=[]),en[e].push(r[e])}))}e.provides&&e.provides(tn)}))}([xt,Qn,Yn,$n,Xn,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=rr,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?De:t;ct.searchPseudoElements&&rr(n)}}},{mixout:function(){return{dom:{unwatch:function(){Rn(),ir=!0}}}},hooks:function(){return{bootstrap:function(){Fn(rn("mutationObserverCallbacks",{}))},noAuto:function(){jn&&jn.disconnect()},watch:function(e){var t=e.observeMutationsRoot;ir?Mn():Fn(rn("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},or,cr,lr,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:fn});var fr=fn.parse,hr=fn.icon,dr=n(7),pr=n.n(dr);function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function br(e){return function(e){if(Array.isArray(e))return wr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xr(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var _r=["style"];function Ir(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=xr(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var Er=!1;try{Er=!0}catch(WF){}function Sr(e){return e&&"object"===yr(e)&&e.prefix&&e.iconName&&e.icon?e:fr.icon?fr.icon(e):null===e?null:e&&"object"===yr(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Tr(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?gr({},e,t):{}}var Cr=r.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,u=e.titleId,s=e.maskId,c=Sr(n),l=Tr("classes",[].concat(br(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,k=e.pull,b=(gr(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),gr(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),gr(t,"fa-pull-".concat(k),"undefined"!==typeof k&&null!==k),gr(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(e)),br(a.split(" ")))),f=Tr("transform","string"===typeof e.transform?fr.transform(e.transform):e.transform),h=Tr("mask",Sr(r)),d=hr(c,mr(mr(mr(mr({},l),f),h),{},{symbol:i,title:o,titleId:u,maskId:s}));if(!d)return function(){var e;!Er&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=d.abstract,v={ref:t};return Object.keys(e).forEach((function(t){Cr.defaultProps.hasOwnProperty(t)||(v[t]=e[t])})),Nr(p[0],v)}));Cr.displayName="FontAwesomeIcon",Cr.propTypes={beat:pr().bool,border:pr().bool,beatFade:pr().bool,bounce:pr().bool,className:pr().string,fade:pr().bool,flash:pr().bool,mask:pr().oneOfType([pr().object,pr().array,pr().string]),maskId:pr().string,fixedWidth:pr().bool,inverse:pr().bool,flip:pr().oneOf([!0,!1,"horizontal","vertical","both"]),icon:pr().oneOfType([pr().object,pr().array,pr().string]),listItem:pr().bool,pull:pr().oneOf(["right","left"]),pulse:pr().bool,rotation:pr().oneOf([0,90,180,270]),shake:pr().bool,size:pr().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:pr().bool,spinPulse:pr().bool,spinReverse:pr().bool,symbol:pr().oneOfType([pr().bool,pr().string]),title:pr().string,titleId:pr().string,transform:pr().oneOfType([pr().string,pr().object]),swapOpacity:pr().bool},Cr.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Nr=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=Ir(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[xr(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=kr(r,_r);return a.attrs.style=mr(mr({},a.attrs.style),u),t.apply(void 0,[n.tag,mr(mr({},a.attrs),s)].concat(br(i)))}.bind(null,r.createElement),Ar=n(448),Or=n.n(Ar),Dr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lr=r.createContext&&r.createContext(Dr),Pr=function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pr.apply(this,arguments)},Rr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Mr(e){return e&&e.map((function(e,t){return r.createElement(e.tag,Pr({key:t},e.attr),Mr(e.child))}))}function jr(e){return function(t){return r.createElement(Fr,Pr({attr:Pr({},e.attr)},t),Mr(e.child))}}function Fr(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,u=Rr(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Pr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:n,style:Pr(Pr({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==Lr?r.createElement(Lr.Consumer,null,(function(e){return t(e)})):t(Dr)}function Vr(e){return jr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}}]})(e)}function Ur(e){return jr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 5.146a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2z"}}]})(e)}function Br(e){return jr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"}}]})(e)}function zr(e){return jr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}}]})(e)}function qr(e){return jr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M14 11V2h1v9h-1zM6 3v10H5V3h1z"}},{tag:"path",attr:{d:"M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"}}]})(e)}function Hr(e){return jr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"}}]})(e)}function Wr(e){return jr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"}}]})(e)}function Kr(e){return jr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(e)}var Gr=n(184),Qr=[{title:"Ti\u1ebfng Vi\u1ec7t",icon:(0,Gr.jsx)(Cr,{icon:ae}),children:{title:"Language",data:[{title:"English",icon:"",children:{title:"Language1",data:[{title:"English",icon:""}]}},{title:"Ti\u1ebfng Vi\u1ec7t",icon:""}]}},{title:"Ph\u1ea3n h\u1ed3i v\xe0 tr\u1ee3 gi\xfap",icon:(0,Gr.jsx)(Cr,{icon:ne}),to:"/feedback"},{title:"Ph\xedm t\u1eaft tr\xean b\xe0n ph\xedm",icon:(0,Gr.jsx)(Cr,{icon:ce}),to:"/feedback"}],Yr=[{title:"Xem h\u1ed3 s\u01a1",icon:(0,Gr.jsx)(Cr,{icon:J})},{title:"Nh\u1eadn xu",icon:(0,Gr.jsx)(Cr,{icon:ie})},{title:"C\xe0i \u0111\u1eb7t",icon:(0,Gr.jsx)(Cr,{icon:ue})}].concat(Qr,[{title:"\u0110\u0103ng xu\u1ea5t",icon:(0,Gr.jsx)(Cr,{icon:Z}),borderTop:!0,signOut:!0}]);function $r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xr(e){return e instanceof $r(e).Element||e instanceof Element}function Jr(e){return e instanceof $r(e).HTMLElement||e instanceof HTMLElement}function Zr(e){return"undefined"!==typeof ShadowRoot&&(e instanceof $r(e).ShadowRoot||e instanceof ShadowRoot)}var ei=Math.max,ti=Math.min,ni=Math.round;function ri(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function ii(){return!/^((?!chrome|android).)*safari/i.test(ri())}function ai(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&Jr(e)&&(i=e.offsetWidth>0&&ni(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&ni(r.height)/e.offsetHeight||1);var o=(Xr(e)?$r(e):window).visualViewport,u=!ii()&&n,s=(r.left+(u&&o?o.offsetLeft:0))/i,c=(r.top+(u&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:s+l,bottom:c+f,left:s,x:s,y:c}}function oi(e){var t=$r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ui(e){return e?(e.nodeName||"").toLowerCase():null}function si(e){return((Xr(e)?e.ownerDocument:e.document)||window.document).documentElement}function ci(e){return ai(si(e)).left+oi(e).scrollLeft}function li(e){return $r(e).getComputedStyle(e)}function fi(e){var t=li(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function hi(e,t,n){void 0===n&&(n=!1);var r=Jr(t),i=Jr(t)&&function(e){var t=e.getBoundingClientRect(),n=ni(t.width)/e.offsetWidth||1,r=ni(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=si(t),o=ai(e,i,n),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==ui(t)||fi(a))&&(u=function(e){return e!==$r(e)&&Jr(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:oi(e);var t}(t)),Jr(t)?((s=ai(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=ci(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function di(e){var t=ai(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function pi(e){return"html"===ui(e)?e:e.assignedSlot||e.parentNode||(Zr(e)?e.host:null)||si(e)}function vi(e){return["html","body","#document"].indexOf(ui(e))>=0?e.ownerDocument.body:Jr(e)&&fi(e)?e:vi(pi(e))}function mi(e,t){var n;void 0===t&&(t=[]);var r=vi(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=$r(r),o=i?[a].concat(a.visualViewport||[],fi(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(mi(pi(o)))}function yi(e){return["table","td","th"].indexOf(ui(e))>=0}function gi(e){return Jr(e)&&"fixed"!==li(e).position?e.offsetParent:null}function ki(e){for(var t=$r(e),n=gi(e);n&&yi(n)&&"static"===li(n).position;)n=gi(n);return n&&("html"===ui(n)||"body"===ui(n)&&"static"===li(n).position)?t:n||function(e){var t=/firefox/i.test(ri());if(/Trident/i.test(ri())&&Jr(e)&&"fixed"===li(e).position)return null;var n=pi(e);for(Zr(n)&&(n=n.host);Jr(n)&&["html","body"].indexOf(ui(n))<0;){var r=li(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var bi="top",wi="bottom",xi="right",_i="left",Ii="auto",Ei=[bi,wi,xi,_i],Si="start",Ti="end",Ci="viewport",Ni="popper",Ai=Ei.reduce((function(e,t){return e.concat([t+"-"+Si,t+"-"+Ti])}),[]),Oi=[].concat(Ei,[Ii]).reduce((function(e,t){return e.concat([t,t+"-"+Si,t+"-"+Ti])}),[]),Di=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Li(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Pi(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Ri={placement:"bottom",modifiers:[],strategy:"absolute"};function Mi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function ji(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Ri:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ri,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:Xr(e)?mi(e):e.contextElement?mi(e.contextElement):[],popper:mi(t)};var l=function(e){var t=Li(e);return Di.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(Mi(t,n)){i.rects={reference:hi(t,ki(n),"fixed"===i.options.strategy),popper:di(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:Pi((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!Mi(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var Fi={passive:!0};var Vi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=$r(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Fi)})),u&&s.addEventListener("resize",n.update,Fi),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Fi)})),u&&s.removeEventListener("resize",n.update,Fi)}},data:{}};function Ui(e){return e.split("-")[0]}function Bi(e){return e.split("-")[1]}function zi(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function qi(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?Ui(i):null,o=i?Bi(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case bi:t={x:u,y:n.y-r.height};break;case wi:t={x:u,y:n.y+n.height};break;case xi:t={x:n.x+n.width,y:s};break;case _i:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?zi(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case Si:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Ti:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var Hi={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=qi({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Wi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ki(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=_i,b=bi,w=window;if(c){var x=ki(n),_="clientHeight",I="clientWidth";if(x===$r(n)&&"static"!==li(x=si(n)).position&&"absolute"===u&&(_="scrollHeight",I="scrollWidth"),i===bi||(i===_i||i===xi)&&a===Ti)b=wi,v-=(f&&x===w&&w.visualViewport?w.visualViewport.height:x[_])-r.height,v*=s?1:-1;if(i===_i||(i===bi||i===wi)&&a===Ti)k=xi,d-=(f&&x===w&&w.visualViewport?w.visualViewport.width:x[I])-r.width,d*=s?1:-1}var E,S=Object.assign({position:u},c&&Wi),T=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:ni(t*r)/r||0,y:ni(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=T.x,v=T.y,s?Object.assign({},S,((E={})[b]=g?"0":"",E[k]=y?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",E)):Object.assign({},S,((t={})[b]=g?v+"px":"",t[k]=y?d+"px":"",t.transform="",t))}var Gi={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Jr(i)&&ui(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Jr(r)&&ui(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var Qi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Oi.reduce((function(e,n){return e[n]=function(e,t,n){var r=Ui(e),i=[_i,bi].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[_i,xi].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},Yi={left:"right",right:"left",bottom:"top",top:"bottom"};function $i(e){return e.replace(/left|right|bottom|top/g,(function(e){return Yi[e]}))}var Xi={start:"end",end:"start"};function Ji(e){return e.replace(/start|end/g,(function(e){return Xi[e]}))}function Zi(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Zr(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ea(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ta(e,t,n){return t===Ci?ea(function(e,t){var n=$r(e),r=si(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,u=0,s=0;if(i){a=i.width,o=i.height;var c=ii();(c||!c&&"fixed"===t)&&(u=i.offsetLeft,s=i.offsetTop)}return{width:a,height:o,x:u+ci(e),y:s}}(e,n)):Xr(t)?function(e,t){var n=ai(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ea(function(e){var t,n=si(e),r=oi(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=ei(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ei(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+ci(e),s=-r.scrollTop;return"rtl"===li(i||n).direction&&(u+=ei(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(si(e)))}function na(e,t,n,r){var i="clippingParents"===t?function(e){var t=mi(pi(e)),n=["absolute","fixed"].indexOf(li(e).position)>=0&&Jr(e)?ki(e):e;return Xr(n)?t.filter((function(e){return Xr(e)&&Zi(e,n)&&"body"!==ui(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],u=a.reduce((function(t,n){var i=ta(e,n,r);return t.top=ei(i.top,t.top),t.right=ti(i.right,t.right),t.bottom=ti(i.bottom,t.bottom),t.left=ei(i.left,t.left),t}),ta(e,o,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function ra(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ia(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function aa(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,u=n.boundary,s=void 0===u?"clippingParents":u,c=n.rootBoundary,l=void 0===c?Ci:c,f=n.elementContext,h=void 0===f?Ni:f,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,y=ra("number"!==typeof m?m:ia(m,Ei)),g=h===Ni?"reference":Ni,k=e.rects.popper,b=e.elements[p?g:h],w=na(Xr(b)?b:b.contextElement||si(e.elements.popper),s,l,o),x=ai(e.elements.reference),_=qi({reference:x,element:k,strategy:"absolute",placement:i}),I=ea(Object.assign({},k,_)),E=h===Ni?I:x,S={top:w.top-E.top+y.top,bottom:E.bottom-w.bottom+y.bottom,left:w.left-E.left+y.left,right:E.right-w.right+y.right},T=e.modifiersData.offset;if(h===Ni&&T){var C=T[i];Object.keys(S).forEach((function(e){var t=[xi,wi].indexOf(e)>=0?1:-1,n=[bi,wi].indexOf(e)>=0?"y":"x";S[e]+=C[n]*t}))}return S}var oa={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=Ui(m),g=s||(y===m||!p?[$i(m)]:function(e){if(Ui(e)===Ii)return[];var t=$i(e);return[Ji(e),t,Ji(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(Ui(n)===Ii?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?Oi:s,l=Bi(r),f=l?u?Ai:Ai.filter((function(e){return Bi(e)===l})):Ei,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=aa(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Ui(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,_=!0,I=k[0],E=0;E<k.length;E++){var S=k[E],T=Ui(S),C=Bi(S)===Si,N=[bi,wi].indexOf(T)>=0,A=N?"width":"height",O=aa(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),D=N?C?xi:_i:C?wi:bi;b[A]>w[A]&&(D=$i(D));var L=$i(D),P=[];if(a&&P.push(O[T]<=0),u&&P.push(O[D]<=0,O[L]<=0),P.every((function(e){return e}))){I=S,_=!1;break}x.set(S,P)}if(_)for(var R=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return I=t,"break"},M=p?3:1;M>0;M--){if("break"===R(M))break}t.placement!==I&&(t.modifiersData[r]._skip=!0,t.placement=I,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ua(e,t,n){return ei(e,ti(t,n))}var sa={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=aa(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=Ui(t.placement),g=Bi(t.placement),k=!g,b=zi(y),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,_=t.rects.reference,I=t.rects.popper,E="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,A="y"===b?bi:_i,O="y"===b?wi:xi,D="y"===b?"height":"width",L=x[b],P=L+m[A],R=L-m[O],M=d?-I[D]/2:0,j=g===Si?_[D]:I[D],F=g===Si?-I[D]:-_[D],V=t.elements.arrow,U=d&&V?di(V):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[A],q=B[O],H=ua(0,_[D],U[D]),W=k?_[D]/2-M-H-z-S.mainAxis:j-H-z-S.mainAxis,K=k?-_[D]/2+M+H+q+S.mainAxis:F+H+q+S.mainAxis,G=t.elements.arrow&&ki(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,Y=null!=(N=null==T?void 0:T[b])?N:0,$=L+K-Y,X=ua(d?ti(P,L+W-Y-Q):P,L,d?ei(R,$):R);x[b]=X,C[b]=X-L}if(u){var J,Z="x"===b?bi:_i,ee="x"===b?wi:xi,te=x[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[bi,_i].indexOf(y),oe=null!=(J=null==T?void 0:T[w])?J:0,ue=ae?re:te-_[ne]-I[ne]-oe+S.altAxis,se=ae?te+_[ne]+I[ne]-oe-S.altAxis:ie,ce=d&&ae?function(e,t,n){var r=ua(e,t,n);return r>n?n:r}(ue,te,se):ua(d?ue:re,te,d?se:ie);x[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};var ca={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=Ui(n.placement),s=zi(u),c=[_i,xi].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return ra("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ia(e,Ei))}(i.padding,n),f=di(a),h="y"===s?bi:_i,d="y"===s?wi:xi,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=ki(a),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,x=ua(k,w,b),_=s;n.modifiersData[r]=((t={})[_]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Zi(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function la(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function fa(e){return[bi,xi,wi,_i].some((function(t){return e[t]>=0}))}var ha={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=aa(t,{elementContext:"reference"}),u=aa(t,{altBoundary:!0}),s=la(o,r),c=la(u,i,a),l=fa(s),f=fa(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},da=ji({defaultModifiers:[Vi,Hi,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:Ui(t.placement),variation:Bi(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ki(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ki(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Gi,Qi,oa,sa,ca,ha]}),pa="tippy-content",va="tippy-backdrop",ma="tippy-arrow",ya="tippy-svg-arrow",ga={passive:!0,capture:!0},ka=function(){return document.body};function ba(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function wa(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function xa(e,t){return"function"===typeof e?e.apply(void 0,t):e}function _a(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function Ia(e){return[].concat(e)}function Ea(e,t){-1===e.indexOf(t)&&e.push(t)}function Sa(e){return e.split("-")[0]}function Ta(e){return[].slice.call(e)}function Ca(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function Na(){return document.createElement("div")}function Aa(e){return["Element","Fragment"].some((function(t){return wa(e,t)}))}function Oa(e){return wa(e,"MouseEvent")}function Da(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function La(e){return Aa(e)?[e]:function(e){return wa(e,"NodeList")}(e)?Ta(e):Array.isArray(e)?e:Ta(document.querySelectorAll(e))}function Pa(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Ra(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Ma(e){var t,n=Ia(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function ja(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function Fa(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var Va={isTouch:!1},Ua=0;function Ba(){Va.isTouch||(Va.isTouch=!0,window.performance&&document.addEventListener("mousemove",za))}function za(){var e=performance.now();e-Ua<20&&(Va.isTouch=!1,document.removeEventListener("mousemove",za)),Ua=e}function qa(){var e=document.activeElement;if(Da(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Ha=!!("undefined"!==typeof window&&"undefined"!==typeof document)&&!!window.msCrypto;var Wa={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ka=Object.assign({appendTo:ka,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Wa,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Ga=Object.keys(Ka);function Qa(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,a=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=Ka[i])?r:a);return t}),{});return Object.assign({},e,t)}function Ya(e,t){var n=Object.assign({},t,{content:xa(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Qa(Object.assign({},Ka,{plugins:t}))):Ga).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(WF){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Ka.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function $a(e,t){e.innerHTML=t}function Xa(e){var t=Na();return!0===e?t.className=ma:(t.className=ya,Aa(e)?t.appendChild(e):$a(t,e)),t}function Ja(e,t){Aa(t.content)?($a(e,""),e.appendChild(t.content)):"function"!==typeof t.content&&(t.allowHTML?$a(e,t.content):e.textContent=t.content)}function Za(e){var t=e.firstElementChild,n=Ta(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(pa)})),arrow:n.find((function(e){return e.classList.contains(ma)||e.classList.contains(ya)})),backdrop:n.find((function(e){return e.classList.contains(va)}))}}function eo(e){var t=Na(),n=Na();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Na();function i(n,r){var i=Za(t),a=i.box,o=i.content,u=i.arrow;r.theme?a.setAttribute("data-theme",r.theme):a.removeAttribute("data-theme"),"string"===typeof r.animation?a.setAttribute("data-animation",r.animation):a.removeAttribute("data-animation"),r.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"===typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?a.setAttribute("role",r.role):a.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Ja(o,e.props),r.arrow?u?n.arrow!==r.arrow&&(a.removeChild(u),a.appendChild(Xa(r.arrow))):a.appendChild(Xa(r.arrow)):u&&a.removeChild(u)}return r.className=pa,r.setAttribute("data-state","hidden"),Ja(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}eo.$$tippy=!0;var to=1,no=[],ro=[];function io(e,t){var n,r,i,a,o,u,s,c,l=Ya(e,Object.assign({},Ka,Qa(Ca(t)))),f=!1,h=!1,d=!1,p=!1,v=[],m=_a(G,l.interactiveDebounce),y=to++,g=(c=l.plugins).filter((function(e,t){return c.indexOf(e)===t})),k={id:y,reference:e,popper:Na(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:g,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){0;if(k.state.isDestroyed)return;L("onBeforeUpdate",[k,t]),W();var n=k.props,r=Ya(e,Object.assign({},n,Ca(t),{ignoreAttributes:!0}));k.props=r,H(),n.interactiveDebounce!==r.interactiveDebounce&&(M(),m=_a(G,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Ia(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");R(),D(),x&&x(n,r);k.popperInstance&&(X(),Z().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));L("onAfterUpdate",[k,t])},setContent:function(e){k.setProps({content:e})},show:function(){0;var e=k.state.isVisible,t=k.state.isDestroyed,n=!k.state.isEnabled,r=Va.isTouch&&!k.props.touch,i=ba(k.props.duration,0,Ka.duration);if(e||t||n||r)return;if(C().hasAttribute("disabled"))return;if(L("onShow",[k],!1),!1===k.props.onShow(k))return;k.state.isVisible=!0,T()&&(w.style.visibility="visible");D(),U(),k.state.isMounted||(w.style.transition="none");if(T()){var a=A(),o=a.box,s=a.content;Pa([o,s],0)}u=function(){var e;if(k.state.isVisible&&!p){if(p=!0,w.offsetHeight,w.style.transition=k.props.moveTransition,T()&&k.props.animation){var t=A(),n=t.box,r=t.content;Pa([n,r],i),Ra([n,r],"visible")}P(),R(),Ea(ro,k),null==(e=k.popperInstance)||e.forceUpdate(),L("onMount",[k]),k.props.animation&&T()&&function(e,t){z(e,t)}(i,(function(){k.state.isShown=!0,L("onShown",[k])}))}},function(){var e,t=k.props.appendTo,n=C();e=k.props.interactive&&t===ka||"parent"===t?n.parentNode:xa(t,[n]);e.contains(w)||e.appendChild(w);k.state.isMounted=!0,X(),!1}()},hide:function(){0;var e=!k.state.isVisible,t=k.state.isDestroyed,n=!k.state.isEnabled,r=ba(k.props.duration,1,Ka.duration);if(e||t||n)return;if(L("onHide",[k],!1),!1===k.props.onHide(k))return;k.state.isVisible=!1,k.state.isShown=!1,p=!1,f=!1,T()&&(w.style.visibility="hidden");if(M(),B(),D(!0),T()){var i=A(),a=i.box,o=i.content;k.props.animation&&(Pa([a,o],r),Ra([a,o],"hidden"))}P(),R(),k.props.animation?T()&&function(e,t){z(e,(function(){!k.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(r,k.unmount):k.unmount()},hideWithInteractivity:function(e){0;N().addEventListener("mousemove",m),Ea(no,m),m(e)},enable:function(){k.state.isEnabled=!0},disable:function(){k.hide(),k.state.isEnabled=!1},unmount:function(){0;k.state.isVisible&&k.hide();if(!k.state.isMounted)return;J(),Z().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w);ro=ro.filter((function(e){return e!==k})),k.state.isMounted=!1,L("onHidden",[k])},destroy:function(){0;if(k.state.isDestroyed)return;k.clearDelayTimeouts(),k.unmount(),W(),delete e._tippy,k.state.isDestroyed=!0,L("onDestroy",[k])}};if(!l.render)return k;var b=l.render(k),w=b.popper,x=b.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+k.id,k.popper=w,e._tippy=k,w._tippy=k;var _=g.map((function(e){return e.fn(k)})),I=e.hasAttribute("aria-expanded");return H(),R(),D(),L("onCreate",[k]),l.showOnCreate&&ee(),w.addEventListener("mouseenter",(function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&N().addEventListener("mousemove",m)})),k;function E(){var e=k.props.touch;return Array.isArray(e)?e:[e,0]}function S(){return"hold"===E()[0]}function T(){var e;return!(null==(e=k.props.render)||!e.$$tippy)}function C(){return s||e}function N(){var e=C().parentNode;return e?Ma(e):document}function A(){return Za(w)}function O(e){return k.state.isMounted&&!k.state.isVisible||Va.isTouch||a&&"focus"===a.type?0:ba(k.props.delay,e?0:1,Ka.delay)}function D(e){void 0===e&&(e=!1),w.style.pointerEvents=k.props.interactive&&!e?"":"none",w.style.zIndex=""+k.props.zIndex}function L(e,t,n){var r;(void 0===n&&(n=!0),_.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=k.props)[e].apply(r,t)}function P(){var t=k.props.aria;if(t.content){var n="aria-"+t.content,r=w.id;Ia(k.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(k.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function R(){!I&&k.props.aria.expanded&&Ia(k.props.triggerTarget||e).forEach((function(e){k.props.interactive?e.setAttribute("aria-expanded",k.state.isVisible&&e===C()?"true":"false"):e.removeAttribute("aria-expanded")}))}function M(){N().removeEventListener("mousemove",m),no=no.filter((function(e){return e!==m}))}function j(t){if(!Va.isTouch||!d&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!k.props.interactive||!Fa(w,n)){if(Ia(k.props.triggerTarget||e).some((function(e){return Fa(e,n)}))){if(Va.isTouch)return;if(k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[k,t]);!0===k.props.hideOnClick&&(k.clearDelayTimeouts(),k.hide(),h=!0,setTimeout((function(){h=!1})),k.state.isMounted||B())}}}function F(){d=!0}function V(){d=!1}function U(){var e=N();e.addEventListener("mousedown",j,!0),e.addEventListener("touchend",j,ga),e.addEventListener("touchstart",V,ga),e.addEventListener("touchmove",F,ga)}function B(){var e=N();e.removeEventListener("mousedown",j,!0),e.removeEventListener("touchend",j,ga),e.removeEventListener("touchstart",V,ga),e.removeEventListener("touchmove",F,ga)}function z(e,t){var n=A().box;function r(e){e.target===n&&(ja(n,"remove",r),t())}if(0===e)return t();ja(n,"remove",o),ja(n,"add",r),o=r}function q(t,n,r){void 0===r&&(r=!1),Ia(k.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),v.push({node:e,eventType:t,handler:n,options:r})}))}function H(){var e;S()&&(q("touchstart",K,{passive:!0}),q("touchend",Q,{passive:!0})),(e=k.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(q(e,K),e){case"mouseenter":q("mouseleave",Q);break;case"focus":q(Ha?"focusout":"blur",Y);break;case"focusin":q("focusout",Y)}}))}function W(){v.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),v=[]}function K(e){var t,n=!1;if(k.state.isEnabled&&!$(e)&&!h){var r="focus"===(null==(t=a)?void 0:t.type);a=e,s=e.currentTarget,R(),!k.state.isVisible&&Oa(e)&&no.forEach((function(t){return t(e)})),"click"===e.type&&(k.props.trigger.indexOf("mouseenter")<0||f)&&!1!==k.props.hideOnClick&&k.state.isVisible?n=!0:ee(e),"click"===e.type&&(f=!n),n&&!r&&te(e)}}function G(e){var t=e.target,n=C().contains(t)||w.contains(t);if("mousemove"!==e.type||!n){var r=Z().concat(w).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:l}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,a=e.props.interactiveBorder,o=Sa(i.placement),u=i.modifiersData.offset;if(!u)return!0;var s="bottom"===o?u.top.y:0,c="top"===o?u.bottom.y:0,l="right"===o?u.left.x:0,f="left"===o?u.right.x:0,h=t.top-r+s>a,d=r-t.bottom-c>a,p=t.left-n+l>a,v=n-t.right-f>a;return h||d||p||v}))})(r,e)&&(M(),te(e))}}function Q(e){$(e)||k.props.trigger.indexOf("click")>=0&&f||(k.props.interactive?k.hideWithInteractivity(e):te(e))}function Y(e){k.props.trigger.indexOf("focusin")<0&&e.target!==C()||k.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||te(e)}function $(e){return!!Va.isTouch&&S()!==e.type.indexOf("touch")>=0}function X(){J();var t=k.props,n=t.popperOptions,r=t.placement,i=t.offset,a=t.getReferenceClientRect,o=t.moveTransition,s=T()?Za(w).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||C()}:e,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(T()){var n=A().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},f=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!o}},l];T()&&s&&f.push({name:"arrow",options:{element:s,padding:3}}),f.push.apply(f,(null==n?void 0:n.modifiers)||[]),k.popperInstance=da(c,w,Object.assign({},n,{placement:r,onFirstUpdate:u,modifiers:f}))}function J(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}function Z(){return Ta(w.querySelectorAll("[data-tippy-root]"))}function ee(e){k.clearDelayTimeouts(),e&&L("onTrigger",[k,e]),U();var t=O(!0),r=E(),i=r[0],a=r[1];Va.isTouch&&"hold"===i&&a&&(t=a),t?n=setTimeout((function(){k.show()}),t):k.show()}function te(e){if(k.clearDelayTimeouts(),L("onUntrigger",[k,e]),k.state.isVisible){if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&f)){var t=O(!1);t?r=setTimeout((function(){k.state.isVisible&&k.hide()}),t):i=requestAnimationFrame((function(){k.hide()}))}}else B()}}function ao(e,t){void 0===t&&(t={});var n=Ka.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",Ba,ga),window.addEventListener("blur",qa);var r=Object.assign({},t,{plugins:n}),i=La(e).reduce((function(e,t){var n=t&&io(t,r);return n&&e.push(n),e}),[]);return Aa(e)?i[0]:i}ao.defaultProps=Ka,ao.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Ka[t]=e[t]}))},ao.currentInput=Va;Object.assign({},Gi,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});ao.setDefaultProps({render:eo});var oo=ao,uo=n(164);function so(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var co="undefined"!==typeof window&&"undefined"!==typeof document;function lo(e,t){e&&("function"===typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function fo(){return co&&document.createElement("div")}function ho(e,t){if(e===t)return!0;if("object"===typeof e&&null!=e&&"object"===typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!ho(e[n],t[n]))return!1}return!0}return!1}function po(e){var t=[];return e.forEach((function(e){t.find((function(t){return ho(e,t)}))||t.push(e)})),t}function vo(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:po([].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(r=t.popperOptions)?void 0:r.modifiers)||[]))})})}var mo=co?r.useLayoutEffect:r.useEffect;function yo(e){var t=(0,r.useRef)();return t.current||(t.current="function"===typeof e?e():e),t.current}function go(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var ko={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){e.props.className&&!n()||go(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&go(t,"remove",e.props.className)},onAfterUpdate:r}}};function bo(e){return function(t){var n=t.children,i=t.content,a=t.visible,o=t.singleton,u=t.render,s=t.reference,c=t.disabled,l=void 0!==c&&c,f=t.ignoreAttributes,h=void 0===f||f,d=(t.__source,t.__self,so(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),p=void 0!==a,v=void 0!==o,m=(0,r.useState)(!1),y=m[0],g=m[1],k=(0,r.useState)({}),b=k[0],w=k[1],x=(0,r.useState)(),_=x[0],I=x[1],E=yo((function(){return{container:fo(),renders:1}})),S=Object.assign({ignoreAttributes:h},d,{content:E.container});p&&(S.trigger="manual",S.hideOnClick=!1),v&&(l=!0);var T=S,C=S.plugins||[];u&&(T=Object.assign({},S,{plugins:v&&null!=o.data?[].concat(C,[{fn:function(){return{onTrigger:function(e,t){var n=o.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=n.instance,I(n.content)}}}}]):C,render:function(){return{popper:E.container}}}));var N=[s].concat(n?[n.type]:[]);return mo((function(){var t=s;s&&s.hasOwnProperty("current")&&(t=s.current);var n=e(t||E.ref||fo(),Object.assign({},T,{plugins:[ko].concat(S.plugins||[])}));return E.instance=n,l&&n.disable(),a&&n.show(),v&&o.hook({instance:n,content:i,props:T,setSingletonContent:I}),g(!0),function(){n.destroy(),null==o||o.cleanup(n)}}),N),mo((function(){var e;if(1!==E.renders){var t=E.instance;t.setProps(vo(t.props,T)),null==(e=t.popperInstance)||e.forceUpdate(),l?t.disable():t.enable(),p&&(a?t.show():t.hide()),v&&o.hook({instance:t,content:i,props:T,setSingletonContent:I})}else E.renders++})),mo((function(){var e;if(u){var t=E.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;b.placement===n.placement&&b.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&b.escaped===(null==r?void 0:r.hasPopperEscaped)||w({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}}),[b.placement,b.referenceHidden,b.escaped].concat(N)),r.createElement(r.Fragment,null,n?(0,r.cloneElement)(n,{ref:function(e){E.ref=e,lo(n.ref,e)}}):null,y&&(0,uo.createPortal)(u?u(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(b),_,E.instance):i,E.container))}}var wo=function(e,t){return(0,r.forwardRef)((function(n,i){var a=n.children,o=so(n,["children"]);return r.createElement(e,Object.assign({},t,o),a?(0,r.cloneElement)(a,{ref:function(e){lo(i,e),lo(a.ref,e)}}):null)}))},xo=wo(bo(oo)),_o={logo:n(136).Z,tiktokIcon:n(582).Z};function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function To(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Co(e){return function(e){if(Array.isArray(e))return o(e)}(e)||To(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var No={btn:"Button_btn__fa47f",icon:"Button_icon__EasRj",smallIcon:"Button_smallIcon__eolev",small:"Button_small__JA9ow",large:"Button_large__VjU8p",fitContentBtn:"Button_fitContentBtn__uiybT",primary:"Button_primary__K95NY",followBtn:"Button_followBtn__ufG+C",followedBtn:"Button_followedBtn__1-7GS",active:"Button_active__C4d2s",borderTop:"Button_borderTop__H-GMS",borderRadius:"Button_borderRadius__rH9eg"},Ao=Or().bind(No);var Oo=function(e){var t=e.children,n=e.data,r=e.iconLeft,i=e.iconRight,a=e.primary,o=e.active,u=e.smallBtn,s=e.largeBtn,c=e.fitContentBtn,l=e.followBtn,f=e.followedBtn,h=e.smallIcon,d=e.borderTop,p=e.borderRadius,v=e.onClick,m=e.to,y=e.href,g=e.gap,k=void 0===g?0:g,b=e.justifyContent,w=void 0===b?"center":b,x="button",_={};y&&(x="a",_.href=y),m&&(x=$,_.to=m),v&&(_.onClick=function(){return v(n)});var I=Ao(No.btn,s&&"large",u&&"small",c&&"fitContentBtn",a&&"primary",d&&"borderTop",p&&"borderRadius",o&&"active",l&&"followBtn",f&&"followedBtn");return(0,Gr.jsxs)(x,So(So({},_),{},{className:I,style:{gap:"".concat(k,"px"),justifyContent:"".concat(w)},children:[r&&(0,Gr.jsx)("span",{className:Ao(No.icon,h&&No.smallIcon),children:r}),t,i&&(0,Gr.jsx)("span",{className:Ao(No.icon,h&&No.smallIcon),children:i})]}))},Do={body:"Menu_body__c5ZSC",content:"Menu_content__bSrYt"},Lo="tippy-backdrop",Po={passive:!0,capture:!0},Ro=function(){return document.body};function Mo(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function jo(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function Fo(e,t){return"function"===typeof e?e.apply(void 0,t):e}function Vo(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function Uo(e){return[].concat(e)}function Bo(e,t){-1===e.indexOf(t)&&e.push(t)}function zo(e){return e.split("-")[0]}function qo(e){return[].slice.call(e)}function Ho(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function Wo(){return document.createElement("div")}function Ko(e){return["Element","Fragment"].some((function(t){return jo(e,t)}))}function Go(e){return jo(e,"MouseEvent")}function Qo(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function Yo(e){return Ko(e)?[e]:function(e){return jo(e,"NodeList")}(e)?qo(e):Array.isArray(e)?e:qo(document.querySelectorAll(e))}function $o(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Xo(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Jo(e){var t,n=Uo(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function Zo(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function eu(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var tu={isTouch:!1},nu=0;function ru(){tu.isTouch||(tu.isTouch=!0,window.performance&&document.addEventListener("mousemove",iu))}function iu(){var e=performance.now();e-nu<20&&(tu.isTouch=!1,document.removeEventListener("mousemove",iu)),nu=e}function au(){var e=document.activeElement;if(Qo(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var ou=!!("undefined"!==typeof window&&"undefined"!==typeof document)&&!!window.msCrypto;var uu={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},su=Object.assign({appendTo:Ro,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},uu,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),cu=Object.keys(su);function lu(e){var t=(e.plugins||[]).reduce((function(t,n){var r,i=n.name,a=n.defaultValue;i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=su[i])?r:a);return t}),{});return Object.assign({},e,t)}function fu(e,t){var n=Object.assign({},t,{content:Fo(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(lu(Object.assign({},su,{plugins:t}))):cu).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(WF){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},su.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function hu(e){var t=e.firstElementChild,n=qo(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains(Lo)}))}}var du=1,pu=[],vu=[];function mu(e,t){var n,r,i,a,o,u,s,c,l=fu(e,Object.assign({},su,lu(Ho(t)))),f=!1,h=!1,d=!1,p=!1,v=[],m=Vo(G,l.interactiveDebounce),y=du++,g=(c=l.plugins).filter((function(e,t){return c.indexOf(e)===t})),k={id:y,reference:e,popper:Wo(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:g,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){0;if(k.state.isDestroyed)return;L("onBeforeUpdate",[k,t]),W();var n=k.props,r=fu(e,Object.assign({},n,Ho(t),{ignoreAttributes:!0}));k.props=r,H(),n.interactiveDebounce!==r.interactiveDebounce&&(M(),m=Vo(G,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Uo(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");R(),D(),x&&x(n,r);k.popperInstance&&(X(),Z().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));L("onAfterUpdate",[k,t])},setContent:function(e){k.setProps({content:e})},show:function(){0;var e=k.state.isVisible,t=k.state.isDestroyed,n=!k.state.isEnabled,r=tu.isTouch&&!k.props.touch,i=Mo(k.props.duration,0,su.duration);if(e||t||n||r)return;if(C().hasAttribute("disabled"))return;if(L("onShow",[k],!1),!1===k.props.onShow(k))return;k.state.isVisible=!0,T()&&(w.style.visibility="visible");D(),U(),k.state.isMounted||(w.style.transition="none");if(T()){var a=A(),o=a.box,s=a.content;$o([o,s],0)}u=function(){var e;if(k.state.isVisible&&!p){if(p=!0,w.offsetHeight,w.style.transition=k.props.moveTransition,T()&&k.props.animation){var t=A(),n=t.box,r=t.content;$o([n,r],i),Xo([n,r],"visible")}P(),R(),Bo(vu,k),null==(e=k.popperInstance)||e.forceUpdate(),L("onMount",[k]),k.props.animation&&T()&&function(e,t){z(e,t)}(i,(function(){k.state.isShown=!0,L("onShown",[k])}))}},function(){var e,t=k.props.appendTo,n=C();e=k.props.interactive&&t===Ro||"parent"===t?n.parentNode:Fo(t,[n]);e.contains(w)||e.appendChild(w);k.state.isMounted=!0,X(),!1}()},hide:function(){0;var e=!k.state.isVisible,t=k.state.isDestroyed,n=!k.state.isEnabled,r=Mo(k.props.duration,1,su.duration);if(e||t||n)return;if(L("onHide",[k],!1),!1===k.props.onHide(k))return;k.state.isVisible=!1,k.state.isShown=!1,p=!1,f=!1,T()&&(w.style.visibility="hidden");if(M(),B(),D(!0),T()){var i=A(),a=i.box,o=i.content;k.props.animation&&($o([a,o],r),Xo([a,o],"hidden"))}P(),R(),k.props.animation?T()&&function(e,t){z(e,(function(){!k.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(r,k.unmount):k.unmount()},hideWithInteractivity:function(e){0;N().addEventListener("mousemove",m),Bo(pu,m),m(e)},enable:function(){k.state.isEnabled=!0},disable:function(){k.hide(),k.state.isEnabled=!1},unmount:function(){0;k.state.isVisible&&k.hide();if(!k.state.isMounted)return;J(),Z().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w);vu=vu.filter((function(e){return e!==k})),k.state.isMounted=!1,L("onHidden",[k])},destroy:function(){0;if(k.state.isDestroyed)return;k.clearDelayTimeouts(),k.unmount(),W(),delete e._tippy,k.state.isDestroyed=!0,L("onDestroy",[k])}};if(!l.render)return k;var b=l.render(k),w=b.popper,x=b.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+k.id,k.popper=w,e._tippy=k,w._tippy=k;var _=g.map((function(e){return e.fn(k)})),I=e.hasAttribute("aria-expanded");return H(),R(),D(),L("onCreate",[k]),l.showOnCreate&&ee(),w.addEventListener("mouseenter",(function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&N().addEventListener("mousemove",m)})),k;function E(){var e=k.props.touch;return Array.isArray(e)?e:[e,0]}function S(){return"hold"===E()[0]}function T(){var e;return!(null==(e=k.props.render)||!e.$$tippy)}function C(){return s||e}function N(){var e=C().parentNode;return e?Jo(e):document}function A(){return hu(w)}function O(e){return k.state.isMounted&&!k.state.isVisible||tu.isTouch||a&&"focus"===a.type?0:Mo(k.props.delay,e?0:1,su.delay)}function D(e){void 0===e&&(e=!1),w.style.pointerEvents=k.props.interactive&&!e?"":"none",w.style.zIndex=""+k.props.zIndex}function L(e,t,n){var r;(void 0===n&&(n=!0),_.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=k.props)[e].apply(r,t)}function P(){var t=k.props.aria;if(t.content){var n="aria-"+t.content,r=w.id;Uo(k.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(k.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function R(){!I&&k.props.aria.expanded&&Uo(k.props.triggerTarget||e).forEach((function(e){k.props.interactive?e.setAttribute("aria-expanded",k.state.isVisible&&e===C()?"true":"false"):e.removeAttribute("aria-expanded")}))}function M(){N().removeEventListener("mousemove",m),pu=pu.filter((function(e){return e!==m}))}function j(t){if(!tu.isTouch||!d&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!k.props.interactive||!eu(w,n)){if(Uo(k.props.triggerTarget||e).some((function(e){return eu(e,n)}))){if(tu.isTouch)return;if(k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[k,t]);!0===k.props.hideOnClick&&(k.clearDelayTimeouts(),k.hide(),h=!0,setTimeout((function(){h=!1})),k.state.isMounted||B())}}}function F(){d=!0}function V(){d=!1}function U(){var e=N();e.addEventListener("mousedown",j,!0),e.addEventListener("touchend",j,Po),e.addEventListener("touchstart",V,Po),e.addEventListener("touchmove",F,Po)}function B(){var e=N();e.removeEventListener("mousedown",j,!0),e.removeEventListener("touchend",j,Po),e.removeEventListener("touchstart",V,Po),e.removeEventListener("touchmove",F,Po)}function z(e,t){var n=A().box;function r(e){e.target===n&&(Zo(n,"remove",r),t())}if(0===e)return t();Zo(n,"remove",o),Zo(n,"add",r),o=r}function q(t,n,r){void 0===r&&(r=!1),Uo(k.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),v.push({node:e,eventType:t,handler:n,options:r})}))}function H(){var e;S()&&(q("touchstart",K,{passive:!0}),q("touchend",Q,{passive:!0})),(e=k.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(q(e,K),e){case"mouseenter":q("mouseleave",Q);break;case"focus":q(ou?"focusout":"blur",Y);break;case"focusin":q("focusout",Y)}}))}function W(){v.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),v=[]}function K(e){var t,n=!1;if(k.state.isEnabled&&!$(e)&&!h){var r="focus"===(null==(t=a)?void 0:t.type);a=e,s=e.currentTarget,R(),!k.state.isVisible&&Go(e)&&pu.forEach((function(t){return t(e)})),"click"===e.type&&(k.props.trigger.indexOf("mouseenter")<0||f)&&!1!==k.props.hideOnClick&&k.state.isVisible?n=!0:ee(e),"click"===e.type&&(f=!n),n&&!r&&te(e)}}function G(e){var t=e.target,n=C().contains(t)||w.contains(t);if("mousemove"!==e.type||!n){var r=Z().concat(w).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:l}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,a=e.props.interactiveBorder,o=zo(i.placement),u=i.modifiersData.offset;if(!u)return!0;var s="bottom"===o?u.top.y:0,c="top"===o?u.bottom.y:0,l="right"===o?u.left.x:0,f="left"===o?u.right.x:0,h=t.top-r+s>a,d=r-t.bottom-c>a,p=t.left-n+l>a,v=n-t.right-f>a;return h||d||p||v}))})(r,e)&&(M(),te(e))}}function Q(e){$(e)||k.props.trigger.indexOf("click")>=0&&f||(k.props.interactive?k.hideWithInteractivity(e):te(e))}function Y(e){k.props.trigger.indexOf("focusin")<0&&e.target!==C()||k.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||te(e)}function $(e){return!!tu.isTouch&&S()!==e.type.indexOf("touch")>=0}function X(){J();var t=k.props,n=t.popperOptions,r=t.placement,i=t.offset,a=t.getReferenceClientRect,o=t.moveTransition,s=T()?hu(w).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||C()}:e,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(T()){var n=A().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},f=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!o}},l];T()&&s&&f.push({name:"arrow",options:{element:s,padding:3}}),f.push.apply(f,(null==n?void 0:n.modifiers)||[]),k.popperInstance=da(c,w,Object.assign({},n,{placement:r,onFirstUpdate:u,modifiers:f}))}function J(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}function Z(){return qo(w.querySelectorAll("[data-tippy-root]"))}function ee(e){k.clearDelayTimeouts(),e&&L("onTrigger",[k,e]),U();var t=O(!0),r=E(),i=r[0],a=r[1];tu.isTouch&&"hold"===i&&a&&(t=a),t?n=setTimeout((function(){k.show()}),t):k.show()}function te(e){if(k.clearDelayTimeouts(),L("onUntrigger",[k,e]),k.state.isVisible){if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&f)){var t=O(!1);t?r=setTimeout((function(){k.state.isVisible&&k.hide()}),t):i=requestAnimationFrame((function(){k.hide()}))}}else B()}}function yu(e,t){void 0===t&&(t={});var n=su.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",ru,Po),window.addEventListener("blur",au);var r=Object.assign({},t,{plugins:n}),i=Yo(e).reduce((function(e,t){var n=t&&mu(t,r);return n&&e.push(n),e}),[]);return Ko(e)?i[0]:i}yu.defaultProps=su,yu.setDefaultProps=function(e){Object.keys(e).forEach((function(t){su[t]=e[t]}))},yu.currentInput=tu;Object.assign({},Gi,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});yu.setDefaultProps({animation:!1});var gu=yu;function ku(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var bu="undefined"!==typeof window&&"undefined"!==typeof document;function wu(e,t){e&&("function"===typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function xu(){return bu&&document.createElement("div")}function _u(e,t){if(e===t)return!0;if("object"===typeof e&&null!=e&&"object"===typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!_u(e[n],t[n]))return!1}return!0}return!1}function Iu(e){var t=[];return e.forEach((function(e){t.find((function(t){return _u(e,t)}))||t.push(e)})),t}function Eu(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:Iu([].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(r=t.popperOptions)?void 0:r.modifiers)||[]))})})}var Su=bu?r.useLayoutEffect:r.useEffect;function Tu(e){var t=(0,r.useRef)();return t.current||(t.current="function"===typeof e?e():e),t.current}function Cu(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var Nu={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){e.props.className&&!n()||Cu(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&Cu(t,"remove",e.props.className)},onAfterUpdate:r}}};function Au(e){return function(t){var n=t.children,i=t.content,a=t.visible,o=t.singleton,u=t.render,s=t.reference,c=t.disabled,l=void 0!==c&&c,f=t.ignoreAttributes,h=void 0===f||f,d=(t.__source,t.__self,ku(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),p=void 0!==a,v=void 0!==o,m=(0,r.useState)(!1),y=m[0],g=m[1],k=(0,r.useState)({}),b=k[0],w=k[1],x=(0,r.useState)(),_=x[0],I=x[1],E=Tu((function(){return{container:xu(),renders:1}})),S=Object.assign({ignoreAttributes:h},d,{content:E.container});p&&(S.trigger="manual",S.hideOnClick=!1),v&&(l=!0);var T=S,C=S.plugins||[];u&&(T=Object.assign({},S,{plugins:v&&null!=o.data?[].concat(C,[{fn:function(){return{onTrigger:function(e,t){var n=o.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=n.instance,I(n.content)}}}}]):C,render:function(){return{popper:E.container}}}));var N=[s].concat(n?[n.type]:[]);return Su((function(){var t=s;s&&s.hasOwnProperty("current")&&(t=s.current);var n=e(t||E.ref||xu(),Object.assign({},T,{plugins:[Nu].concat(S.plugins||[])}));return E.instance=n,l&&n.disable(),a&&n.show(),v&&o.hook({instance:n,content:i,props:T,setSingletonContent:I}),g(!0),function(){n.destroy(),null==o||o.cleanup(n)}}),N),Su((function(){var e;if(1!==E.renders){var t=E.instance;t.setProps(Eu(t.props,T)),null==(e=t.popperInstance)||e.forceUpdate(),l?t.disable():t.enable(),p&&(a?t.show():t.hide()),v&&o.hook({instance:t,content:i,props:T,setSingletonContent:I})}else E.renders++})),Su((function(){var e;if(u){var t=E.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;b.placement===n.placement&&b.referenceHidden===(null==r?void 0:r.isReferenceHidden)&&b.escaped===(null==r?void 0:r.hasPopperEscaped)||w({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}}),[b.placement,b.referenceHidden,b.escaped].concat(N)),r.createElement(r.Fragment,null,n?(0,r.cloneElement)(n,{ref:function(e){E.ref=e,wu(n.ref,e)}}):null,y&&(0,uo.createPortal)(u?u(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(b),_,E.instance):i,E.container))}}var Ou=function(e,t){return(0,r.forwardRef)((function(n,i){var a=n.children,o=ku(n,["children"]);return r.createElement(e,Object.assign({},t,o),a?(0,r.cloneElement)(a,{ref:function(e){wu(i,e),wu(a.ref,e)}}):null)}))},Du=Ou(Au(gu),{render:function(){return""}});function Lu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ru(e,t,n){return t&&Pu(e.prototype,t),n&&Pu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ju(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fu(e,t){return Fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fu(e,t)}function Vu(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fu(e,t)}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uu(e)}function Bu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(WF){return!1}}function zu(e){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(e)}function qu(e,t){if(t&&("object"===zu(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ju(e)}function Hu(e){var t=Bu();return function(){var n,r=Uu(e);if(t){var i=Uu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qu(this,n)}}function Wu(e,t,n){return Wu=Bu()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Fu(i,n.prototype),i},Wu.apply(null,arguments)}function Ku(e){var t="function"===typeof Map?new Map:void 0;return Ku=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Wu(e,arguments,Uu(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Fu(n,e)},Ku(e)}var Gu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Qu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Yu=function(e){return function(e){var t=Gu(e);return Qu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$u=function(e){try{return Qu.decodeString(e,!0)}catch(WF){console.error("base64Decode failed: ",WF)}return null};function Xu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Xu(e[n],t[n]));return e}var Ju=function(){function e(){var t=this;Lu(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ru(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Zu(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yu(JSON.stringify({alg:"none",type:"JWT"})),Yu(JSON.stringify(a)),""].join(".")}function es(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ts(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(es())}function ns(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(WF){return!1}}function rs(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function is(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function as(){var e=es();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function os(){return"object"===typeof indexedDB}function us(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}function ss(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var cs=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a;return Lu(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ju(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ju(a),ls.prototype.create),a}return Ru(n)}(Ku(Error)),ls=function(){function e(t,n,r){Lu(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ru(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?fs(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new cs(n,a,t);return o}}]),e}();function fs(e,t){return e.replace(hs,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var hs=/\{\$([^}]+)}/g;function ds(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ps(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(vs(u)&&vs(s)){if(!ps(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function vs(e){return null!==e&&"object"===typeof e}function ms(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ys(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function gs(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ks(e,t){var n=new bs(e,t);return n.subscribe.bind(n)}var bs=function(){function e(t,n){var r=this;Lu(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ru(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Mu(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ws),void 0===r.error&&(r.error=ws),void 0===r.complete&&(r.complete=ws);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(WF){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(WF){"undefined"!==typeof console&&console.error&&console.error(WF)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ws(){}var xs=144e5;function _s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(xs,r+i)}function Is(e){return e&&e._delegate?e._delegate:e}function Es(){Es=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==zu(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ss(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ts(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ss(a,r,i,o,u,"next",e)}function u(e){Ss(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Cs=function(){function e(t,n,r){Lu(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ru(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ns="[DEFAULT]",As=function(){function e(t,n){Lu(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ru(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ju;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(WF){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(WF){if(r)return null;throw WF}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch(WF){}var t,n=Mu(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(WF){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Co(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Co(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Mu(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Mu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ns?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns;return this.component?this.component.multipleInstances?e:Ns:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Os,Ds,Ls=function(){function e(t){Lu(this,e),this.name=t,this.providers=new Map}return Ru(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new As(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ps=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ds||(Ds={}));var Rs={debug:Ds.DEBUG,verbose:Ds.VERBOSE,info:Ds.INFO,warn:Ds.WARN,error:Ds.ERROR,silent:Ds.SILENT},Ms=Ds.INFO,js=(Io(Os={},Ds.DEBUG,"log"),Io(Os,Ds.VERBOSE,"log"),Io(Os,Ds.INFO,"info"),Io(Os,Ds.WARN,"warn"),Io(Os,Ds.ERROR,"error"),Os),Fs=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=js[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Vs=function(){function e(t){Lu(this,e),this.name=t,this._logLevel=Ms,this._logHandler=Fs,this._userLogHandler=null,Ps.push(this)}return Ru(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ds))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Rs[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ds.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ds.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ds.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ds.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ds.INFO].concat(t)),this._logHandler.apply(this,[this,Ds.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ds.WARN].concat(t)),this._logHandler.apply(this,[this,Ds.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ds.ERROR].concat(t)),this._logHandler.apply(this,[this,Ds.ERROR].concat(t))}}]),e}();var Us,Bs;var zs=new WeakMap,qs=new WeakMap,Hs=new WeakMap,Ws=new WeakMap,Ks=new WeakMap;var Gs={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Hs.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Qs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Bs||(Bs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Xs(this),n),$s(zs.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $s(e.apply(Xs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Xs(this),t].concat(r));return Hs.set(a,t.sort?t.sort():[t]),$s(a)}}function Ys(e){return"function"===typeof e?Qs(e):(e instanceof IDBTransaction&&function(e){if(!qs.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));qs.set(e,t)}}(e),t=e,(Us||(Us=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Gs):e);var t}function $s(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t($s(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&zs.set(t,e)})).catch((function(){})),Ks.set(t,e),t}(e);if(Ws.has(e))return Ws.get(e);var t=Ys(e);return t!==e&&(Ws.set(e,t),Ks.set(t,e)),t}var Xs=function(e){return Ks.get(e)};var Js,Zs,ec=["get","getKey","getAll","getAllKeys","count"],tc=["put","add","delete","clear"],nc=new Map;function rc(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(nc.get(t))return nc.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=tc.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ec.includes(n))){var a=function(){var e=Ts(Es().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return nc.set(t,a),a}}}Gs=function(e){return So(So({},e),{},{get:function(t,n,r){return rc(t,n)||e.get(t,n,r)},has:function(t,n){return!!rc(t,n)||e.has(t,n)}})}(Gs);var ic=function(){function e(t){Lu(this,e),this.container=t}return Ru(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ac="@firebase/app",oc="0.7.30",uc=new Vs("@firebase/app"),sc="[DEFAULT]",cc=(Io(Js={},ac,"fire-core"),Io(Js,"@firebase/app-compat","fire-core-compat"),Io(Js,"@firebase/analytics","fire-analytics"),Io(Js,"@firebase/analytics-compat","fire-analytics-compat"),Io(Js,"@firebase/app-check","fire-app-check"),Io(Js,"@firebase/app-check-compat","fire-app-check-compat"),Io(Js,"@firebase/auth","fire-auth"),Io(Js,"@firebase/auth-compat","fire-auth-compat"),Io(Js,"@firebase/database","fire-rtdb"),Io(Js,"@firebase/database-compat","fire-rtdb-compat"),Io(Js,"@firebase/functions","fire-fn"),Io(Js,"@firebase/functions-compat","fire-fn-compat"),Io(Js,"@firebase/installations","fire-iid"),Io(Js,"@firebase/installations-compat","fire-iid-compat"),Io(Js,"@firebase/messaging","fire-fcm"),Io(Js,"@firebase/messaging-compat","fire-fcm-compat"),Io(Js,"@firebase/performance","fire-perf"),Io(Js,"@firebase/performance-compat","fire-perf-compat"),Io(Js,"@firebase/remote-config","fire-rc"),Io(Js,"@firebase/remote-config-compat","fire-rc-compat"),Io(Js,"@firebase/storage","fire-gcs"),Io(Js,"@firebase/storage-compat","fire-gcs-compat"),Io(Js,"@firebase/firestore","fire-fst"),Io(Js,"@firebase/firestore-compat","fire-fst-compat"),Io(Js,"fire-js","fire-js"),Io(Js,"firebase","fire-js-all"),Js),lc=new Map,fc=new Map;function hc(e,t){try{e.container.addComponent(t)}catch(WF){uc.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),WF)}}function dc(e,t){e.container.addOrOverwriteComponent(t)}function pc(e){var t=e.name;if(fc.has(t))return uc.debug("There were multiple attempts to register component ".concat(t,".")),!1;fc.set(t,e);var n,r=Mu(lc.values());try{for(r.s();!(n=r.n()).done;){hc(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function vc(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function mc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sc;vc(e,t).clearInstance(n)}function yc(){fc.clear()}var gc=(Io(Zs={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Io(Zs,"bad-app-name","Illegal App name: '{$appName}"),Io(Zs,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Io(Zs,"app-deleted","Firebase App named '{$appName}' already deleted"),Io(Zs,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Io(Zs,"invalid-log-argument","First argument to `onLog` must be null or a function."),Io(Zs,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Io(Zs,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Io(Zs,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Io(Zs,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Zs),kc=new ls("app","Firebase",gc),bc=function(){function e(t,n,r){var i=this;Lu(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cs("app",(function(){return i}),"PUBLIC"))}return Ru(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw kc.create("app-deleted",{appName:this._name})}}]),e}(),wc="9.9.2";function xc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:sc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw kc.create("bad-app-name",{appName:String(i)});var a=lc.get(i);if(a){if(ps(e,a.options)&&ps(r,a.config))return a;throw kc.create("duplicate-app",{appName:i})}var o,u=new Ls(i),s=Mu(fc.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new bc(e,r,u);return lc.set(i,l),l}function _c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sc,t=lc.get(e);if(!t)throw kc.create("no-app",{appName:e});return t}function Ic(){return Array.from(lc.values())}function Ec(e){return Sc.apply(this,arguments)}function Sc(){return(Sc=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!lc.has(n)){e.next=6;break}return lc.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(e,t,n){var r,i=null!==(r=cc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void uc.warn(u.join(" "))}pc(new Cs("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Cc(e,t){if(null!==e&&"function"!==typeof e)throw kc.create("invalid-log-argument");!function(e,t){var n,r=Mu(Ps);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Rs[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ds[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Nc(e){var t;t=e,Ps.forEach((function(e){e.setLogLevel(t)}))}var Ac="firebase-heartbeat-store",Oc=null;function Dc(){return Oc||(Oc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=$s(u);return i&&u.addEventListener("upgradeneeded",(function(e){i($s(u.result),e.oldVersion,e.newVersion,$s(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ac)}}).catch((function(e){throw kc.create("idb-open",{originalErrorMessage:e.message})}))),Oc}function Lc(e){return Pc.apply(this,arguments)}function Pc(){return Pc=Ts(Es().mark((function e(t){var n,r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dc();case 3:return r=e.sent,e.abrupt("return",r.transaction(Ac).objectStore(Ac).get(jc(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof cs?uc.warn(e.t0.message):(i=kc.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),uc.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Pc.apply(this,arguments)}function Rc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=Ts(Es().mark((function e(t,n){var r,i,a,o,u;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dc();case 3:return i=e.sent,a=i.transaction(Ac,"readwrite"),o=a.objectStore(Ac),e.next=8,o.put(n,jc(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof cs?uc.warn(e.t0.message):(u=kc.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),uc.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Mc.apply(this,arguments)}function jc(e){return"".concat(e.name,"!").concat(e.options.appId)}var Fc=function(){function e(t){var n=this;Lu(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new qc(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ru(e,[{key:"triggerHeartbeat",value:function(){var e=Ts(Es().mark((function e(){var t,n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Vc(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ts(Es().mark((function e(){var t,n,r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Vc(),n=Uc(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Yu(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vc(){return(new Date).toISOString().substring(0,10)}function Uc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Mu(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Hc(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Hc(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Bc,zc,qc=function(){function e(t){Lu(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ru(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(os()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",us().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Lc(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Rc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Rc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Co(r.heartbeats),Co(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Hc(e){return Yu(JSON.stringify({version:2,heartbeats:e})).length}Bc="",pc(new Cs("platform-logger",(function(e){return new ic(e)}),"PRIVATE")),pc(new Cs("heartbeat",(function(e){return new Fc(e)}),"PRIVATE")),Tc(ac,oc,Bc),Tc(ac,oc,"esm2017"),Tc("fire-js","");var Wc=function(){function e(t,n){var r=this;Lu(this,e),this._delegate=t,this.firebase=n,hc(t,new Cs("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ru(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ec(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sc;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sc;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){hc(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){dc(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Kc=(Io(zc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Io(zc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),zc),Gc=new ls("app-compat","Firebase",Kc);var Qc=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=xc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ds(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Tc,setLogLevel:Nc,onLog:Cc,apps:null,SDK_VERSION:wc,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(pc(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Gc.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Xu(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ds(n,e=e||sc))throw Gc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Wc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Xu(n,e)},createSubscribe:ks,ErrorFactory:ls,deepExtend:Xu}),n}(),Yc=new Vs("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Yc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $c=self.firebase.SDK_VERSION;$c&&$c.indexOf("LITE")>=0&&Yc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Xc=Qc;!function(e){Tc("@firebase/app-compat","0.1.31",e)}();Xc.registerVersion("firebase","9.9.2","app-compat");var Jc,Zc;var el=new WeakMap,tl=new WeakMap,nl=new WeakMap,rl=new WeakMap,il=new WeakMap;var al={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return tl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||nl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sl(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ol(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Zc||(Zc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(cl(this),n),sl(el.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sl(e.apply(cl(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[cl(this),t].concat(r));return nl.set(a,t.sort?t.sort():[t]),sl(a)}}function ul(e){return"function"===typeof e?ol(e):(e instanceof IDBTransaction&&function(e){if(!tl.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));tl.set(e,t)}}(e),t=e,(Jc||(Jc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,al):e);var t}function sl(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(sl(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&el.set(t,e)})).catch((function(){})),il.set(t,e),t}(e);if(rl.has(e))return rl.get(e);var t=ul(e);return t!==e&&(rl.set(e,t),il.set(t,e)),t}var cl=function(e){return il.get(e)};var ll,fl=["get","getKey","getAll","getAllKeys","count"],hl=["put","add","delete","clear"],dl=new Map;function pl(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(dl.get(t))return dl.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=hl.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||fl.includes(n))){var a=function(){var e=Ts(Es().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return dl.set(t,a),a}}}!function(e){al=e(al)}((function(e){return So(So({},e),{},{get:function(t,n,r){return pl(t,n)||e.get(t,n,r)},has:function(t,n){return!!pl(t,n)||e.has(t,n)}})}));var vl="@firebase/installations",ml="0.5.12",yl=1e4,gl="w:".concat(ml),kl="FIS_v2",bl=36e5,wl=(Io(ll={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Io(ll,"not-registered","Firebase Installation is not registered."),Io(ll,"installation-not-found","Firebase Installation not found."),Io(ll,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Io(ll,"app-offline","Could not process request. Application offline."),Io(ll,"delete-pending-registration","Can't delete installation while there is a pending registration request."),ll),xl=new ls("installations","Installations",wl);function _l(e){return e instanceof cs&&e.code.includes("request-failed")}function Il(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function El(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Sl(e,t){return Tl.apply(this,arguments)}function Tl(){return(Tl=Ts(Es().mark((function e(t,n){var r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",xl.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cl(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Nl(e,t){var n=t.refreshToken,r=Cl(e);return r.append("Authorization",function(e){return"".concat(kl," ").concat(e)}(n)),r}function Al(e){return Ol.apply(this,arguments)}function Ol(){return Ol=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Ol.apply(this,arguments)}function Dl(e,t){return Ll.apply(this,arguments)}function Ll(){return(Ll=Ts(Es().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d,p;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=Il(r),u=Cl(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(c=e.sent)&&u.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:kl,appId:r.appId,sdkVersion:gl},f={method:"POST",headers:u,body:JSON.stringify(l)},e.next=14,Al((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:El(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,Sl("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pl(e){return new Promise((function(t){setTimeout(t,e)}))}var Rl=/^[cdef][\w-]{21}$/;function Ml(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Co(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return Rl.test(t)?t:""}catch(n){return""}}function jl(e){return"".concat(e.appName,"!").concat(e.appId)}var Fl=new Map;function Vl(e,t){var n=jl(e);Ul(n,t),function(e,t){var n=zl();n&&n.postMessage({key:e,fid:t});ql()}(n,t)}function Ul(e,t){var n=Fl.get(e);if(n){var r,i=Mu(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Bl=null;function zl(){return!Bl&&"BroadcastChannel"in self&&((Bl=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Ul(e.data.key,e.data.fid)}),Bl}function ql(){0===Fl.size&&Bl&&(Bl.close(),Bl=null)}var Hl="firebase-installations-store",Wl=null;function Kl(){return Wl||(Wl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=sl(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(sl(u.result),e.oldVersion,e.newVersion,sl(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Hl)}})),Wl}function Gl(e,t){return Ql.apply(this,arguments)}function Ql(){return Ql=Ts(Es().mark((function e(t,n){var r,i,a,o,u;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jl(t),e.next=3,Kl();case 3:return i=e.sent,a=i.transaction(Hl,"readwrite"),o=a.objectStore(Hl),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||Vl(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function Yl(e){return $l.apply(this,arguments)}function $l(){return $l=Ts(Es().mark((function e(t){var n,r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jl(t),e.next=3,Kl();case 3:return r=e.sent,i=r.transaction(Hl,"readwrite"),e.next=7,i.objectStore(Hl).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function Xl(e,t){return Jl.apply(this,arguments)}function Jl(){return Jl=Ts(Es().mark((function e(t,n){var r,i,a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jl(t),e.next=3,Kl();case 3:return i=e.sent,a=i.transaction(Hl,"readwrite"),o=a.objectStore(Hl),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||Vl(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Zl(e){return ef.apply(this,arguments)}function ef(){return(ef=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(t.appConfig,(function(e){var r=tf(e),i=nf(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e){return sf(e||{fid:Ml(),registrationStatus:0})}function nf(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(xl.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return rf.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:af(e)}:{installationEntry:t}}function rf(){return(rf=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dl(t,n);case 3:return r=e.sent,e.abrupt("return",Gl(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!_l(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Yl(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Gl(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function af(e){return of.apply(this,arguments)}function of(){return(of=Ts(Es().mark((function e(t){var n,r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uf(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Pl(100);case 6:return e.next=8,uf(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Zl(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(e){return Xl(e,(function(e){if(!e)throw xl.create("installation-not-found");return sf(e)}))}function sf(e){return 1===(t=e).registrationStatus&&t.registrationTime+yl<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function cf(e,t){return lf.apply(this,arguments)}function lf(){return(lf=Ts(Es().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=ff(r,n),o=Nl(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return c={installation:{sdkVersion:gl,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,Al((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=El(h),e.abrupt("return",d);case 22:return e.next=24,Sl("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ff(e,t){var n=t.fid;return"".concat(Il(e),"/").concat(n,"/authTokens:generate")}function hf(e){return df.apply(this,arguments)}function df(){return df=Ts(Es().mark((function e(t){var n,r,i,a,o=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,Xl(t.appConfig,(function(e){if(!kf(e))throw xl.create("not-registered");var i=e.authToken;if(!n&&bf(i))return e;if(1===i.requestStatus)return r=pf(t,n),e;if(!navigator.onLine)throw xl.create("app-offline");var a=wf(e);return r=yf(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}function pf(e,t){return vf.apply(this,arguments)}function vf(){return(vf=Ts(Es().mark((function e(t,n){var r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mf(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Pl(100);case 6:return e.next=8,mf(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",hf(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mf(e){return Xl(e,(function(e){if(!kf(e))throw xl.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+yl<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function yf(e,t){return gf.apply(this,arguments)}function gf(){return(gf=Ts(Es().mark((function e(t,n){var r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cf(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Gl(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!_l(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Yl(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Gl(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function kf(e){return void 0!==e&&2===e.registrationStatus}function bf(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+bl}(e)}function wf(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function xf(){return(xf=Ts(Es().mark((function e(t){var n,r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Zl(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):hf(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(){return _f=Ts(Es().mark((function e(t){var n,r,i,a=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,If(r);case 4:return e.next=6,hf(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function If(e){return Ef.apply(this,arguments)}function Ef(){return(Ef=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zl(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sf(e){return xl.create("missing-app-config-values",{valueName:e})}var Tf,Cf="installations",Nf=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Sf("App Configuration");if(!e.name)throw Sf("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Sf(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:vc(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Af=function(e){var t=vc(e.getProvider("app").getImmediate(),Cf).getImmediate(),n={getId:function(){return function(e){return xf.apply(this,arguments)}(t)},getToken:function(e){return function(e){return _f.apply(this,arguments)}(t,e)}};return n};pc(new Cs(Cf,Nf,"PUBLIC")),pc(new Cs("installations-internal",Af,"PRIVATE")),Tc(vl,ml),Tc(vl,ml,"esm2017");var Of="analytics",Df=6e4,Lf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pf="https://www.googletagmanager.com/gtag/js",Rf=new Vs("@firebase/analytics");function Mf(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function jf(e,t){var n=document.createElement("script");n.src="".concat(Pf,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function Ff(e,t,n,r,i,a){return Vf.apply(this,arguments)}function Vf(){return Vf=Ts(Es().mark((function e(t,n,r,i,a,o){var u,s,c;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,Mf(r);case 9:if(s=e.sent,c=s.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Rf.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Vf.apply(this,arguments)}function Uf(e,t,n,r,i){return Bf.apply(this,arguments)}function Bf(){return Bf=Ts(Es().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,Mf(r);case 7:s=e.sent,c=Mu(u),e.prev=9,f=function(){var e=l.value,t=s.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Rf.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),Bf.apply(this,arguments)}function zf(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=Ts(Es().mark((function i(a,o,u){return Es().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,Uf(e,t,n,o,u);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,Ff(e,t,n,r,o,u);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",u):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Rf.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function qf(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Pf))return r}return null}var Hf=(Io(Tf={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),Io(Tf,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),Io(Tf,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),Io(Tf,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),Io(Tf,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Io(Tf,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Io(Tf,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),Io(Tf,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),Io(Tf,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),Io(Tf,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Tf),Wf=new ls("analytics","Analytics",Hf),Kf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Lu(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Ru(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Gf=new Kf;function Qf(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Yf(e){return $f.apply(this,arguments)}function $f(){return $f=Ts(Es().mark((function e(t){var n,r,i,a,o,u,s,c;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Qf(i)},o=Lf.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Wf.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),$f.apply(this,arguments)}function Xf(e){return Jf.apply(this,arguments)}function Jf(){return Jf=Ts(Es().mark((function e(t){var n,r,i,a,o,u,s,c,l=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:Gf,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw Wf.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw Wf.create("no-api-key");case 9:return s=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new ah,setTimeout(Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Df),e.abrupt("return",Zf({appId:a,apiKey:o,measurementId:u},s,c,n));case 13:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Zf(e,t,n){return eh.apply(this,arguments)}function eh(){return eh=Ts(Es().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=v.length>3&&void 0!==v[3]?v[3]:Gf,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,th(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return Rf.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(u=e.t0)||void 0===u?void 0:u.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Yf(t);case 17:return f=e.sent,o.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),nh(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(c),!l){e.next=32;break}return Rf.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(s=null===h||void 0===h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?_s(a,o.intervalMillis,30):_s(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(c,p),Rf.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",Zf(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),eh.apply(this,arguments)}function th(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Wf.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function nh(e){if(!(e instanceof cs)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var rh,ih,ah=function(){function e(){Lu(this,e),this.listeners=[]}return Ru(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function oh(){return(oh=Ts(Es().mark((function e(t,n,r,i,a){var o,u;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uh(){return(uh=Ts(Es().mark((function e(t,n,r,i){var a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sh(){return sh=Ts(Es().mark((function e(t,n,r,i){var a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}function ch(){return(ch=Ts(Es().mark((function e(t,n,r,i){var a,o,u,s,c;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(a={},o=0,u=Object.keys(r);o<u.length;o++)s=u[o],a["user_properties.".concat(s)]=r[s];return t("set",a),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lh(){return(lh=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fh(e){ih=e}function hh(e){rh=e}function dh(){return ph.apply(this,arguments)}function ph(){return ph=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(os()){e.next=5;break}return Rf.warn(Wf.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,us();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Rf.warn(Wf.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),ph.apply(this,arguments)}function vh(){return vh=Ts(Es().mark((function e(t,n,r,i,a,o,u){var s,l,f,h,d,p,v,m;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=Xf(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Rf.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Rf.error(e)})),n.push(l),f=dh().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=c(h,2),p=d[0],v=d[1],qf()||jf(o,p.measurementId),ih&&(a("consent","default",ih),fh(void 0)),a("js",new Date),(m=null!==(s=null===u||void 0===u?void 0:u.config)&&void 0!==s?s:{}).origin="firebase",m.update=!0,null!=v&&(m.firebase_id=v),a("config",p.measurementId,m),rh&&(a("set",rh),hh(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}var mh,yh,gh=function(){function e(t){Lu(this,e),this.app=t}return Ru(e,[{key:"_delete",value:function(){return delete kh[this.app.options.appId],Promise.resolve()}}]),e}(),kh={},bh=[],wh={},xh="dataLayer",_h="gtag",Ih=!1;function Eh(e){if(Ih)throw Wf.create("already-initialized");e.dataLayerName&&(xh=e.dataLayerName),e.gtagName&&(_h=e.gtagName)}function Sh(e,t,n){!function(){var e=[];if(rs()&&e.push("This is a browser extension environment."),ss()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Wf.create("invalid-analytics-context",{errorInfo:t});Rf.warn(n.message)}}();var r=e.options.appId;if(!r)throw Wf.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Wf.create("no-api-key");Rf.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=kh[r])throw Wf.create("already-exists",{id:r});if(!Ih){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(xh);var i=zf(kh,bh,wh,xh,_h),a=i.wrappedGtag,o=i.gtagCore;yh=a,mh=o,Ih=!0}return kh[r]=function(e,t,n,r,i,a,o){return vh.apply(this,arguments)}(e,bh,wh,t,mh,xh,n),new gh(e)}function Th(){return Ch.apply(this,arguments)}function Ch(){return(Ch=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rs()){e.next=2;break}return e.abrupt("return",!1);case 2:if(ss()){e.next=4;break}return e.abrupt("return",!1);case 4:if(os()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,us();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function Nh(e,t,n){e=Is(e),function(e,t,n,r){return uh.apply(this,arguments)}(yh,kh[e.app.options.appId],t,n).catch((function(e){return Rf.error(e)}))}function Ah(e,t,n){e=Is(e),function(e,t,n,r){return sh.apply(this,arguments)}(yh,kh[e.app.options.appId],t,n).catch((function(e){return Rf.error(e)}))}function Oh(e,t,n){e=Is(e),function(e,t,n,r){return ch.apply(this,arguments)}(yh,kh[e.app.options.appId],t,n).catch((function(e){return Rf.error(e)}))}function Dh(e,t){e=Is(e),function(e,t){return lh.apply(this,arguments)}(kh[e.app.options.appId],t).catch((function(e){return Rf.error(e)}))}function Lh(e,t,n,r){e=Is(e),function(e,t,n,r,i){return oh.apply(this,arguments)}(yh,kh[e.app.options.appId],t,n,r).catch((function(e){return Rf.error(e)}))}var Ph="@firebase/analytics",Rh="0.8.0";pc(new Cs(Of,(function(e,t){var n=t.options;return Sh(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),pc(new Cs("analytics-internal",(function(e){try{var t=e.getProvider(Of).getImmediate();return{logEvent:function(e,n,r){return Lh(t,e,n,r)}}}catch(WF){throw Wf.create("interop-component-reg-failed",{reason:WF})}}),"PRIVATE")),Tc(Ph,Rh),Tc(Ph,Rh,"esm2017");var Mh,jh=function(){function e(t,n){Lu(this,e),this.app=t,this._delegate=n}return Ru(e,[{key:"logEvent",value:function(e,t,n){Lh(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){Nh(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){Ah(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){Oh(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){Dh(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Mh||(Mh={}));var Fh=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new jh(t,n)};function Vh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Uu(e)););return e}function Uh(){return Uh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Vh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Uh.apply(this,arguments)}!function(){var e={Analytics:jh,settings:Eh,isSupported:Th,EventName:Mh};Xc.INTERNAL.registerComponent(new Cs("analytics-compat",Fh,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),Xc.registerVersion("@firebase/analytics-compat","0.1.13");function Bh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var zh;Object.create;var qh="facebook.com",Hh="github.com",Wh="google.com",Kh="password",Gh="twitter.com",Qh="EMAIL_SIGNIN",Yh="PASSWORD_RESET",$h="RECOVER_EMAIL",Xh="REVERT_SECOND_FACTOR_ADDITION",Jh="VERIFY_AND_CHANGE_EMAIL",Zh="VERIFY_EMAIL";function ed(){return Io({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var td=function(){var e;return Io(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Io(e,"argument-error",""),Io(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Io(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Io(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Io(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Io(e,"cordova-not-ready","Cordova framework is not ready."),Io(e,"cors-unsupported","This browser is not supported."),Io(e,"credential-already-in-use","This credential is already associated with a different user account."),Io(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Io(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Io(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Io(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Io(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Io(e,"email-already-in-use","The email address is already in use by another account."),Io(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Io(e,"expired-action-code","The action code has expired."),Io(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Io(e,"internal-error","An internal AuthError has occurred."),Io(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Io(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Io(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Io(e,"invalid-auth-event","An internal AuthError has occurred."),Io(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Io(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Io(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Io(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Io(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Io(e,"invalid-email","The email address is badly formatted."),Io(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Io(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Io(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Io(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Io(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Io(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Io(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Io(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Io(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Io(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Io(e,"wrong-password","The password is invalid or the user does not have a password."),Io(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Io(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Io(e,"invalid-provider-id","The specified provider ID is invalid."),Io(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Io(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Io(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Io(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Io(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Io(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Io(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Io(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Io(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Io(e,"missing-continue-uri","A continue URL must be provided in the request."),Io(e,"missing-iframe-start","An internal AuthError has occurred."),Io(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Io(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Io(e,"missing-multi-factor-info","No second factor identifier is provided."),Io(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Io(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Io(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Io(e,"app-deleted","This instance of FirebaseApp has been deleted."),Io(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Io(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Io(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Io(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Io(e,"no-auth-event","An internal AuthError has occurred."),Io(e,"no-such-provider","User was not linked to an account with the given provider."),Io(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Io(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Io(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Io(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Io(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Io(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Io(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Io(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Io(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Io(e,"rejected-credential","The request contains malformed or mismatching credentials."),Io(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Io(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Io(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Io(e,"timeout","The operation has timed out."),Io(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Io(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Io(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Io(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Io(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Io(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Io(e,"unverified-email","The operation requires a verified email."),Io(e,"user-cancelled","The user did not grant your application the permissions it requested."),Io(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Io(e,"user-disabled","The user account has been disabled by an administrator."),Io(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Io(e,"user-signed-out",""),Io(e,"weak-password","The password must be 6 characters long or more."),Io(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Io(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},nd=ed,rd=new ls("auth","Firebase",ed()),id=new Vs("@firebase/auth");function ad(e){if(id.logLevel<=Ds.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];id.error.apply(id,["Auth (".concat(wc,"): ").concat(e)].concat(n))}}function od(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ld.apply(void 0,[e].concat(n))}function ud(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ld.apply(void 0,[e].concat(n))}function sd(e,t,n){var r=Object.assign(Object.assign({},nd()),Io({},t,n));return new ls("auth","Firebase",r).create(t,{appName:e.name})}function cd(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&od(e,"argument-error"),sd(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ld(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Co(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Co(o)))}return rd.create.apply(rd,[e].concat(n))}function fd(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ld.apply(void 0,[t].concat(r))}}function hd(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ad(t),new Error(t)}function dd(e,t){e||hd(t)}var pd=new Map;function vd(e){dd(e instanceof Function,"Expected a class definition");var t=pd.get(e);return t?(dd(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pd.set(e,t),t)}function md(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yd(){return"http:"===gd()||"https:"===gd()}function gd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var kd=function(){function e(t,n){Lu(this,e),this.shortDelay=t,this.longDelay=n,dd(n>t,"Short delay should be less than long delay!"),this.isMobile=ts()||is()}return Ru(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yd()||rs()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function bd(e,t){dd(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var wd=function(){function e(){Lu(this,e)}return Ru(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void hd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void hd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void hd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),xd=(Io(zh={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Io(zh,"MISSING_CUSTOM_TOKEN","internal-error"),Io(zh,"INVALID_IDENTIFIER","invalid-email"),Io(zh,"MISSING_CONTINUE_URI","internal-error"),Io(zh,"INVALID_PASSWORD","wrong-password"),Io(zh,"MISSING_PASSWORD","internal-error"),Io(zh,"EMAIL_EXISTS","email-already-in-use"),Io(zh,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Io(zh,"INVALID_IDP_RESPONSE","invalid-credential"),Io(zh,"INVALID_PENDING_TOKEN","invalid-credential"),Io(zh,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Io(zh,"MISSING_REQ_TYPE","internal-error"),Io(zh,"EMAIL_NOT_FOUND","user-not-found"),Io(zh,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Io(zh,"EXPIRED_OOB_CODE","expired-action-code"),Io(zh,"INVALID_OOB_CODE","invalid-action-code"),Io(zh,"MISSING_OOB_CODE","internal-error"),Io(zh,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Io(zh,"INVALID_ID_TOKEN","invalid-user-token"),Io(zh,"TOKEN_EXPIRED","user-token-expired"),Io(zh,"USER_NOT_FOUND","user-token-expired"),Io(zh,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Io(zh,"INVALID_CODE","invalid-verification-code"),Io(zh,"INVALID_SESSION_INFO","invalid-verification-id"),Io(zh,"INVALID_TEMPORARY_PROOF","invalid-credential"),Io(zh,"MISSING_SESSION_INFO","missing-verification-id"),Io(zh,"SESSION_EXPIRED","code-expired"),Io(zh,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Io(zh,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Io(zh,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Io(zh,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Io(zh,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Io(zh,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Io(zh,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Io(zh,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Io(zh,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Io(zh,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Io(zh,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),zh),_d=new kd(3e4,6e4);function Id(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ed(e,t,n,r){return Sd.apply(this,arguments)}function Sd(){return Sd=Ts(Es().mark((function e(t,n,r,i){var a,o=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Td(t,a,Ts(Es().mark((function e(){var a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ms(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",wd.fetch()(Od(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}function Td(e,t,n){return Cd.apply(this,arguments)}function Cd(){return Cd=Ts(Es().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},xd),n),e.prev=2,a=new Dd(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Ld(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Ld(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Ld(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Ld(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw sd(t,p,d);case 34:od(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof cs)){e.next=41;break}throw e.t0;case 41:od(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Cd.apply(this,arguments)}function Nd(e,t,n,r){return Ad.apply(this,arguments)}function Ad(){return Ad=Ts(Es().mark((function e(t,n,r,i){var a,o,u=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ed(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&od(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Od(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?bd(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Dd=function(){function e(t){var n=this;Lu(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ud(n.auth,"network-request-failed"))}),_d.get())}))}return Ru(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ld(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ud(e,t,r);return i.customData._tokenResponse=n,i}function Pd(e,t){return Rd.apply(this,arguments)}function Rd(){return Rd=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Md(e,t){return jd.apply(this,arguments)}function jd(){return jd=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}function Fd(e,t){return Vd.apply(this,arguments)}function Vd(){return Vd=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}function Ud(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(WF){}}function Bd(){return Bd=Ts(Es().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Is(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,fd((a=qd(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ud(zd(a.auth_time)),issuedAtTime:Ud(zd(a.iat)),expirationTime:Ud(zd(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}function zd(e){return 1e3*Number(e)}function qd(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return ad("JWT malformed, contained fewer than 3 sections"),null;try{var o=$u(i);return o?JSON.parse(o):(ad("Failed to decode base64 JWT payload"),null)}catch(WF){return ad("Caught error parsing JWT payload as JSON",null===(t=WF)||void 0===t?void 0:t.toString()),null}}function Hd(e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=Ts(Es().mark((function e(t,n){var r=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof cs&&Kd(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Wd.apply(this,arguments)}function Kd(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Gd=function(){function e(t){Lu(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ru(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ts(Es().mark((function t(){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Qd=function(){function e(t,n){Lu(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ru(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ud(this.lastLoginAt),this.creationTime=Ud(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Yd(e){return $d.apply(this,arguments)}function $d(){return $d=Ts(Es().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Hd(t,Fd(r,{idToken:i}));case 6:fd(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Zd(o.providerUserInfo):[],s=Jd(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),$d.apply(this,arguments)}function Xd(){return(Xd=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Is(t),e.next=3,Yd(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jd(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Co(n),Co(t))}function Zd(e){return e.map((function(e){var t=e.providerId,n=Bh(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ep(e,t){return tp.apply(this,arguments)}function tp(){return tp=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Td(t,{},Ts(Es().mark((function e(){var r,i,a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ms({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Od(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",wd.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}var np=function(){function e(){Lu(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ru(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){fd(e.idToken,"internal-error"),fd("undefined"!==typeof e.idToken,"internal-error"),fd("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=qd(e);return fd(t,"internal-error"),fd("undefined"!==typeof t.exp,"internal-error"),fd("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ts(Es().mark((function e(t){var n,r=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],fd(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ts(Es().mark((function e(t,n){var r,i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ep(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return hd("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(fd("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(fd("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(fd("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function rp(e,t){fd("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ip=function(){function e(t){Lu(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Bh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Co(a.providerData):[],this.metadata=new Qd(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ru(e,[{key:"getIdToken",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hd(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(fd(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Bd.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Xd.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(fd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){fd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ts(Es().mark((function e(t){var n,r,i=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Yd(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Hd(this,Pd(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;fd(k&&_,t,"internal-error");var I=np.fromJSON(this.name,_);fd("string"===typeof k,t,"internal-error"),rp(f,t.name),rp(h,t.name),fd("boolean"===typeof b,t,"internal-error"),fd("boolean"===typeof w,t,"internal-error"),rp(d,t.name),rp(p,t.name),rp(v,t.name),rp(m,t.name),rp(y,t.name),rp(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ts(Es().mark((function t(n,r){var i,a,o,u=arguments;return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new np).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Yd(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ap=function(){function e(){Lu(this,e),this.type="NONE",this.storage={}}return Ru(e,[{key:"_isAvailable",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ap.type="NONE";var op=ap;function up(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var sp=function(){function e(t,n,r){Lu(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=up(this.userKey,a.apiKey,o),this.fullPersistenceKey=up("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ru(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ip._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ts(Es().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(vd(op),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||vd(op),u=up(i,n.config.apiKey,n.name),s=null,c=Mu(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ip._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function cp(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vp(t))return"Blackberry";if(mp(t))return"Webos";if(fp(t))return"Safari";if((t.includes("chrome/")||hp(t))&&!t.includes("edge/"))return"Chrome";if(pp(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function lp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/firefox\//i.test(e)}function fp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/crios\//i.test(e)}function dp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/iemobile/i.test(e)}function pp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/android/i.test(e)}function vp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/blackberry/i.test(e)}function mp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/webos/i.test(e)}function yp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gp(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return yp(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function kp(){return as()&&10===document.documentMode}function bp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return yp(e)||pp(e)||mp(e)||vp(e)||/windows phone/i.test(e)||dp(e)}function wp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=cp(es());break;case"Worker":t="".concat(cp(es()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(wc,"/").concat(r)}var xp=function(){function e(t){Lu(this,e),this.auth=t,this.queue=[]}return Ru(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(WF){r(WF)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ts(Es().mark((function e(t){var n,r,i,a,o,u,s,c;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Mu(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Mu(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_p=function(){function e(t,n,r){Lu(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ep(this),this.idTokenSubscription=new Ep(this),this.beforeStateQueue=new xp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rd,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ru(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=vd(t)),this._initializationPromise=this.queue(Ts(Es().mark((function r(){var i,a;return Es().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,sp.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ts(Es().mark((function e(t){var n,r,i,a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return fd(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yd(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Is(t):null)&&fd(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ts(Es().mark((function e(t){var n,r=this,i=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&fd(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ts(Es().mark((function n(){return Es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(vd(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ls("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return fd(n=t&&vd(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,sp.create(this,[vd(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ts(Es().mark((function e(t){var n=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return fd(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return fd(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wp(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ts(Es().mark((function e(){var t,n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Io({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ip(e){return Is(e)}var Ep=function(){function e(t){var n=this;Lu(this,e),this.auth=t,this.observer=null,this.addObserver=ks((function(e){return n.observer=e}))}return Ru(e,[{key:"next",get:function(){return fd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Sp(e,t,n){var r=Ip(e);fd(r._canInitEmulator,r,"emulator-config-failed"),fd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Tp(t),o=function(e){var t=Tp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Cp(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Cp(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Tp(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Cp(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Np=function(){function e(t,n){Lu(this,e),this.providerId=t,this.signInMethod=n}return Ru(e,[{key:"toJSON",value:function(){return hd("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return hd("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return hd("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return hd("not implemented")}}]),e}();function Ap(e,t){return Op.apply(this,arguments)}function Op(){return Op=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(t,"POST","/v1/accounts:resetPassword",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),Op.apply(this,arguments)}function Dp(e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Lp.apply(this,arguments)}function Pp(e,t){return Rp.apply(this,arguments)}function Rp(){return Rp=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(t,"POST","/v1/accounts:update",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Mp(e,t){return jp.apply(this,arguments)}function jp(){return jp=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:signInWithPassword",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Fp(e,t){return Vp.apply(this,arguments)}function Vp(){return Vp=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(t,"POST","/v1/accounts:sendOobCode",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vp.apply(this,arguments)}function Up(e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fp(t,n));case 1:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}function zp(e,t){return qp.apply(this,arguments)}function qp(){return qp=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fp(t,n));case 1:case"end":return e.stop()}}),e)}))),qp.apply(this,arguments)}function Hp(e,t){return Wp.apply(this,arguments)}function Wp(){return Wp=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fp(t,n));case 1:case"end":return e.stop()}}),e)}))),Wp.apply(this,arguments)}function Kp(e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fp(t,n));case 1:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}function Qp(e,t){return Yp.apply(this,arguments)}function Yp(){return Yp=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:signInWithEmailLink",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yp.apply(this,arguments)}function $p(e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:signInWithEmailLink",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}var Jp=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Lu(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ru(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Mp(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Qp(t,{email:this._email,oobCode:this._password}));case 5:od(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Dp(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",$p(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:od(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Np);function Zp(e,t){return ev.apply(this,arguments)}function ev(){return ev=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:signInWithIdp",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),ev.apply(this,arguments)}var tv=function(e){Vu(n,e);var t=Hu(n);function n(){var e;return Lu(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ru(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Zp(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zp(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zp(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ms(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):od("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Bh(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Np);function nv(e,t){return rv.apply(this,arguments)}function rv(){return rv=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(t,"POST","/v1/accounts:sendVerificationCode",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(){return iv=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:signInWithPhoneNumber",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),iv.apply(this,arguments)}function av(){return av=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nd(t,"POST","/v1/accounts:signInWithPhoneNumber",Id(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ld(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}var ov=Io({},"USER_NOT_FOUND","user-not-found");function uv(){return uv=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Nd(t,"POST","/v1/accounts:signInWithPhoneNumber",Id(t,r),ov));case 2:case"end":return e.stop()}}),e)}))),uv.apply(this,arguments)}var sv=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ru(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return iv.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return av.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return uv.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Np);var cv=function(){function e(t){var n,r,i,a,o,u;Lu(this,e);var s=ys(gs(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);fd(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ru(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ys(gs(e)).link,n=t?ys(gs(t)).deep_link_id:null,r=ys(gs(e)).deep_link_id;return(r?ys(gs(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var lv=function(){function e(){Lu(this,e),this.providerId=e.PROVIDER_ID}return Ru(e,null,[{key:"credential",value:function(e,t){return Jp._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=cv.parseLink(t);return fd(n,"argument-error"),Jp._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();lv.PROVIDER_ID="password",lv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var fv=function(){function e(t){Lu(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ru(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),hv=function(e){Vu(n,e);var t=Hu(n);function n(){var e;return Lu(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ru(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Co(this.scopes)}}]),n}(fv),dv=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.apply(this,arguments)}return Ru(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return fd(e.idToken||e.accessToken,"argument-error"),tv._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return fd("providerId"in t&&"signInMethod"in t,"argument-error"),tv._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(WF){return null}}}]),n}(hv),pv=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.call(this,"facebook.com")}return Ru(n,null,[{key:"credential",value:function(e){return tv._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(hv);pv.FACEBOOK_SIGN_IN_METHOD="facebook.com",pv.PROVIDER_ID="facebook.com";var vv=function(e){Vu(n,e);var t=Hu(n);function n(){var e;return Lu(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ru(n,null,[{key:"credential",value:function(e,t){return tv._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(hv);vv.GOOGLE_SIGN_IN_METHOD="google.com",vv.PROVIDER_ID="google.com";var mv=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.call(this,"github.com")}return Ru(n,null,[{key:"credential",value:function(e){return tv._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(hv);mv.GITHUB_SIGN_IN_METHOD="github.com",mv.PROVIDER_ID="github.com";var yv=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ru(n,[{key:"_getIdTokenResponse",value:function(e){return Zp(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zp(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zp(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Np),gv=function(e){Vu(n,e);var t=Hu(n);function n(e){return Lu(this,n),fd(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ru(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=yv.fromJSON(e);return fd(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return yv._create(r,n)}catch(WF){return null}}}]),n}(fv),kv=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.call(this,"twitter.com")}return Ru(n,null,[{key:"credential",value:function(e,t){return tv._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(hv);function bv(e,t){return wv.apply(this,arguments)}function wv(){return wv=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:signUp",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}kv.TWITTER_SIGN_IN_METHOD="twitter.com",kv.PROVIDER_ID="twitter.com";var xv=function(){function e(t){Lu(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ru(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ts(Es().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ip._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=_v(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ts(Es().mark((function t(n,r,i){var a;return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=_v(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function _v(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Iv(){return Iv=Ts(Es().mark((function e(t){var n,r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ip(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new xv({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,bv(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,xv._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Iv.apply(this,arguments)}var Ev=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i,a){var o,u;return Lu(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ju(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ru(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(cs);function Sv(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ev._fromErrorAndOperation(e,n,t,r);throw n}))}function Tv(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Cv(e,t){return Nv.apply(this,arguments)}function Nv(){return Nv=Ts(Es().mark((function e(t,n){var r,i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Is(t),e.next=3,Dv(!0,r,n);case 3:return e.t0=Md,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Tv(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Nv.apply(this,arguments)}function Av(e,t){return Ov.apply(this,arguments)}function Ov(){return Ov=Ts(Es().mark((function e(t,n){var r,i,a=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Hd,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",xv._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Dv(e,t,n){return Lv.apply(this,arguments)}function Lv(){return(Lv=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yd(n);case 2:i=Tv(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",fd(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pv(e,t){return Rv.apply(this,arguments)}function Rv(){return Rv=Ts(Es().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Hd(t,Sv(a,o,n,t),r);case 6:return fd((u=e.sent).idToken,a,"internal-error"),fd(s=qd(u.idToken),a,"internal-error"),c=s.sub,fd(t.uid===c,a,"user-mismatch"),e.abrupt("return",xv._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&od(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Rv.apply(this,arguments)}function Mv(e,t){return jv.apply(this,arguments)}function jv(){return jv=Ts(Es().mark((function e(t,n){var r,i,a,o,u=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Sv(t,i,n);case 4:return a=e.sent,e.next=7,xv._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Fv(e,t){return Vv.apply(this,arguments)}function Vv(){return Vv=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mv(Ip(t),n));case 1:case"end":return e.stop()}}),e)}))),Vv.apply(this,arguments)}function Uv(e,t){return Bv.apply(this,arguments)}function Bv(){return(Bv=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Is(t),e.next=3,Dv(!1,r,n.providerId);case 3:return e.abrupt("return",Av(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zv(e,t){return qv.apply(this,arguments)}function qv(){return(qv=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pv(Is(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hv(e,t){return Wv.apply(this,arguments)}function Wv(){return Wv=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nd(t,"POST","/v1/accounts:signInWithCustomToken",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wv.apply(this,arguments)}function Kv(){return Kv=Ts(Es().mark((function e(t,n){var r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ip(t),e.next=3,Hv(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,xv._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}var Gv=function(){function e(t,n){Lu(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ru(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Qv._fromServerResponse(e,t):od(e,"internal-error")}}]),e}(),Qv=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ru(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Gv);function Yv(e,t,n){var r;fd((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),fd("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(fd(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(fd(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $v(){return $v=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Is(t),a={requestType:"PASSWORD_RESET",email:n},r&&Yv(i,a,r),e.next=5,zp(i,a);case 5:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}function Xv(){return Xv=Ts(Es().mark((function e(t,n,r){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ap(Is(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Xv.apply(this,arguments)}function Jv(){return Jv=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pp(Is(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Jv.apply(this,arguments)}function Zv(e,t){return em.apply(this,arguments)}function em(){return em=Ts(Es().mark((function e(t,n){var r,i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Is(t),e.next=3,Ap(r,{oobCode:n});case 3:i=e.sent,fd(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return fd(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:fd(i.mfaInfo,r,"internal-error");case 13:fd(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Gv._fromServerResponse(Ip(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),em.apply(this,arguments)}function tm(){return tm=Ts(Es().mark((function e(t,n){var r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zv(Is(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}function nm(e,t,n){return rm.apply(this,arguments)}function rm(){return rm=Ts(Es().mark((function e(t,n,r){var i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ip(t),e.next=3,bv(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,xv._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),rm.apply(this,arguments)}function im(){return im=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Is(t),a={requestType:"EMAIL_SIGNIN",email:n},fd(r.handleCodeInApp,i,"argument-error"),r&&Yv(i,a,r),e.next=6,Hp(i,a);case 6:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(){return am=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Is(t),fd((a=lv.credentialWithLink(n,r||md()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Fv(i,a));case 4:case"end":return e.stop()}}),e)}))),am.apply(this,arguments)}function om(e,t){return um.apply(this,arguments)}function um(){return um=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(t,"POST","/v1/accounts:createAuthUri",Id(t,n)));case 1:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function sm(){return sm=Ts(Es().mark((function e(t,n){var r,i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yd()?md():"http://localhost",i={identifier:n,continueUri:r},e.next=4,om(Is(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),sm.apply(this,arguments)}function cm(){return(cm=Ts(Es().mark((function e(t,n){var r,i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Is(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Yv(r.auth,a,n),e.next=8,Up(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lm(){return(lm=Ts(Es().mark((function e(t,n,r){var i,a,o,u;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Is(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Yv(i.auth,o,r),e.next=8,Kp(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fm(e,t){return hm.apply(this,arguments)}function hm(){return hm=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),hm.apply(this,arguments)}function dm(){return(dm=Ts(Es().mark((function e(t,n){var r,i,a,o,u,s,c;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Is(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Hd(a,fm(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pm(e,t,n){return vm.apply(this,arguments)}function vm(){return vm=Ts(Es().mark((function e(t,n,r){var i,a,o,u;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Hd(t,Dp(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),vm.apply(this,arguments)}var mm=Ru((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Lu(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ym=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i,a){var o;return Lu(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ru(n)}(mm),gm=function(e){Vu(n,e);var t=Hu(n);function n(e,r){return Lu(this,n),t.call(this,e,"facebook.com",r)}return Ru(n)}(mm),km=function(e){Vu(n,e);var t=Hu(n);function n(e,r){return Lu(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ru(n)}(ym),bm=function(e){Vu(n,e);var t=Hu(n);function n(e,r){return Lu(this,n),t.call(this,e,"google.com",r)}return Ru(n)}(mm),wm=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){return Lu(this,n),t.call(this,e,"twitter.com",r,i)}return Ru(n)}(ym);function xm(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=qd(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new mm(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new gm(a,i);case"github.com":return new km(a,i);case"google.com":return new bm(a,i);case"twitter.com":return new wm(a,i,e.screenName||null);case"custom":case"anonymous":return new mm(a,null);default:return new mm(a,r,i)}}(n)}var _m=function(){function e(t,n){Lu(this,e),this.type=t,this.credential=n}return Ru(e,[{key:"toJSON",value:function(){return{multiFactorSession:Io({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Im=function(){function e(t,n,r){Lu(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ru(e,[{key:"resolveSignIn",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ip(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Gv._fromServerResponse(r,e)}));fd(i.mfaPendingCredential,r,"internal-error");var o=_m._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ts(Es().mark((function e(t){var a,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,xv._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return fd(n.user,r,"internal-error"),e.abrupt("return",xv._forOperation(n.user,n.operationType,u));case 17:od(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Em(e,t){return Ed(e,"POST","/v2/accounts/mfaEnrollment:start",Id(e,t))}function Sm(e,t){return Ed(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Id(e,t))}var Tm=function(){function e(t){var n=this;Lu(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Gv._fromServerResponse(t.auth,e)})))}))}return Ru(e,[{key:"getSession",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=_m,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ts(Es().mark((function e(t,n){var r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Hd(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ts(Es().mark((function e(t){var n,r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Hd(this.user,Sm(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Cm=new WeakMap;var Nm="__sak",Am=function(){function e(t,n){Lu(this,e),this.storageRetriever=t,this.type=n}return Ru(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Om=function(e){Vu(n,e);var t=Hu(n);function n(){var e;return Lu(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=es();return fp(e)||yp(e)}()&&function(){try{return!(!window||window===window.top)}catch(WF){return!1}}(),e.fallbackToPolling=bp(),e._shouldAllowMigration=!0,e}return Ru(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);kp()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ts(Es().mark((function e(t,r){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uh(Uu(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ts(Es().mark((function e(t){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uh(Uu(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uh(Uu(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Am);Om.type="LOCAL";var Dm=Om,Lm=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ru(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Am);Lm.type="SESSION";var Pm=Lm;function Rm(e){return Promise.all(e.map(function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Mm=function(){function e(t){Lu(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ru(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ts(Es().mark((function e(t){var n,r,i,a,o,u,s,c;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Rm(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function jm(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Mm.receivers=[];var Fm=function(){function e(t){Lu(this,e),this.target=t,this.handlers=new Set}return Ru(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ts(Es().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=jm("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Vm(){return window}function Um(){return"undefined"!==typeof Vm().WorkerGlobalScope&&"function"===typeof Vm().importScripts}function Bm(){return zm.apply(this,arguments)}function zm(){return(zm=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function qm(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Hm="firebaseLocalStorageDb",Wm="firebaseLocalStorage",Km="fbase_key",Gm=function(){function e(t){Lu(this,e),this.request=t}return Ru(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Qm(e,t){return e.transaction([Wm],t?"readwrite":"readonly").objectStore(Wm)}function Ym(){var e=indexedDB.deleteDatabase(Hm);return new Gm(e).toPromise()}function $m(){var e=indexedDB.open(Hm,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Wm,{keyPath:Km})}catch(WF){n(WF)}})),e.addEventListener("success",Ts(Es().mark((function n(){var r;return Es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Wm)){n.next=12;break}return r.close(),n.next=5,Ym();case 5:return n.t0=t,n.next=8,$m();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Xm(e,t,n){return Jm.apply(this,arguments)}function Jm(){return Jm=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qm(t,!0).put((Io(i={},Km,n),Io(i,"value",r),i)),e.abrupt("return",new Gm(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Jm.apply(this,arguments)}function Zm(e,t){return ey.apply(this,arguments)}function ey(){return ey=Ts(Es().mark((function e(t,n){var r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qm(t,!1).get(n),e.next=3,new Gm(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ey.apply(this,arguments)}function ty(e,t){var n=Qm(e,!0).delete(t);return new Gm(n).toPromise()}var ny=function(){function e(){Lu(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ru(e,[{key:"_openDb",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,$m();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Um()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ts(Es().mark((function e(){var t=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Mm._getInstance(Um()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ts(Es().mark((function e(n,r){var i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ts(Es().mark((function e(){var t,n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bm();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Fm(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&qm()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,$m();case 5:return t=e.sent,e.next=8,Xm(t,Nm,"1");case 8:return e.next=10,ty(t,Nm);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ts(Es().mark((function e(t,n){var r=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Xm(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Zm(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ts(Es().mark((function e(t){var n=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ty(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ts(Es().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Qm(e,!1).getAll();return new Gm(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Mu(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ts(Es().mark((function t(){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ny.type="LOCAL";var ry=ny;function iy(e,t){return Ed(e,"POST","/v2/accounts/mfaSignIn:start",Id(e,t))}function ay(e){return oy.apply(this,arguments)}function oy(){return oy=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ed(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),oy.apply(this,arguments)}function uy(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ud("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function sy(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var cy=1e12,ly=function(){function e(t){Lu(this,e),this.auth=t,this.counter=cy,this._widgets=new Map}return Ru(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new fy(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||cy;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||cy;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||cy,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),fy=function(){function e(t,n,r){var i=this;Lu(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;fd(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ru(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(WF){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(WF){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var hy=sy("rcb"),dy=new kd(3e4,6e4),py="https://www.google.com/recaptcha/api.js?",vy=function(){function e(){var t;Lu(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Vm().grecaptcha)||void 0===t?void 0:t.render)}return Ru(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return fd(my(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Vm().grecaptcha):new Promise((function(r,i){var a=Vm().setTimeout((function(){i(ud(e,"network-request-failed"))}),dy.get());Vm()[hy]=function(){Vm().clearTimeout(a),delete Vm()[hy];var o=Vm().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ud(e,"internal-error"))},uy("".concat(py,"?").concat(ms({onload:hy,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ud(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Vm().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function my(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var yy=function(){function e(){Lu(this,e)}return Ru(e,[{key:"load",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ly(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),gy="recaptcha",ky={theme:"light",type:"image"},by=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ky),r=arguments.length>2?arguments[2]:void 0;Lu(this,e),this.parameters=n,this.type=gy,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ip(r),this.isInvisible="invisible"===this.parameters.size,fd("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;fd(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yy:new vy,this.validateStartingState()}return Ru(e,[{key:"verify",value:function(){var e=Ts(Es().mark((function e(){var t,n,r,i=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(WF){return Promise.reject(WF)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){fd(!this.parameters.sitekey,this.auth,"argument-error"),fd(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fd("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Vm()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){fd(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ts(Es().mark((function e(){var t,n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fd(yd()&&!Um(),this.auth,"internal-error"),e.next=3,wy();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ay(this.auth);case 8:fd(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return fd(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function wy(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var xy=function(){function e(t,n){Lu(this,e),this.verificationId=t,this.onConfirmation=n}return Ru(e,[{key:"confirm",value:function(e){var t=sv._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function _y(){return _y=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ip(t),e.next=3,Ty(i,n,Is(r));case 3:return a=e.sent,e.abrupt("return",new xy(a,(function(e){return Fv(i,e)})));case 5:case"end":return e.stop()}}),e)}))),_y.apply(this,arguments)}function Iy(e,t,n){return Ey.apply(this,arguments)}function Ey(){return(Ey=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Is(t),e.next=3,Dv(!1,i,"phone");case 3:return e.next=5,Ty(i.auth,n,Is(r));case 5:return a=e.sent,e.abrupt("return",new xy(a,(function(e){return Uv(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sy(){return(Sy=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Is(t),e.next=3,Ty(i.auth,n,Is(r));case 3:return a=e.sent,e.abrupt("return",new xy(a,(function(e){return zv(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ty(e,t,n){return Cy.apply(this,arguments)}function Cy(){return Cy=Ts(Es().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,fd("string"===typeof a,t,"argument-error"),fd(r.type===gy,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return fd("enroll"===u.type,t,"internal-error"),e.next=13,Em(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return fd("signin"===u.type,t,"internal-error"),fd(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,iy(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,nv(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Cy.apply(this,arguments)}function Ny(){return(Ny=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Av(Is(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ay=function(){function e(t){Lu(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ip(t)}return Ru(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ty(this.auth,e,Is(t))}}],[{key:"credential",value:function(e,t){return sv._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?sv._fromTokenResponse(n,r):null}}]),e}();function Oy(e,t){return t?vd(t):(fd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ay.PROVIDER_ID="phone",Ay.PHONE_SIGN_IN_METHOD="phone";var Dy=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ru(n,[{key:"_getIdTokenResponse",value:function(e){return Zp(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Zp(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Zp(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Np);function Ly(e){return Mv(e.auth,new Dy(e),e.bypassAuthState)}function Py(e){var t=e.auth,n=e.user;return fd(n,t,"internal-error"),Pv(n,new Dy(e),e.bypassAuthState)}function Ry(e){return My.apply(this,arguments)}function My(){return My=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,fd(r=t.user,n,"internal-error"),e.abrupt("return",Av(r,new Dy(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}var jy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Lu(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ru(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ts(Es().mark((function t(n,r){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ts(Es().mark((function e(t){var n,r,i,a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ly;case"linkViaPopup":case"linkViaRedirect":return Ry;case"reauthViaPopup":case"reauthViaRedirect":return Py;default:od(this.auth,"internal-error")}}},{key:"resolve",value:function(e){dd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){dd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Fy=new kd(2e3,1e4);function Vy(e,t,n){return Uy.apply(this,arguments)}function Uy(){return Uy=Ts(Es().mark((function e(t,n,r){var i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ip(t),cd(t,n,fv),a=Oy(i,r),o=new Hy(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Uy.apply(this,arguments)}function By(){return(By=Ts(Es().mark((function e(t,n,r){var i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd((i=Is(t)).auth,n,fv),a=Oy(i.auth,r),o=new Hy(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zy(e,t,n){return qy.apply(this,arguments)}function qy(){return(qy=Ts(Es().mark((function e(t,n,r){var i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd((i=Is(t)).auth,n,fv),a=Oy(i.auth,r),o=new Hy(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hy=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i,a,o){var u;return Lu(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ju(u),u}return Ru(n,[{key:"executeNotNull",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return fd(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ts(Es().mark((function e(){var t,n=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dd(1===this.filter.length,"Popup operations only handle one event"),t=jm(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ud(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ud(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ud(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Fy.get())}()}}]),n}(jy);Hy.currentPopupAction=null;var Wy=new Map,Ky=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Lu(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ru(n,[{key:"execute",value:function(){var e=Ts(Es().mark((function e(){var t,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Wy.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Gy(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Uh(Uu(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Wy.set(this.auth._key(),t);case 21:return this.bypassAuthState||Wy.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ts(Es().mark((function e(t){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Uh(Uu(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Uh(Uu(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(jy);function Gy(e,t){return Qy.apply(this,arguments)}function Qy(){return Qy=Ts(Es().mark((function e(t,n){var r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zy(n),i=Jy(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function Yy(e,t){return $y.apply(this,arguments)}function $y(){return $y=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jy(t)._set(Zy(n),"true"));case 1:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function Xy(e,t){Wy.set(e._key(),t)}function Jy(e){return vd(e._redirectPersistence)}function Zy(e){return up("pendingRedirect",e.config.apiKey,e.name)}function eg(e,t,n){return function(e,t,n){return tg.apply(this,arguments)}(e,t,n)}function tg(){return tg=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ip(t),cd(t,n,fv),a=Oy(i,r),e.next=5,Yy(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t,n){return function(e,t,n){return rg.apply(this,arguments)}(e,t,n)}function rg(){return(rg=Ts(Es().mark((function e(t,n,r){var i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd((i=Is(t)).auth,n,fv),a=Oy(i.auth,r),e.next=5,Yy(a,i.auth);case 5:return e.next=7,lg(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ig(e,t,n){return function(e,t,n){return ag.apply(this,arguments)}(e,t,n)}function ag(){return(ag=Ts(Es().mark((function e(t,n,r){var i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd((i=Is(t)).auth,n,fv),a=Oy(i.auth,r),e.next=5,Dv(!1,i,n.providerId);case 5:return e.next=7,Yy(a,i.auth);case 7:return e.next=9,lg(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function og(e,t){return ug.apply(this,arguments)}function ug(){return ug=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ip(t)._initializationPromise;case 2:return e.abrupt("return",sg(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ug.apply(this,arguments)}function sg(e,t){return cg.apply(this,arguments)}function cg(){return cg=Ts(Es().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ip(t),a=Oy(i,n),o=new Ky(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}function lg(e){return fg.apply(this,arguments)}function fg(){return(fg=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jm("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hg=function(){function e(t){Lu(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ru(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pg(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!pg(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ud(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dg(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(dg(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function dg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function pg(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function vg(e){return mg.apply(this,arguments)}function mg(){return mg=Ts(Es().mark((function e(t){var n,r=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ed(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),mg.apply(this,arguments)}var yg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gg=/^https?/;function kg(){return kg=Ts(Es().mark((function e(t){var n,r,i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,vg(t);case 4:n=e.sent,r=n.authorizedDomains,i=Mu(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!bg(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:od(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),kg.apply(this,arguments)}function bg(e){var t=md(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!gg.test(r))return!1;if(yg.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var wg=new kd(3e4,6e4);function xg(){var e=Vm().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Co(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var _g=null;function Ig(e){return _g=_g||function(e){return new Promise((function(t,n){var r,i,a;function o(){xg(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){xg(),n(ud(e,"network-request-failed"))},timeout:wg.get()})}if(null===(i=null===(r=Vm().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Vm().gapi)||void 0===a?void 0:a.load)){var u=sy("iframefcb");return Vm()[u]=function(){gapi.load?o():n(ud(e,"network-request-failed"))},uy("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw _g=null,e}))}(e),_g}var Eg=new kd(5e3,15e3),Sg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cg(e){var t=e.config;fd(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?bd(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:wc},i=Tg.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ms(r).slice(1))}function Ng(e){return Ag.apply(this,arguments)}function Ag(){return Ag=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ig(t);case 2:return n=e.sent,fd(r=Vm().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Cg(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sg,dontclear:!0},(function(e){return new Promise(function(){var n=Ts(Es().mark((function n(r,i){var a,o,u;return Es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Vm().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ud(t,"network-request-failed"),o=Vm().setTimeout((function(){i(a)}),Eg.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ag.apply(this,arguments)}var Og={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dg="_blank",Lg="http://localhost",Pg=function(){function e(t){Lu(this,e),this.window=t,this.associatedEvent=null}return Ru(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(WF){}}}]),e}();function Rg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Og),{width:r.toString(),height:i.toString(),top:a,left:o}),l=es().toLowerCase();n&&(u=hp(l)?Dg:n),lp(l)&&(t=t||Lg,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(gp(l)&&"_self"!==u)return Mg(t||"",u),new Pg(null);var h=window.open(t||"",u,f);fd(h,e,"popup-blocked");try{h.focus()}catch(WF){}return new Pg(h)}function Mg(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var jg="__/auth/handler",Fg="emulator/auth/handler";function Vg(e,t,n,r,i,a){fd(e.config.authDomain,e,"auth-domain-config-required"),fd(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wc,eventId:i};if(t instanceof fv){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof hv){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(jg);return bd(t,Fg)}(e),"?").concat(ms(p).slice(1))}var Ug="webStorageSupport",Bg=function(){function e(){Lu(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pm,this._completeRedirectFn=sg,this._overrideRedirectResult=Xy}return Ru(e,[{key:"_openPopup",value:function(){var e=Ts(Es().mark((function e(t,n,r,i){var a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dd(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Vg(t,n,r,md(),i),e.abrupt("return",Rg(t,o,jm()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ts(Es().mark((function e(t,n,r,i){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Vg(t,n,r,md(),i),Vm().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(dd(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ng(t);case 2:return n=e.sent,r=new hg(t),n.register("authEvent",(function(e){return fd(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ug,{type:Ug},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),od(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return kg.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return bp()||fp()||yp()}}]),e}(),zg=Bg,qg=function(){function e(t){Lu(this,e),this.factorId=t}return Ru(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return hd("unexpected MultiFactorSessionType")}}}]),e}(),Hg=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this,"phone")).credential=e,r}return Ru(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ed(e,"POST","/v2/accounts/mfaEnrollment:finalize",Id(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ed(e,"POST","/v2/accounts/mfaSignIn:finalize",Id(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(qg),Wg=function(){function e(){Lu(this,e)}return Ru(e,null,[{key:"assertion",value:function(e){return Hg._fromCredential(e)}}]),e}();Wg.FACTOR_ID="phone";var Kg,Gg="@firebase/auth",Qg="0.20.5",Yg=function(){function e(t){Lu(this,e),this.auth=t,this.internalListeners=new Map}return Ru(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){fd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function $g(){return window}Kg="Browser",pc(new Cs("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){fd(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),fd(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Kg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wp(Kg)},i=new _p(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vd);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),pc(new Cs("auth-internal",(function(e){return function(e){return new Yg(e)}(Ip(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Tc(Gg,Qg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Kg)),Tc(Gg,Qg,"esm2017");function Xg(e,t,n){return Jg.apply(this,arguments)}function Jg(){return Jg=Ts(Es().mark((function e(t,n,r){var i,a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$g(),o=a.BuildInfo,dd(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ik(n.sessionId);case 4:return u=e.sent,s={},yp()?s.ibi=o.packageName:pp()?s.apn=o.packageName:od(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Vg(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Jg.apply(this,arguments)}function Zg(){return Zg=Ts(Es().mark((function e(t){var n,r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$g(),r=n.BuildInfo,i={},yp()?i.iosBundleId=r.packageName:pp()?i.androidPackageName=r.packageName:od(t,"operation-not-supported-in-this-environment"),e.next=5,vg(t,i);case 5:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function ek(e){var t=$g().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function tk(e,t,n){return nk.apply(this,arguments)}function nk(){return nk=Ts(Es().mark((function e(t,n,r){var i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$g(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(ud(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),pp()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),nk.apply(this,arguments)}function rk(e){var t,n,r,i,a,o,u,s,c,l,f=$g();fd("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fd("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fd("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fd("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fd("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ik(e){return ak.apply(this,arguments)}function ak(){return(ak=Ts(Es().mark((function e(t){var n,r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ok(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ok(e){if(dd(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var uk=function(e){Vu(n,e);var t=Hu(n);function n(){var e;return Lu(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ru(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Uh(Uu(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(hg);function sk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:dk(),postBody:null,tenantId:e.tenantId,error:ud(e,"no-auth-event")}}function ck(e,t){return pk()._set(vk(e),t)}function lk(e){return fk.apply(this,arguments)}function fk(){return fk=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pk()._get(vk(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,pk()._remove(vk(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),fk.apply(this,arguments)}function hk(e,t){var n,r,i=function(e){var t=mk(e),n=t.link?decodeURIComponent(t.link):void 0,r=mk(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return mk(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=mk(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(WF){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ud(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function dk(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function pk(){return vd(Dm)}function vk(e){return up("authEvent",e.config.apiKey,e.name)}function mk(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||To(t)||u(t)||s();r[0];return ys(r.slice(1).join("?"))}var yk=function(){function e(){Lu(this,e),this._redirectPersistence=Pm,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=sg,this._overrideRedirectResult=Xy}return Ru(e,[{key:"_initialize",value:function(){var e=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new uk(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){od(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ts(Es().mark((function e(t,n,r,i){var a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rk(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Wy.clear(),e.next=10,this._originValidation(t);case 10:return o=sk(t,r,i),e.next=13,ck(t,o);case 13:return e.next=15,Xg(t,o,n);case 15:return u=e.sent,e.next=18,ek(u);case 18:return s=e.sent,e.abrupt("return",tk(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zg.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=$g(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ts(Es().mark((function n(){return Es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,lk(e);case 2:t.onEvent(kk());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ts(Es().mark((function n(r){var i,a;return Es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,lk(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=hk(i,r.url)),t.onEvent(a||kk());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");$g().handleOpenURL=function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(WF){console.error(WF)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),gk=yk;function kk(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ud("no-auth-event")}}function bk(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function wk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return!("file:"!==bk()&&"ionic:"!==bk()&&"capacitor:"!==bk()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function xk(){return as()&&11===(null===document||void 0===document?void 0:document.documentMode)}function _k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return/Edge\/\d+/.test(e)}function Ik(){try{var e=self.localStorage,t=jm();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es();return xk()||_k(e)}()||os()}catch(WF){return Ek()&&os()}return!1}function Ek(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Sk(){return("http:"===bk()||"https:"===bk()||rs()||wk())&&!(is()||ns())&&Ik()&&!Ek()}function Tk(){return wk()&&"undefined"!==typeof document}function Ck(){return Nk.apply(this,arguments)}function Nk(){return(Nk=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tk()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ak={LOCAL:"local",NONE:"none",SESSION:"session"},Ok=fd,Dk="persistence";function Lk(e,t){Ok(Object.values(Ak).includes(t),e,"invalid-persistence-type"),is()?Ok(t!==Ak.SESSION,e,"unsupported-persistence-type"):ns()?Ok(t===Ak.NONE,e,"unsupported-persistence-type"):Ek()?Ok(t===Ak.NONE||t===Ak.LOCAL&&os(),e,"unsupported-persistence-type"):Ok(t===Ak.NONE||Ik(),e,"unsupported-persistence-type")}function Pk(e){return Rk.apply(this,arguments)}function Rk(){return Rk=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Mk(),r=up(Dk,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}function Mk(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(WF){return null}}var jk=fd,Fk=function(){function e(){Lu(this,e),this.browserResolver=vd(zg),this.cordovaResolver=vd(gk),this.underlyingResolver=null,this._redirectPersistence=Pm,this._completeRedirectFn=sg,this._overrideRedirectResult=Xy}return Ru(e,[{key:"_initialize",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ts(Es().mark((function e(t,n,r,i){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ts(Es().mark((function e(t,n,r,i){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Tk()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return jk(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ck();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vk(e){return e.unwrap()}function Uk(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Wk(e,function(e,t){var n,r=Is(e),i=t;return fd(t.customData.operationType,r,"argument-error"),fd(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Im._fromError(r,i)}(e,t));else if(i){var a=Bk(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Bk(e){var t=(e instanceof cs?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof cs)&&"temporaryProof"in t&&"phoneNumber"in t)return Ay.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Kh)return null;switch(r){case Wh:n=vv;break;case qh:n=pv;break;case Hh:n=mv;break;case Gh:n=kv;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?yv._create(r,u):tv._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new dv(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof cs?n.credentialFromError(e):n.credentialFromResult(e)}function zk(e,t){return t.catch((function(t){throw t instanceof cs&&Uk(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Bk(t)),additionalUserInfo:xm(e),user:Kk.getOrCreate(r)}}))}function qk(e,t){return Hk.apply(this,arguments)}function Hk(){return Hk=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return zk(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Hk.apply(this,arguments)}var Wk=function(){function e(t,n){Lu(this,e),this.resolver=n,this.auth=t.wrapped()}return Ru(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return zk(Vk(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Kk=function(){function e(t){Lu(this,e),this._delegate=t,this.multiFactor=function(e){var t=Is(e);return Cm.has(t)||Cm.set(t,Tm._fromUser(t)),Cm.get(t)}(t)}return Ru(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zk(this.auth,Uv(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qk(this.auth,Iy(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zk(this.auth,zy(this._delegate,t,Fk)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pk(Ip(this.auth));case 2:return e.abrupt("return",ig(this._delegate,t,Fk));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zk(this.auth,zv(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return qk(this.auth,function(e,t,n){return Sy.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return zk(this.auth,function(e,t,n){return By.apply(this,arguments)}(this._delegate,e,Fk))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pk(Ip(this.auth));case 2:return e.abrupt("return",ng(this._delegate,t,Fk));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return cm.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cv(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return pm(Is(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return pm(Is(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Ny.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return dm.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return lm.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Kk.USER_MAP=new WeakMap;var Gk=fd,Qk=function(){function e(t,n){if(Lu(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Gk(r,"invalid-api-key",{appName:t.name}),Gk(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Fk:void 0;this._delegate=n.initialize({options:{persistence:$k(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(td),this.linkUnderlyingAuth()}return Ru(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Kk.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Sp(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Jv.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Zv(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Xv.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zk(this._delegate,nm(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return sm.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=cv.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gk(Sk(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,og(this._delegate,Fk);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",zk(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ip(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Yk(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Yk(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return im.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return $v.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lk(this._delegate,t),e.t0=t,e.next=e.t0===Ak.SESSION?4:e.t0===Ak.LOCAL?6:e.t0===Ak.NONE?11:13;break;case 4:return n=Pm,e.abrupt("break",14);case 6:return e.next=8,vd(ry)._isAvailable();case 8:return r=e.sent,n=r?ry:Dm,e.abrupt("break",14);case 11:return n=op,e.abrupt("break",14);case 13:return e.abrupt("return",od("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return zk(this._delegate,function(e){return Iv.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return zk(this._delegate,Fv(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return zk(this._delegate,function(e,t){return Kv.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return zk(this._delegate,function(e,t,n){return Fv(Is(e),lv.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return zk(this._delegate,function(e,t,n){return am.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return qk(this._delegate,function(e,t,n){return _y.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gk(Sk(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",zk(this._delegate,Vy(this._delegate,t,Fk)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gk(Sk(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Pk(this._delegate);case 3:return e.abrupt("return",eg(this._delegate,t,Fk));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return tm.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Yk(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Kk.getOrCreate(e))},error:t,complete:n}}function $k(e,t){var n=function(e,t){var n=Mk();if(!n)return[];var r=up(Dk,e,t);switch(n.getItem(r)){case Ak.NONE:return[op];case Ak.LOCAL:return[ry,Pm];case Ak.SESSION:return[Pm];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ry)||n.push(ry),"undefined"!==typeof window)for(var r=0,i=[Dm,Pm];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(op)||n.push(op),n}Qk.Persistence=Ak;var Xk=function(){function e(){Lu(this,e),this.providerId="phone",this._delegate=new Ay(Vk(Xc.auth()))}return Ru(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ay.credential(e,t)}}]),e}();Xk.PHONE_SIGN_IN_METHOD=Ay.PHONE_SIGN_IN_METHOD,Xk.PROVIDER_ID=Ay.PROVIDER_ID;var Jk,Zk=fd,eb=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xc.app();Lu(this,e),Zk(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new by(t,n,i.auth()),this.type=this._delegate.type}return Ru(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Jk=Xc).INTERNAL.registerComponent(new Cs("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Qk(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Qh,PASSWORD_RESET:Yh,RECOVER_EMAIL:$h,REVERT_SECOND_FACTOR_ADDITION:Xh,VERIFY_AND_CHANGE_EMAIL:Jh,VERIFY_EMAIL:Zh}},EmailAuthProvider:lv,FacebookAuthProvider:pv,GithubAuthProvider:mv,GoogleAuthProvider:vv,OAuthProvider:dv,SAMLAuthProvider:gv,PhoneAuthProvider:Xk,PhoneMultiFactorGenerator:Wg,RecaptchaVerifier:eb,TwitterAuthProvider:kv,Auth:Qk,AuthCredential:Np,Error:cs}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Jk.registerVersion("@firebase/auth-compat","0.2.18");var tb,nb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},rb={},ib=ib||{},ab=nb||self;function ob(){}function ub(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function sb(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var cb="closure_uid_"+(1e9*Math.random()>>>0),lb=0;function fb(e,t,n){return e.call.apply(e.bind,arguments)}function hb(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function db(e,t,n){return(db=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fb:hb).apply(null,arguments)}function pb(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function vb(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function mb(){this.s=this.s,this.o=this.o}var yb={};mb.prototype.s=!1,mb.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,cb)&&e[cb]||(e[cb]=++lb)}(this);delete yb[e]}},mb.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var gb=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},kb=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function bb(e){return Array.prototype.concat.apply([],arguments)}function wb(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function xb(e){return/^[\s\xa0]*$/.test(e)}var _b,Ib=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Eb(e,t){return-1!=e.indexOf(t)}function Sb(e,t){return e<t?-1:e>t?1:0}e:{var Tb=ab.navigator;if(Tb){var Cb=Tb.userAgent;if(Cb){_b=Cb;break e}}_b=""}function Nb(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ab(e){var t={};for(var n in e)t[n]=e[n];return t}var Ob="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Db(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ob.length;a++)n=Ob[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Lb(e){return Lb[" "](e),e}Lb[" "]=ob;var Pb,Rb=Eb(_b,"Opera"),Mb=Eb(_b,"Trident")||Eb(_b,"MSIE"),jb=Eb(_b,"Edge"),Fb=jb||Mb,Vb=Eb(_b,"Gecko")&&!(Eb(_b.toLowerCase(),"webkit")&&!Eb(_b,"Edge"))&&!(Eb(_b,"Trident")||Eb(_b,"MSIE"))&&!Eb(_b,"Edge"),Ub=Eb(_b.toLowerCase(),"webkit")&&!Eb(_b,"Edge");function Bb(){var e=ab.document;return e?e.documentMode:void 0}e:{var zb="",qb=function(){var e=_b;return Vb?/rv:([^\);]+)(\)|;)/.exec(e):jb?/Edge\/([\d\.]+)/.exec(e):Mb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ub?/WebKit\/(\S+)/.exec(e):Rb?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(qb&&(zb=qb?qb[1]:""),Mb){var Hb=Bb();if(null!=Hb&&Hb>parseFloat(zb)){Pb=String(Hb);break e}}Pb=zb}var Wb,Kb={};function Gb(){return function(e){var t=Kb;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ib(String(Pb)).split("."),n=Ib("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Sb(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Sb(0==a[2].length,0==o[2].length)||Sb(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ab.document&&Mb){var Qb=Bb();Wb=Qb||(parseInt(Pb,10)||void 0)}else Wb=void 0;var Yb=Wb,$b=function(){if(!ab.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ab.addEventListener("test",ob,t),ab.removeEventListener("test",ob,t)}catch(n){}return e}();function Xb(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Jb(e,t){if(Xb.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vb){e:{try{Lb(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zb[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Jb.Z.h.call(this)}}Xb.prototype.h=function(){this.defaultPrevented=!0},vb(Jb,Xb);var Zb={2:"touch",3:"pen",4:"mouse"};Jb.prototype.h=function(){Jb.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ew="closure_listenable_"+(1e6*Math.random()|0),tw=0;function nw(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++tw,this.ca=this.fa=!1}function rw(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function iw(e){this.src=e,this.g={},this.h=0}function aw(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=gb(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(rw(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ow(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}iw.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ow(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new nw(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var uw="closure_lm_"+(1e6*Math.random()|0),sw={};function cw(e,t,n,r,i){if(r&&r.once)return fw(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)cw(e,t[a],n,r,i);return null}return n=gw(n),e&&e[ew]?e.N(t,n,sb(r)?!!r.capture:!!r,i):lw(e,t,n,!1,r,i)}function lw(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=sb(i)?!!i.capture:!!i,u=mw(e);if(u||(e[uw]=u=new iw(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=vw;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$b||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pw(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fw(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)fw(e,t[a],n,r,i);return null}return n=gw(n),e&&e[ew]?e.O(t,n,sb(r)?!!r.capture:!!r,i):lw(e,t,n,!0,r,i)}function hw(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)hw(e,t[a],n,r,i);else r=sb(r)?!!r.capture:!!r,n=gw(n),e&&e[ew]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ow(a=e.g[t],n,r,i))&&(rw(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=mw(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ow(t,n,r,i)),(n=-1<e?t[e]:null)&&dw(n))}function dw(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ew])aw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pw(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=mw(t))?(aw(n,e),0==n.h&&(n.src=null,t[uw]=null)):rw(e)}}}function pw(e){return e in sw?sw[e]:sw[e]="on"+e}function vw(e,t){if(e.ca)e=!0;else{t=new Jb(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&dw(e),e=n.call(r,t)}return e}function mw(e){return(e=e[uw])instanceof iw?e:null}var yw="__closure_events_fn_"+(1e9*Math.random()>>>0);function gw(e){return"function"===typeof e?e:(e[yw]||(e[yw]=function(t){return e.handleEvent(t)}),e[yw])}function kw(){mb.call(this),this.i=new iw(this),this.P=this,this.I=null}function bw(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Xb(t,e);else if(t instanceof Xb)t.target=t.target||e;else{var i=t;Db(t=new Xb(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ww(o,r,!0,t)&&i}if(i=ww(o=t.g=e,r,!0,t)&&i,i=ww(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ww(o=t.g=n[a],r,!1,t)&&i}function ww(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&aw(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}vb(kw,mb),kw.prototype[ew]=!0,kw.prototype.removeEventListener=function(e,t,n,r){hw(this,e,t,n,r)},kw.prototype.M=function(){if(kw.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rw(n[r]);delete t.g[e],t.h--}}this.I=null},kw.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},kw.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xw=ab.JSON.stringify;function _w(){var e=Ow,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Iw,Ew=function(){function e(){Lu(this,e),this.h=this.g=null}return Ru(e,[{key:"add",value:function(e,t){var n=Sw.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Sw=new(function(){function e(t,n){Lu(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ru(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Tw}),(function(e){return e.reset()})),Tw=function(){function e(){Lu(this,e),this.next=this.g=this.h=null}return Ru(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Cw(e){ab.setTimeout((function(){throw e}),0)}function Nw(e,t){Iw||function(){var e=ab.Promise.resolve(void 0);Iw=function(){e.then(Dw)}}(),Aw||(Iw(),Aw=!0),Ow.add(e,t)}var Aw=!1,Ow=new Ew;function Dw(){for(var e;e=_w();){try{e.h.call(e.g)}catch(n){Cw(n)}var t=Sw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Aw=!1}function Lw(e,t){kw.call(this),this.h=e||1,this.g=t||ab,this.j=db(this.kb,this),this.l=Date.now()}function Pw(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Rw(e,t,n){if("function"===typeof e)n&&(e=db(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=db(e.handleEvent,e)}return 2147483647<Number(t)?-1:ab.setTimeout(e,t||0)}function Mw(e){e.g=Rw((function(){e.g=null,e.i&&(e.i=!1,Mw(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}vb(Lw,kw),(tb=Lw.prototype).da=!1,tb.S=null,tb.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bw(this,"tick"),this.da&&(Pw(this),this.start()))}},tb.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tb.M=function(){Lw.Z.M.call(this),Pw(this),delete this.g};var jw=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ru(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Mw(this)}},{key:"M",value:function(){Uh(Uu(n.prototype),"M",this).call(this),this.g&&(ab.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(mb);function Fw(e){mb.call(this),this.h=e,this.g={}}vb(Fw,mb);var Vw=[];function Uw(e,t,n,r){Array.isArray(n)||(n&&(Vw[0]=n.toString()),n=Vw);for(var i=0;i<n.length;i++){var a=cw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Bw(e){Nb(e.g,(function(e,t){this.g.hasOwnProperty(t)&&dw(e)}),e),e.g={}}function zw(){this.g=!0}function qw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return xw(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Fw.prototype.M=function(){Fw.Z.M.call(this),Bw(this)},Fw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zw.prototype.Aa=function(){this.g=!1},zw.prototype.info=function(){};var Hw={},Ww=null;function Kw(){return Ww=Ww||new kw}function Gw(e){Xb.call(this,Hw.Ma,e)}function Qw(e){var t=Kw();bw(t,new Gw(t,e))}function Yw(e,t){Xb.call(this,Hw.STAT_EVENT,e),this.stat=t}function $w(e){var t=Kw();bw(t,new Yw(t,e))}function Xw(e,t){Xb.call(this,Hw.Na,e),this.size=t}function Jw(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ab.setTimeout((function(){e()}),t)}Hw.Ma="serverreachability",vb(Gw,Xb),Hw.STAT_EVENT="statevent",vb(Yw,Xb),Hw.Na="timingevent",vb(Xw,Xb);var Zw={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ex={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tx(){}function nx(e){return e.h||(e.h=e.i())}function rx(){}tx.prototype.h=null;var ix,ax={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ox(){Xb.call(this,"d")}function ux(){Xb.call(this,"c")}function sx(){}function cx(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Fw(this),this.P=fx,e=Fb?125:void 0,this.W=new Lw(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lx}function lx(){this.i=null,this.g="",this.h=!1}vb(ox,Xb),vb(ux,Xb),vb(sx,tx),sx.prototype.g=function(){return new XMLHttpRequest},sx.prototype.i=function(){return{}},ix=new sx;var fx=45e3,hx={},dx={};function px(e,t,n){e.K=1,e.v=jx(Ox(t)),e.s=n,e.U=!0,vx(e,null)}function vx(e,t){e.F=Date.now(),kx(e),e.A=Ox(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),$x(n.h,"t",r),e.C=0,n=e.l.H,e.h=new lx,e.g=J_(e.l,n?t:null,!e.s),0<e.O&&(e.L=new jw(db(e.Ia,e,e.g),e.O)),Uw(e.V,e.g,"readystatechange",e.gb),t=e.H?Ab(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Qw(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function mx(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function yx(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=gx(e,n))==dx){4==t&&(e.o=4,$w(14),i=!1),qw(e.j,e.m,null,"[Incomplete Response]");break}if(r==hx){e.o=4,$w(15),qw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qw(e.j,e.m,r,null),Ix(e,r)}mx(e)&&r!=dx&&r!=hx&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,$w(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),H_(t),t.L=!0,$w(11))):(qw(e.j,e.m,n,"[Invalid Chunked Response]"),_x(e),xx(e))}function gx(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?dx:(n=Number(t.substring(n,r)),isNaN(n)?hx:(r+=1)+n>t.length?dx:(t=t.substr(r,n),e.C=r+n,t))}function kx(e){e.Y=Date.now()+e.P,bx(e,e.P)}function bx(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Jw(db(e.eb,e),t)}function wx(e){e.B&&(ab.clearTimeout(e.B),e.B=null)}function xx(e){0==e.l.G||e.I||G_(e.l,e)}function _x(e){wx(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Pw(e.W),Bw(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ix(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||i_(n.i,e)))if(n.I=e.N,!e.J&&i_(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;K_(n),R_(n)}q_(n),$w(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Jw(db(n.ab,n),6e3));if(1>=r_(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Y_(n,11)}else if((e.J||n.g==e)&&K_(n),!xb(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Eb(l,"spdy")||Eb(l,"quic")||Eb(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(a_(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Mx(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=X_(r,r.H?r.la:null,r.W),d.J){o_(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(wx(p),kx(p)),r.g=d}else z_(r);0<n.l.length&&F_(n)}else"stop"!=a[0]&&"close"!=a[0]||Y_(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Y_(n,7):P_(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Qw(4)}catch(a){}}function Ex(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ub(e)||"string"===typeof e)kb(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ub(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ub(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Sx(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Sx)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Tx(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Cx(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Cx(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Cx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(tb=cx.prototype).setTimeout=function(e){this.P=e},tb.gb=function(e){e=e.target;var t=this.L;t&&3==N_(e)?t.l():this.Ia(e)},tb.Ia=function(e){try{if(e==this.g)e:{var t=N_(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Fb||this.g&&(this.h.h||this.g.ga()||A_(this.g)))){this.I||4!=t||7==n||Qw(8==n||0>=r?3:2),wx(this);var i=this.g.ba();this.N=i;t:if(mx(this)){var a=A_(this.g);e="";var o=a.length,u=4==N_(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_x(this),xx(this);var s="";break t}this.h.i=new ab.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xb(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,$w(12),_x(this),xx(this);break e}qw(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ix(this,i)}this.U?(yx(this,t,s),Fb&&this.i&&3==t&&(Uw(this.V,this.W,"tick",this.fb),this.W.start())):(qw(this.j,this.m,s,null),Ix(this,s)),4==t&&_x(this),this.i&&!this.I&&(4==t?G_(this.l,this):(this.i=!1,kx(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,$w(12)):(this.o=0,$w(13)),_x(this),xx(this)}}}catch(t){}},tb.fb=function(){if(this.g){var e=N_(this.g),t=this.g.ga();this.C<t.length&&(wx(this),yx(this,e,t),this.i&&4!=e&&kx(this))}},tb.cancel=function(){this.I=!0,_x(this)},tb.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Qw(3),$w(17)),_x(this),this.o=2,xx(this)):bx(this,this.Y-e)},(tb=Sx.prototype).R=function(){Tx(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},tb.T=function(){return Tx(this),this.g.concat()},tb.get=function(e,t){return Cx(this.h,e)?this.h[e]:t},tb.set=function(e,t){Cx(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},tb.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Nx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ax(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ax){this.g=void 0!==t?t:e.g,Dx(this,e.j),this.s=e.s,Lx(this,e.i),Px(this,e.m),this.l=e.l,t=e.h;var n=new Kx;n.i=t.i,t.g&&(n.g=new Sx(t.g),n.h=t.h),Rx(this,n),this.o=e.o}else e&&(n=String(e).match(Nx))?(this.g=!!t,Dx(this,n[1]||"",!0),this.s=Fx(n[2]||""),Lx(this,n[3]||"",!0),Px(this,n[4]),this.l=Fx(n[5]||"",!0),Rx(this,n[6]||"",!0),this.o=Fx(n[7]||"")):(this.g=!!t,this.h=new Kx(null,this.g))}function Ox(e){return new Ax(e)}function Dx(e,t,n){e.j=n?Fx(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lx(e,t,n){e.i=n?Fx(t,!0):t}function Px(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Rx(e,t,n){t instanceof Kx?(e.h=t,function(e,t){t&&!e.j&&(Gx(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qx(this,t),$x(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Vx(t,Hx)),e.h=new Kx(t,e.g))}function Mx(e,t,n){e.h.set(t,n)}function jx(e){return Mx(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fx(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vx(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ux),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ux(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ax.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vx(t,Bx,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vx(t,Bx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vx(n,"/"==n.charAt(0)?qx:zx,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vx(n,Wx)),e.join("")};var Bx=/[#\/\?@]/g,zx=/[#\?:]/g,qx=/[#\?]/g,Hx=/[#\?@]/g,Wx=/#/g;function Kx(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gx(e){e.g||(e.g=new Sx,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qx(e,t){Gx(e),t=Xx(e,t),Cx(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Cx((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Tx(e)))}function Yx(e,t){return Gx(e),t=Xx(e,t),Cx(e.g.h,t)}function $x(e,t,n){Qx(e,t),0<n.length&&(e.i=null,e.g.set(Xx(e,t),wb(n)),e.h+=n.length)}function Xx(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(tb=Kx.prototype).add=function(e,t){Gx(this),this.i=null,e=Xx(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},tb.forEach=function(e,t){Gx(this),this.g.forEach((function(n,r){kb(n,(function(n){e.call(t,n,r,this)}),this)}),this)},tb.T=function(){Gx(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},tb.R=function(e){Gx(this);var t=[];if("string"===typeof e)Yx(this,e)&&(t=bb(t,this.g.get(Xx(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=bb(t,e[n])}return t},tb.set=function(e,t){return Gx(this),this.i=null,Yx(this,e=Xx(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},tb.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},tb.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Jx=Ru((function e(t,n){Lu(this,e),this.h=t,this.g=n}));function Zx(e){this.l=e||t_,ab.PerformanceNavigationTiming?e=0<(e=ab.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ab.g&&ab.g.Ea&&ab.g.Ea()&&ab.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var e_,t_=10;function n_(e){return!!e.h||!!e.g&&e.g.size>=e.j}function r_(e){return e.h?1:e.g?e.g.size:0}function i_(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function a_(e,t){e.g?e.g.add(t):e.h=t}function o_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function u_(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Mu(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return wb(e.i)}function s_(){}function c_(){this.g=new s_}function l_(e,t,n){var r=n||"";try{Ex(e,(function(e,n){var i=e;sb(e)&&(i=xw(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(WF){throw t.push(r+"type="+encodeURIComponent("_badmap")),WF}}function f_(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function h_(e){this.l=e.$b||null,this.j=e.ib||!1}function d_(e,t){kw.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=p_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zx.prototype.cancel=function(){if(this.i=u_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Mu(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},s_.prototype.stringify=function(e){return ab.JSON.stringify(e,void 0)},s_.prototype.parse=function(e){return ab.JSON.parse(e,void 0)},vb(h_,tx),h_.prototype.g=function(){return new d_(this.l,this.j)},h_.prototype.i=(e_={},function(){return e_}),vb(d_,kw);var p_=0;function v_(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function m_(e){e.readyState=4,e.l=null,e.j=null,e.A=null,y_(e)}function y_(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(tb=d_.prototype).open=function(e,t){if(this.readyState!=p_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,y_(this)},tb.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ab).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},tb.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,m_(this)),this.readyState=p_},tb.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,y_(this)),this.g&&(this.readyState=3,y_(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ab.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;v_(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},tb.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?m_(this):y_(this),3==this.readyState&&v_(this)}},tb.Ua=function(e){this.g&&(this.response=this.responseText=e,m_(this))},tb.Ta=function(e){this.g&&(this.response=e,m_(this))},tb.ha=function(){this.g&&m_(this)},tb.setRequestHeader=function(e,t){this.v.append(e,t)},tb.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},tb.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(d_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var g_=ab.JSON.parse;function k_(e){kw.call(this),this.headers=new Sx,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=b_,this.K=this.L=!1}vb(k_,kw);var b_="",w_=/^https?$/i,x_=["POST","PUT"];function __(e){return"content-type"==e.toLowerCase()}function I_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,E_(e),T_(e)}function E_(e){e.D||(e.D=!0,bw(e,"complete"),bw(e,"error"))}function S_(e){if(e.h&&"undefined"!=typeof ib&&(!e.C[1]||4!=N_(e)||2!=e.ba()))if(e.v&&4==N_(e))Rw(e.Fa,0,e);else if(bw(e,"readystatechange"),4==N_(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Nx)[1]||null;if(!a&&ab.self&&ab.self.location){var o=ab.self.location.protocol;a=o.substr(0,o.length-1)}i=!w_.test(a?a.toLowerCase():"")}t=i}if(t)bw(e,"complete"),bw(e,"success");else{e.m=6;try{var u=2<N_(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",E_(e)}}finally{T_(e)}}}function T_(e,t){if(e.g){C_(e);var n=e.g,r=e.C[0]?ob:null;e.g=null,e.C=null,t||bw(e,"ready");try{n.onreadystatechange=r}catch(WF){}}}function C_(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ab.clearTimeout(e.A),e.A=null)}function N_(e){return e.g?e.g.readyState:0}function A_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case b_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function O_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Nb(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Mx(e,t,n))}function D_(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function L_(e){this.za=0,this.l=[],this.h=new zw,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=D_("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=D_("baseRetryDelayMs",5e3,e),this.$a=D_("retryDelaySeedMs",1e4,e),this.Ya=D_("forwardChannelMaxRetries",2,e),this.ra=D_("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Zx(e&&e.concurrentRequestLimit),this.Ca=new c_,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function P_(e){if(M_(e),3==e.G){var t=e.V++,n=Ox(e.F);Mx(n,"SID",e.J),Mx(n,"RID",t),Mx(n,"TYPE","terminate"),U_(e,n),(t=new cx(e,e.h,t,void 0)).K=2,t.v=jx(Ox(n)),n=!1,ab.navigator&&ab.navigator.sendBeacon&&(n=ab.navigator.sendBeacon(t.v.toString(),"")),!n&&ab.Image&&((new Image).src=t.v,n=!0),n||(t.g=J_(t.l,null),t.g.ea(t.v)),t.F=Date.now(),kx(t)}$_(e)}function R_(e){e.g&&(H_(e),e.g.cancel(),e.g=null)}function M_(e){R_(e),e.u&&(ab.clearTimeout(e.u),e.u=null),K_(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ab.clearTimeout(e.m),e.m=null)}function j_(e,t){e.l.push(new Jx(e.Za++,t)),3==e.G&&F_(e)}function F_(e){n_(e.i)||e.m||(e.m=!0,Nw(e.Ha,e),e.C=0)}function V_(e,t){var n;n=t?t.m:e.V++;var r=Ox(e.F);Mx(r,"SID",e.J),Mx(r,"RID",n),Mx(r,"AID",e.U),U_(e,r),e.o&&e.s&&O_(r,e.o,e.s),n=new cx(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=B_(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),a_(e.i,n),px(n,r,t)}function U_(e,t){e.j&&Ex({},(function(e,n){Mx(t,n,e)}))}function B_(e,t,n){n=Math.min(e.l.length,n);var r=e.j?db(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{l_(l,o,"req"+c+"_")}catch(SI){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function z_(e){e.g||e.u||(e.Y=1,Nw(e.Ga,e),e.A=0)}function q_(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Jw(db(e.Ga,e),Q_(e,e.A)),e.A++,!0)}function H_(e){null!=e.B&&(ab.clearTimeout(e.B),e.B=null)}function W_(e){e.g=new cx(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ox(e.oa);Mx(t,"RID","rpc"),Mx(t,"SID",e.J),Mx(t,"CI",e.N?"0":"1"),Mx(t,"AID",e.U),U_(e,t),Mx(t,"TYPE","xmlhttp"),e.o&&e.s&&O_(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=jx(Ox(t)),n.s=null,n.U=!0,vx(n,e)}function K_(e){null!=e.v&&(ab.clearTimeout(e.v),e.v=null)}function G_(e,t){var n=null;if(e.g==t){K_(e),H_(e),e.g=null;var r=2}else{if(!i_(e.i,t))return;n=t.D,o_(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;bw(r=Kw(),new Xw(r,n,t,i)),F_(e)}else z_(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(r_(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Jw(db(e.Ha,e,t),Q_(e,e.C)),e.C++,!0))}(e,t)||2==r&&q_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Y_(e,5);break;case 4:Y_(e,10);break;case 3:Y_(e,6);break;default:Y_(e,2)}}function Q_(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Y_(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=db(e.jb,e);n||(n=new Ax("//www.google.com/images/cleardot.gif"),ab.location&&"http"==ab.location.protocol||Dx(n,"https"),jx(n)),function(e,t){var n=new zw;if(ab.Image){var r=new Image;r.onload=pb(f_,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pb(f_,n,r,"TestLoadImage: error",!1,t),r.onabort=pb(f_,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pb(f_,n,r,"TestLoadImage: timeout",!1,t),ab.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else $w(2);e.G=0,e.j&&e.j.va(t),$_(e),M_(e)}function $_(e){e.G=0,e.I=-1,e.j&&(0==u_(e.i).length&&0==e.l.length||(e.i.i.length=0,wb(e.l),e.l.length=0),e.j.ua())}function X_(e,t,n){var r=function(e){return e instanceof Ax?Ox(e):new Ax(e,void 0)}(n);if(""!=r.i)t&&Lx(r,t+"."+r.i),Px(r,r.m);else{var i=ab.location;r=function(e,t,n,r){var i=new Ax(null,void 0);return e&&Dx(i,e),t&&Lx(i,t),n&&Px(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Nb(e.aa,(function(e,t){Mx(r,t,e)})),t=e.D,n=e.sa,t&&n&&Mx(r,t,n),Mx(r,"VER",e.ma),U_(e,r),r}function J_(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new k_(new h_({ib:!0})):new k_(e.qa)).L=e.H,t}function Z_(){}function eI(){if(Mb&&!(10<=Number(Yb)))throw Error("Environmental error: no available transport.")}function tI(e,t){kw.call(this),this.g=new L_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!xb(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xb(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new iI(this)}function nI(e){ox.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function rI(){ux.call(this),this.status=1}function iI(e){this.g=e}(tb=k_.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ix.g(),this.C=this.u?nx(this.u):nx(ix),this.g.onreadystatechange=db(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void I_(this,a)}e=n||"";var i=new Sx(this.headers);r&&Ex(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=__,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ab.FormData&&e instanceof ab.FormData,!(0<=gb(x_,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{C_(this),0<this.B&&((this.K=function(e){return Mb&&Gb()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=db(this.pa,this)):this.A=Rw(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){I_(this,a)}},tb.pa=function(){"undefined"!=typeof ib&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bw(this,"timeout"),this.abort(8))},tb.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bw(this,"complete"),bw(this,"abort"),T_(this))},tb.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),T_(this,!0)),k_.Z.M.call(this)},tb.Fa=function(){this.s||(this.F||this.v||this.l?S_(this):this.cb())},tb.cb=function(){S_(this)},tb.ba=function(){try{return 2<N_(this)?this.g.status:-1}catch(e_){return-1}},tb.ga=function(){try{return this.g?this.g.responseText:""}catch(e_){return""}},tb.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),g_(t)}},tb.Da=function(){return this.m},tb.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(tb=L_.prototype).ma=8,tb.G=1,tb.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},tb.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new cx(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Db(n=Ab(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=B_(this,t,r),Mx(i=Ox(this.F),"RID",e),Mx(i,"CVER",22),this.D&&Mx(i,"X-HTTP-Session-Id",this.D),U_(this,i),this.o&&n&&O_(i,this.o,n),a_(this.i,t),this.Ra&&Mx(i,"TYPE","init"),this.ja?(Mx(i,"$req",r),Mx(i,"SID","null"),t.$=!0,px(t,i,null)):px(t,i,r),this.G=2}}else 3==this.G&&(e?V_(this,e):0==this.l.length||n_(this.i)||V_(this))},tb.Ga=function(){if(this.u=null,W_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Jw(db(this.bb,this),e)}},tb.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$w(10),R_(this),W_(this))},tb.ab=function(){null!=this.v&&(this.v=null,R_(this),q_(this),$w(19))},tb.jb=function(e){e?(this.h.info("Successfully pinged google.com"),$w(2)):(this.h.info("Failed to ping google.com"),$w(1))},(tb=Z_.prototype).xa=function(){},tb.wa=function(){},tb.va=function(){},tb.ua=function(){},tb.Oa=function(){},eI.prototype.g=function(e,t){return new tI(e,t)},vb(tI,kw),tI.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Nw(db(e.hb,e,t))),$w(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=X_(e,null,e.W),F_(e)},tI.prototype.close=function(){P_(this.g)},tI.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,j_(this.g,t)}else this.v?((t={}).__data__=xw(e),j_(this.g,t)):j_(this.g,e)},tI.prototype.M=function(){this.g.j=null,delete this.j,P_(this.g),delete this.g,tI.Z.M.call(this)},vb(nI,ox),vb(rI,ux),vb(iI,Z_),iI.prototype.xa=function(){bw(this.g,"a")},iI.prototype.wa=function(e){bw(this.g,new nI(e))},iI.prototype.va=function(e){bw(this.g,new rI(e))},iI.prototype.ua=function(){bw(this.g,"b")},eI.prototype.createWebChannel=eI.prototype.g,tI.prototype.send=tI.prototype.u,tI.prototype.open=tI.prototype.m,tI.prototype.close=tI.prototype.close,Zw.NO_ERROR=0,Zw.TIMEOUT=8,Zw.HTTP_ERROR=6,ex.COMPLETE="complete",rx.EventType=ax,ax.OPEN="a",ax.CLOSE="b",ax.ERROR="c",ax.MESSAGE="d",kw.prototype.listen=kw.prototype.N,k_.prototype.listenOnce=k_.prototype.O,k_.prototype.getLastError=k_.prototype.La,k_.prototype.getLastErrorCode=k_.prototype.Da,k_.prototype.getStatus=k_.prototype.ba,k_.prototype.getResponseJson=k_.prototype.Qa,k_.prototype.getResponseText=k_.prototype.ga,k_.prototype.send=k_.prototype.ea;var aI=rb.createWebChannelTransport=function(){return new eI},oI=rb.getStatEventTarget=function(){return Kw()},uI=rb.ErrorCode=Zw,sI=rb.EventType=ex,cI=rb.Event=Hw,lI=rb.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fI=rb.FetchXmlHttpFactory=h_,hI=rb.WebChannel=rx,dI=rb.XhrIo=k_,pI="@firebase/firestore",vI=function(){function e(t){Lu(this,e),this.uid=t}return Ru(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();vI.UNAUTHENTICATED=new vI(null),vI.GOOGLE_CREDENTIALS=new vI("google-credentials-uid"),vI.FIRST_PARTY=new vI("first-party-uid"),vI.MOCK_USER=new vI("mock-user");var mI="9.9.2",yI=new Vs("@firebase/firestore");function gI(){return yI.logLevel}function kI(e){if(yI.logLevel<=Ds.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xI);yI.debug.apply(yI,["Firestore (".concat(mI,"): ").concat(e)].concat(Co(i)))}}function bI(e){if(yI.logLevel<=Ds.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xI);yI.error.apply(yI,["Firestore (".concat(mI,"): ").concat(e)].concat(Co(i)))}}function wI(e){if(yI.logLevel<=Ds.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xI);yI.warn.apply(yI,["Firestore (".concat(mI,"): ").concat(e)].concat(Co(i)))}}function xI(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function _I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(mI,") INTERNAL ASSERTION FAILED: ")+e;throw bI(t),new Error(t)}function II(e,t){e||_I()}function EI(e,t){return e}var SI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},TI=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ru(n)}(cs),CI=Ru((function e(){var t=this;Lu(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),NI=Ru((function e(t,n){Lu(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),AI=function(){function e(){Lu(this,e)}return Ru(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(vI.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),OI=function(){function e(t){Lu(this,e),this.token=t,this.changeListener=null}return Ru(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),DI=function(){function e(t){Lu(this,e),this.t=t,this.currentUser=vI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ru(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new CI;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new CI,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){kI("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(kI("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new CI)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(kI("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(II("string"==typeof n.accessToken),new NI(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return II(null===e||"string"==typeof e),new vI(e)}}]),e}(),LI=Ru((function e(t,n,r){Lu(this,e),this.type="FirstParty",this.user=vI.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),PI=function(){function e(t,n,r){Lu(this,e),this.h=t,this.l=n,this.m=r}return Ru(e,[{key:"getToken",value:function(){return Promise.resolve(new LI(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(vI.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),RI=Ru((function e(t){Lu(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),MI=function(){function e(t){Lu(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Ru(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&kI("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,kI("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){kI("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):kI("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(II("string"==typeof t.token),e.p=t.token,new RI(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function jI(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var FI=function(){function e(){Lu(this,e)}return Ru(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=jI(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function VI(e,t){return e<t?-1:e>t?1:0}function UI(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function BI(e){return e+"\0"}var zI=function(){function e(t,n){if(Lu(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new TI(SI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new TI(SI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new TI(SI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new TI(SI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ru(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?VI(this.nanoseconds,e.nanoseconds):VI(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),qI=function(){function e(t){Lu(this,e),this.timestamp=t}return Ru(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new zI(0,0))}},{key:"max",value:function(){return new e(new zI(253402300799,999999999))}}]),e}(),HI=function(){function e(t,n,r){Lu(this,e),void 0===n?n=0:n>t.length&&_I(),void 0===r?r=t.length-n:r>t.length-n&&_I(),this.segments=t,this.offset=n,this.len=r}return Ru(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),WI=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.apply(this,arguments)}return Ru(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new TI(SI.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Co(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(HI),KI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,GI=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.apply(this,arguments)}return Ru(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return KI.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new TI(SI.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new TI(SI.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new TI(SI.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new TI(SI.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(HI),QI=function(){function e(t){Lu(this,e),this.path=t}return Ru(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===WI.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(WI.fromString(t))}},{key:"fromName",value:function(t){return new e(WI.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(WI.emptyPath())}},{key:"comparator",value:function(e,t){return WI.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new WI(t.slice()))}}]),e}(),YI=Ru((function e(t,n,r,i){Lu(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function $I(e){return e.fields.find((function(e){return 2===e.kind}))}function XI(e){return e.fields.filter((function(e){return 2!==e.kind}))}YI.UNKNOWN_ID=-1;var JI=Ru((function e(t,n){Lu(this,e),this.fieldPath=t,this.kind=n}));var ZI=function(){function e(t,n){Lu(this,e),this.sequenceNumber=t,this.offset=n}return Ru(e,null,[{key:"empty",value:function(){return new e(0,nE.min())}}]),e}();function eE(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=qI.fromTimestamp(1e9===r?new zI(n+1,0):new zI(n,r));return new nE(i,QI.empty(),t)}function tE(e){return new nE(e.readTime,e.key,-1)}var nE=function(){function e(t,n,r){Lu(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ru(e,null,[{key:"min",value:function(){return new e(qI.min(),QI.empty(),-1)}},{key:"max",value:function(){return new e(qI.max(),QI.empty(),-1)}}]),e}();function rE(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=QI.comparator(e.documentKey,t.documentKey))?n:VI(e.largestBatchId,t.largestBatchId)}var iE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",aE=function(){function e(){Lu(this,e),this.onCommittedListeners=[]}return Ru(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function oE(e){return uE.apply(this,arguments)}function uE(){return uE=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===SI.FAILED_PRECONDITION&&t.message===iE){e.next=2;break}throw t;case 2:kI("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}var sE=function(){function e(t){var n=this;Lu(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ru(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&_I(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Mu(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),cE=function(){function e(t,n){var r=this;Lu(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new CI,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new hE(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=yE(e.target.error);r.T.reject(new hE(t,n))}}return Ru(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(kI("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new pE(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new hE(n,t)}}}]),e}(),lE=function(){function e(t,n,r){Lu(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(es())&&bI("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ru(e,[{key:"k",value:function(){var e=Ts(Es().mark((function e(t){var n=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return kI("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new hE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new TI(SI.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new TI(SI.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new hE(t,n))},i.onupgradeneeded=function(e){kI("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.M(t,i.transaction,e.oldVersion,n.version).next((function(){kI("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.O&&(this.db.onversionchange=function(e){return n.O(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.O=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ts(Es().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Es().mark((function e(){var n,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=cE.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),sE.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,kI("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return kI("SimpleDb","Removing database:",e),vE(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!os())return!1;if(e.S())return!0;var t=es(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),fE=function(){function e(t){Lu(this,e),this.$=t,this.B=!1,this.L=null}return Ru(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return vE(this.$.delete())}}]),e}(),hE=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,SI.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ru(n)}(TI);function dE(e){return"IndexedDbTransactionError"===e.name}var pE=function(){function e(t){Lu(this,e),this.store=t}return Ru(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(kI("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(kI("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vE(n)}},{key:"add",value:function(e){return kI("SimpleDb","ADD",this.store.name,e,e),vE(this.store.add(e))}},{key:"get",value:function(e){var t=this;return vE(this.store.get(e)).next((function(n){return void 0===n&&(n=null),kI("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return kI("SimpleDb","DELETE",this.store.name,e),vE(this.store.delete(e))}},{key:"count",value:function(){return kI("SimpleDb","COUNT",this.store.name),vE(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new sE((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new sE((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){kI("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new sE((function(n,r){t.onerror=function(e){var t=yE(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new sE((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new fE(i),o=t(i.primaryKey,i.value,a);if(o instanceof sE){var u=o.catch((function(e){return a.done(),sE.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return sE.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function vE(e){return new sE((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=yE(e.target.error);n(t)}}))}var mE=!1;function yE(e){var t=lE.v(es());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new TI("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return mE||(mE=!0,setTimeout((function(){throw r}),0)),r}}return e}var gE=function(){function e(t,n){Lu(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Ru(e,[{key:"start",value:function(){this.Z(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;kI("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=kI,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!dE(e.t4)){e.next=17;break}kI("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,oE(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),kE=function(){function e(t,n){Lu(this,e),this.localStore=t,this.persistence=n}return Ru(e,[{key:"tt",value:function(){var e=Ts(Es().mark((function e(){var t,n=this,r=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return sE.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return kI("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return kI("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=tE(t);rE(r,n)>0&&(n=r)})),new nE(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),bE=function(){function e(t,n){var r=this;Lu(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Ru(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function wE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xE(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _E(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}bE.ot=-1;var IE=function(){function e(t,n){Lu(this,e),this.comparator=t,this.root=n||SE.EMPTY}return Ru(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,SE.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,SE.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new EE(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new EE(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new EE(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new EE(this.root,e,this.comparator,!0)}}]),e}(),EE=function(){function e(t,n,r,i){Lu(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ru(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),SE=function(){function e(t,n,r,i,a){Lu(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ru(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw _I();if(this.right.isRed())throw _I();var e=this.left.check();if(e!==this.right.check())throw _I();return e+(this.isRed()?0:1)}}]),e}();SE.EMPTY=null,SE.RED=!0,SE.BLACK=!1,SE.EMPTY=new(function(){function e(){Lu(this,e),this.size=0}return Ru(e,[{key:"key",get:function(){throw _I()}},{key:"value",get:function(){throw _I()}},{key:"color",get:function(){throw _I()}},{key:"left",get:function(){throw _I()}},{key:"right",get:function(){throw _I()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new SE(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var TE=function(){function e(t){Lu(this,e),this.comparator=t,this.data=new IE(this.comparator)}return Ru(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new CE(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new CE(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),CE=function(){function e(t){Lu(this,e),this.iter=t}return Ru(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function NE(e){return e.hasNext()?e.getNext():void 0}var AE=function(){function e(t){Lu(this,e),this.fields=t,t.sort(GI.comparator)}return Ru(e,[{key:"unionWith",value:function(t){var n,r=new TE(GI.comparator),i=Mu(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Mu(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Mu(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return UI(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var OE=function(e){function t(e){Lu(this,t),this.binaryString=e}return Ru(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return VI(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();OE.EMPTY_BYTE_STRING=new OE("");var DE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function LE(e){if(II(!!e),"string"==typeof e){var t=0,n=DE.exec(e);if(II(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:PE(e.seconds),nanos:PE(e.nanos)}}function PE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function RE(e){return"string"==typeof e?OE.fromBase64String(e):OE.fromUint8Array(e)}function ME(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jE(e){var t=e.mapValue.fields.__previous_value__;return ME(t)?jE(t):t}function FE(e){var t=LE(e.mapValue.fields.__local_write_time__.timestampValue);return new zI(t.seconds,t.nanos)}var VE=Ru((function e(t,n,r,i,a,o,u,s){Lu(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),UE=function(){function e(t,n){Lu(this,e),this.projectId=t,this.database=n||"(default)"}return Ru(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function BE(e){return null==e}function zE(e){return 0===e&&1/e==-1/0}function qE(e){return"number"==typeof e&&Number.isInteger(e)&&!zE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var HE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},WE={nullValue:"NULL_VALUE"};function KE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ME(e)?4:oS(e)?9007199254740991:10:_I()}function GE(e,t){if(e===t)return!0;var n=KE(e);if(n!==KE(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return FE(e).isEqual(FE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=LE(e.timestampValue),r=LE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return RE(e.bytesValue).isEqual(RE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return PE(e.geoPointValue.latitude)===PE(t.geoPointValue.latitude)&&PE(e.geoPointValue.longitude)===PE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return PE(e.integerValue)===PE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=PE(e.doubleValue),r=PE(t.doubleValue);return n===r?zE(n)===zE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return UI(e.arrayValue.values||[],t.arrayValue.values||[],GE);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wE(n)!==wE(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!GE(n[i],r[i])))return!1;return!0}(e,t);default:return _I()}}function QE(e,t){return void 0!==(e.values||[]).find((function(e){return GE(e,t)}))}function YE(e,t){if(e===t)return 0;var n=KE(e),r=KE(t);if(n!==r)return VI(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return VI(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=PE(e.integerValue||e.doubleValue),r=PE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $E(e.timestampValue,t.timestampValue);case 4:return $E(FE(e),FE(t));case 5:return VI(e.stringValue,t.stringValue);case 6:return function(e,t){var n=RE(e),r=RE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=VI(n[i],r[i]);if(0!==a)return a}return VI(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=VI(PE(e.latitude),PE(t.latitude));return 0!==n?n:VI(PE(e.longitude),PE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=YE(n[i],r[i]);if(a)return a}return VI(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===HE.mapValue&&t===HE.mapValue)return 0;if(e===HE.mapValue)return 1;if(t===HE.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=VI(r[o],a[o]);if(0!==u)return u;var s=YE(n[r[o]],i[a[o]]);if(0!==s)return s}return VI(r.length,a.length)}(e.mapValue,t.mapValue);default:throw _I()}}function $E(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return VI(e,t);var n=LE(e),r=LE(t),i=VI(n.seconds,r.seconds);return 0!==i?i:VI(n.nanos,r.nanos)}function XE(e){return JE(e)}function JE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=LE(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?RE(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,QI.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Mu(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=JE(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Mu(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(JE(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):_I();var t,n}function ZE(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function eS(e){return!!e&&"integerValue"in e}function tS(e){return!!e&&"arrayValue"in e}function nS(e){return!!e&&"nullValue"in e}function rS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function iS(e){return!!e&&"mapValue"in e}function aS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return xE(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=aS(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=aS(e.arrayValue.values[r]);return n}return Object.assign({},e)}function oS(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function uS(e){return"nullValue"in e?WE:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ZE(UE.empty(),QI.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:_I()}function sS(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ZE(UE.empty(),QI.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?HE:_I()}function cS(e,t){var n=YE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function lS(e,t){var n=YE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var fS=function(){function e(t){Lu(this,e),this.value=t}return Ru(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!iS(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=aS(t)}},{key:"setAll",value:function(e){var t=this,n=GI.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=aS(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());iS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return GE(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];iS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){xE(t,(function(t,n){return e[t]=n}));var r,i=Mu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(aS(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function hS(e){var t=[];return xE(e.fields,(function(e,n){var r=new GI([e]);if(iS(n)){var i=hS(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Mu(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new AE(t)}var dS=function(){function e(t,n,r,i,a,o){Lu(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Ru(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=fS.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=fS.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=qI.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,qI.min(),qI.min(),fS.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,qI.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,qI.min(),fS.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,qI.min(),fS.empty(),2)}}]),e}(),pS=Ru((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Lu(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function vS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new pS(e,t,n,r,i,a,o)}function mS(e){var t=EI(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+XE(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),BE(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return XE(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return XE(e)})).join(",")),t.ut=n}return t.ut}function yS(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!LS(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!GE(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!RS(e.startAt,t.startAt)&&RS(e.endAt,t.endAt)}function gS(e){return QI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function kS(e,t){return e.filters.filter((function(e){return e instanceof xS&&e.field.isEqual(t)}))}function bS(e,t,n){var r,i=WE,a=!0,o=Mu(kS(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=WE,c=!0;switch(u.op){case"<":case"<=":s=uS(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=WE}cS({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];cS({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function wS(e,t,n){var r,i=HE,a=!0,o=Mu(kS(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=HE,c=!0;switch(u.op){case">=":case">":s=sS(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=HE}lS({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];lS({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var xS=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a;return Lu(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ru(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(YE(t,this.value)):null!==t&&KE(this.value)===KE(t)&&this.at(YE(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _I()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new _S(e,t,r):"array-contains"===t?new TS(e,r):"in"===t?new CS(e,r):"not-in"===t?new NS(e,r):"array-contains-any"===t?new AS(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new IS(e,n):new ES(e,n)}}]),n}(function(){return Ru((function e(){Lu(this,e)}))}()),_S=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a;return Lu(this,n),(a=t.call(this,e,r,i)).key=QI.fromName(i.referenceValue),a}return Ru(n,[{key:"matches",value:function(e){var t=QI.comparator(e.key,this.key);return this.at(t)}}]),n}(xS),IS=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,e,"in",r)).keys=SS("in",r),i}return Ru(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(xS),ES=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,e,"not-in",r)).keys=SS("not-in",r),i}return Ru(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(xS);function SS(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return QI.fromName(e.referenceValue)}))}var TS=function(e){Vu(n,e);var t=Hu(n);function n(e,r){return Lu(this,n),t.call(this,e,"array-contains",r)}return Ru(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return tS(t)&&QE(t.arrayValue,this.value)}}]),n}(xS),CS=function(e){Vu(n,e);var t=Hu(n);function n(e,r){return Lu(this,n),t.call(this,e,"in",r)}return Ru(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&QE(this.value.arrayValue,t)}}]),n}(xS),NS=function(e){Vu(n,e);var t=Hu(n);function n(e,r){return Lu(this,n),t.call(this,e,"not-in",r)}return Ru(n,[{key:"matches",value:function(e){if(QE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!QE(this.value.arrayValue,t)}}]),n}(xS),AS=function(e){Vu(n,e);var t=Hu(n);function n(e,r){return Lu(this,n),t.call(this,e,"array-contains-any",r)}return Ru(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!tS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return QE(t.value.arrayValue,e)}))}}]),n}(xS),OS=Ru((function e(t,n){Lu(this,e),this.position=t,this.inclusive=n})),DS=Ru((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Lu(this,e),this.field=t,this.dir=n}));function LS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function PS(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?QI.comparator(QI.fromName(o.referenceValue),n.key):YE(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function RS(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!GE(e.position[n],t.position[n]))return!1;return!0}var MS=Ru((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Lu(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function jS(e,t,n,r,i,a,o,u){return new MS(e,t,n,r,i,a,o,u)}function FS(e){return new MS(e)}function VS(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function US(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function BS(e){var t,n=Mu(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function zS(e){return null!==e.collectionGroup}function qS(e){var t=EI(e);if(null===t.lt){t.lt=[];var n=BS(t),r=US(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new DS(n)),t.lt.push(new DS(GI.keyField(),"asc"));else{var i,a=!1,o=Mu(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new DS(GI.keyField(),s))}}}return t.lt}function HS(e){var t=EI(e);if(!t.ft)if("F"===t.limitType)t.ft=vS(t.path,t.collectionGroup,qS(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Mu(qS(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new DS(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new OS(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new OS(t.startAt.position,t.startAt.inclusive):null;t.ft=vS(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function WS(e,t,n){return new MS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function KS(e,t){return yS(HS(e),HS(t))&&e.limitType===t.limitType}function GS(e){return"".concat(mS(HS(e)),"|lt:").concat(e.limitType)}function QS(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(XE(t.value));var t})).join(", "),"]")),BE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return XE(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return XE(e)})).join(",")),"Target(".concat(t,")")}(HS(e)),"; limitType=").concat(e.limitType,")")}function YS(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):QI.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Mu(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Mu(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=PS(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qS(e),t))&&!(e.endAt&&!function(e,t,n){var r=PS(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qS(e),t))}(e,t)}function $S(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function XS(e){return function(t,n){var r,i=!1,a=Mu(qS(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=JS(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function JS(e,t,n){var r=e.field.isKeyField()?QI.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?YE(r,i):_I()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _I()}}function ZS(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zE(t)?"-0":t}}function eT(e){return{integerValue:""+e}}function tT(e,t){return qE(t)?eT(t):ZS(e,t)}var nT=Ru((function e(){Lu(this,e),this._=void 0}));function rT(e,t,n){return e instanceof oT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof uT?sT(e,t):e instanceof cT?lT(e,t):function(e,t){var n=aT(e,t),r=hT(n)+hT(e._t);return eS(n)&&eS(e._t)?eT(r):ZS(e.wt,r)}(e,t)}function iT(e,t,n){return e instanceof uT?sT(e,t):e instanceof cT?lT(e,t):n}function aT(e,t){return e instanceof fT?eS(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var oT=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.apply(this,arguments)}return Ru(n)}(nT),uT=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this)).elements=e,r}return Ru(n)}(nT);function sT(e,t){var n,r=dT(t),i=Mu(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return GE(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cT=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this)).elements=e,r}return Ru(n)}(nT);function lT(e,t){var n,r=dT(t),i=Mu(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!GE(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var fT=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this)).wt=e,i._t=r,i}return Ru(n)}(nT);function hT(e){return PE(e.integerValue||e.doubleValue)}function dT(e){return tS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var pT=Ru((function e(t,n){Lu(this,e),this.field=t,this.transform=n}));var vT=Ru((function e(t,n){Lu(this,e),this.version=t,this.transformResults=n})),mT=function(){function e(t,n){Lu(this,e),this.updateTime=t,this.exists=n}return Ru(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function yT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var gT=Ru((function e(){Lu(this,e)}));function kT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new OT(e.key,mT.none()):new IT(e.key,e.data,mT.none());var n,r=e.data,i=fS.empty(),a=new TE(GI.comparator),o=Mu(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new ET(e.key,i,new AE(a.toArray()),mT.none())}function bT(e,t,n){e instanceof IT?function(e,t,n){var r=e.value.clone(),i=TT(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ET?function(e,t,n){if(yT(e.precondition,t)){var r=TT(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ST(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wT(e,t,n,r){return e instanceof IT?function(e,t,n,r){if(!yT(e.precondition,t))return n;var i=e.value.clone(),a=CT(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ET?function(e,t,n,r){if(!yT(e.precondition,t))return n;var i=CT(e.fieldTransforms,r,t),a=t.data;return a.setAll(ST(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return yT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function xT(e,t){var n,r=null,i=Mu(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=aT(a.transform,o||null);null!=u&&(null===r&&(r=fS.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function _T(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&UI(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof uT&&t instanceof uT||e instanceof cT&&t instanceof cT?UI(e.elements,t.elements,GE):e instanceof fT&&t instanceof fT?GE(e._t,t._t):e instanceof oT&&t instanceof oT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var IT=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Lu(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ru(n,[{key:"getFieldMask",value:function(){return null}}]),n}(gT),ET=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Lu(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ru(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(gT);function ST(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function TT(e,t,n){var r=new Map;II(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,iT(o,u,n[i]))}return r}function CT(e,t,n){var r,i=new Map,a=Mu(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,rT(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var NT,AT,OT=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ru(n,[{key:"getFieldMask",value:function(){return null}}]),n}(gT),DT=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ru(n,[{key:"getFieldMask",value:function(){return null}}]),n}(gT),LT=Ru((function e(t){Lu(this,e),this.count=t}));function PT(e){switch(e){default:return _I();case SI.CANCELLED:case SI.UNKNOWN:case SI.DEADLINE_EXCEEDED:case SI.RESOURCE_EXHAUSTED:case SI.INTERNAL:case SI.UNAVAILABLE:case SI.UNAUTHENTICATED:return!1;case SI.INVALID_ARGUMENT:case SI.NOT_FOUND:case SI.ALREADY_EXISTS:case SI.PERMISSION_DENIED:case SI.FAILED_PRECONDITION:case SI.ABORTED:case SI.OUT_OF_RANGE:case SI.UNIMPLEMENTED:case SI.DATA_LOSS:return!0}}function RT(e){if(void 0===e)return bI("GRPC error has no .code"),SI.UNKNOWN;switch(e){case NT.OK:return SI.OK;case NT.CANCELLED:return SI.CANCELLED;case NT.UNKNOWN:return SI.UNKNOWN;case NT.DEADLINE_EXCEEDED:return SI.DEADLINE_EXCEEDED;case NT.RESOURCE_EXHAUSTED:return SI.RESOURCE_EXHAUSTED;case NT.INTERNAL:return SI.INTERNAL;case NT.UNAVAILABLE:return SI.UNAVAILABLE;case NT.UNAUTHENTICATED:return SI.UNAUTHENTICATED;case NT.INVALID_ARGUMENT:return SI.INVALID_ARGUMENT;case NT.NOT_FOUND:return SI.NOT_FOUND;case NT.ALREADY_EXISTS:return SI.ALREADY_EXISTS;case NT.PERMISSION_DENIED:return SI.PERMISSION_DENIED;case NT.FAILED_PRECONDITION:return SI.FAILED_PRECONDITION;case NT.ABORTED:return SI.ABORTED;case NT.OUT_OF_RANGE:return SI.OUT_OF_RANGE;case NT.UNIMPLEMENTED:return SI.UNIMPLEMENTED;case NT.DATA_LOSS:return SI.DATA_LOSS;default:return _I()}}(AT=NT||(NT={}))[AT.OK=0]="OK",AT[AT.CANCELLED=1]="CANCELLED",AT[AT.UNKNOWN=2]="UNKNOWN",AT[AT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",AT[AT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",AT[AT.NOT_FOUND=5]="NOT_FOUND",AT[AT.ALREADY_EXISTS=6]="ALREADY_EXISTS",AT[AT.PERMISSION_DENIED=7]="PERMISSION_DENIED",AT[AT.UNAUTHENTICATED=16]="UNAUTHENTICATED",AT[AT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",AT[AT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",AT[AT.ABORTED=10]="ABORTED",AT[AT.OUT_OF_RANGE=11]="OUT_OF_RANGE",AT[AT.UNIMPLEMENTED=12]="UNIMPLEMENTED",AT[AT.INTERNAL=13]="INTERNAL",AT[AT.UNAVAILABLE=14]="UNAVAILABLE",AT[AT.DATA_LOSS=15]="DATA_LOSS";var MT=function(){function e(t,n){Lu(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ru(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Mu(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){xE(this.inner,(function(t,n){var r,i=Mu(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return _E(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),jT=new IE(QI.comparator);function FT(){return jT}var VT=new IE(QI.comparator);function UT(){for(var e=VT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function BT(e){var t=VT;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function zT(){return HT()}function qT(){return HT()}function HT(){return new MT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var WT=new IE(QI.comparator),KT=new TE(QI.comparator);function GT(){for(var e=KT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var QT=new TE(VI);function YT(){return QT}var $T=function(){function e(t,n,r,i,a){Lu(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ru(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,XT.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(qI.min(),r,YT(),FT(),GT())}}]),e}(),XT=function(){function e(t,n,r,i,a){Lu(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ru(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(OE.EMPTY_BYTE_STRING,n,GT(),GT(),GT())}}]),e}(),JT=Ru((function e(t,n,r,i){Lu(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),ZT=Ru((function e(t,n){Lu(this,e),this.targetId=t,this.It=n})),eC=Ru((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:OE.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Lu(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),tC=function(){function e(){Lu(this,e),this.Tt=0,this.Et=iC(),this.At=OE.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Ru(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=GT(),t=GT(),n=GT();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_I()}})),new XT(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=iC()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),nC=function(){function e(t){Lu(this,e),this.Ot=t,this.Ft=new Map,this.$t=FT(),this.Bt=rC(),this.Lt=new TE(VI)}return Ru(e,[{key:"Ut",value:function(e){var t,n=Mu(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Mu(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:_I()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(gS(i))if(0===n){var a=new QI(i.path);this.Kt(t,a,dS.newNoDocument(a,qI.min()))}else II(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&gS(a.target)){var o=new QI(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,dS.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=GT();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new $T(e,n,this.Lt,this.$t,r);return this.$t=FT(),this.Bt=rC(),this.Lt=new TE(VI),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new tC,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new TE(VI),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||kI("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new tC),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function rC(){return new IE(QI.comparator)}function iC(){return new IE(QI.comparator)}var aC={asc:"ASCENDING",desc:"DESCENDING"},oC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uC=Ru((function e(t,n){Lu(this,e),this.databaseId=t,this.dt=n}));function sC(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function cC(e,t){return e.dt?t.toBase64():t.toUint8Array()}function lC(e,t){return sC(e,t.toTimestamp())}function fC(e){return II(!!e),qI.fromTimestamp(function(e){var t=LE(e);return new zI(t.seconds,t.nanos)}(e))}function hC(e,t){return function(e){return new WI(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function dC(e){var t=WI.fromString(e);return II(MC(t)),t}function pC(e,t){return hC(e.databaseId,t.path)}function vC(e,t){var n=dC(t);if(n.get(1)!==e.databaseId.projectId)throw new TI(SI.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new TI(SI.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new QI(kC(n))}function mC(e,t){return hC(e.databaseId,t)}function yC(e){var t=dC(e);return 4===t.length?WI.emptyPath():kC(t)}function gC(e){return new WI(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kC(e){return II(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function bC(e,t,n){return{name:pC(e,t),fields:n.value.mapValue.fields}}function wC(e,t,n){var r=vC(e,t.name),i=fC(t.updateTime),a=new fS({mapValue:{fields:t.fields}}),o=dS.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function xC(e,t){return"found"in t?function(e,t){II(!!t.found),t.found.name,t.found.updateTime;var n=vC(e,t.found.name),r=fC(t.found.updateTime),i=new fS({mapValue:{fields:t.found.fields}});return dS.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){II(!!t.missing),II(!!t.readTime);var n=vC(e,t.missing),r=fC(t.readTime);return dS.newNoDocument(n,r)}(e,t):_I()}function _C(e,t){var n;if(t instanceof IT)n={update:bC(e,t.key,t.value)};else if(t instanceof OT)n={delete:pC(e,t.key)};else if(t instanceof ET)n={update:bC(e,t.key,t.data),updateMask:RC(t.fieldMask)};else{if(!(t instanceof DT))return _I();n={verify:pC(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof oT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof uT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof cT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fT)return{fieldPath:t.field.canonicalString(),increment:n._t};throw _I()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:lC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_I()}(e,t.precondition)),n}function IC(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?mT.updateTime(fC(e.updateTime)):void 0!==e.exists?mT.exists(e.exists):mT.none()}(t.currentDocument):mT.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)II("REQUEST_TIME"===t.setToServerValue),n=new oT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new uT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new cT(i)}else"increment"in t?n=new fT(e,t.increment):_I();var a=GI.fromServerFormat(t.fieldPath);return new pT(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=vC(e,t.update.name),a=new fS({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new AE(t.map((function(e){return GI.fromServerFormat(e)})))}(t.updateMask);return new ET(i,a,o,n,r)}return new IT(i,a,n,r)}if(t.delete){var u=vC(e,t.delete);return new OT(u,n)}if(t.verify){var s=vC(e,t.verify);return new DT(s,n)}return _I()}function EC(e,t){return{documents:[mC(e,t.path)]}}function SC(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=mC(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mC(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(rS(e.value))return{unaryFilter:{field:OC(e.field),op:"IS_NAN"}};if(nS(e.value))return{unaryFilter:{field:OC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rS(e.value))return{unaryFilter:{field:OC(e.field),op:"IS_NOT_NAN"}};if(nS(e.value))return{unaryFilter:{field:OC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:OC(e.field),op:AC(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:OC(e.field),direction:NC(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||BE(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function TC(e){var t=yC(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){II(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=CC(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new DS(DC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return BE(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new OS(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new OS(n,t)}(n.endAt)),jS(t,i,u,o,s,"F",c,l)}function CC(e){return e?void 0!==e.unaryFilter?[PC(e)]:void 0!==e.fieldFilter?[LC(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return CC(e)})).reduce((function(e,t){return e.concat(t)})):_I():[]}function NC(e){return aC[e]}function AC(e){return oC[e]}function OC(e){return{fieldPath:e.canonicalString()}}function DC(e){return GI.fromServerFormat(e.fieldPath)}function LC(e){return xS.create(DC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _I()}}(e.fieldFilter.op),e.fieldFilter.value)}function PC(e){switch(e.unaryFilter.op){case"IS_NAN":var t=DC(e.unaryFilter.field);return xS.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=DC(e.unaryFilter.field);return xS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=DC(e.unaryFilter.field);return xS.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=DC(e.unaryFilter.field);return xS.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _I()}}function RC(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function MC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function jC(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=VC(t)),t=FC(e.get(n),t);return VC(t)}function FC(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function VC(e){return e+"\x01\x01"}function UC(e){var t=e.length;if(II(t>=2),2===t)return II("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),WI.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&_I(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:_I()}a=o+2}return new WI(r)}var BC=["userId","batchId"];function zC(e,t){return[e,jC(t)]}function qC(e,t,n){return[e,jC(t),n]}var HC={},WC=["prefixPath","collectionGroup","readTime","documentId"],KC=["prefixPath","collectionGroup","documentId"],GC=["collectionGroup","readTime","prefixPath","documentId"],QC=["canonicalId","targetId"],YC=["targetId","path"],$C=["path","targetId"],XC=["collectionId","parent"],JC=["indexId","uid"],ZC=["uid","sequenceNumber"],eN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tN=["indexId","uid","orderedDocumentKey"],nN=["userId","collectionPath","documentId"],rN=["userId","collectionPath","largestBatchId"],iN=["userId","collectionGroup","largestBatchId"],aN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),oN=[].concat(Co(aN),["documentOverlays"]),uN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sN=uN,cN=[].concat(sN,["indexConfiguration","indexState","indexEntries"]),lN=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return Ru(n)}(aE);function fN(e,t){var n=EI(e);return lE.N(n.ee,t)}var hN=function(){function e(t,n,r,i){Lu(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ru(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&bT(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Mu(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=wT(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Mu(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=wT(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=qT();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=kT(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(qI.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),GT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&UI(this.mutations,e.mutations,(function(e,t){return _T(e,t)}))&&UI(this.baseMutations,e.baseMutations,(function(e,t){return _T(e,t)}))}}]),e}(),dN=function(){function e(t,n,r,i){Lu(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ru(e,null,[{key:"from",value:function(t,n,r){II(t.mutations.length===r.length);for(var i=WT,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),pN=function(){function e(t,n){Lu(this,e),this.largestBatchId=t,this.mutation=n}return Ru(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),vN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qI.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:qI.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:OE.EMPTY_BYTE_STRING;Lu(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ru(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),mN=Ru((function e(t){Lu(this,e),this.ne=t}));function yN(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:pC(e,t.key),fields:t.data.value.mapValue.fields,updateTime:sC(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:kN(t.version)};else{if(!t.isUnknownDocument())return _I();r.unknownDocument={path:n.path.toArray(),version:kN(t.version)}}return r}function gN(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function kN(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function bN(e){var t=new zI(e.seconds,e.nanoseconds);return qI.fromTimestamp(t)}function wN(e,t){for(var n=(t.baseMutations||[]).map((function(t){return IC(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return IC(e.ne,t)})),u=zI.fromMillis(t.localWriteTimeMs);return new hN(t.batchId,u,n,o)}function xN(e){var t,n,r=bN(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?bN(e.lastLimboFreeSnapshotVersion):qI.min();return void 0!==e.query.documents?(II(1===(n=e.query).documents.length),t=HS(FS(yC(n.documents[0])))):t=function(e){return HS(TC(e))}(e.query),new vN(t,e.targetId,0,e.lastListenSequenceNumber,r,i,OE.fromBase64String(e.resumeToken))}function _N(e,t){var n,r=kN(t.snapshotVersion),i=kN(t.lastLimboFreeSnapshotVersion);n=gS(t.target)?EC(e.ne,t.target):SC(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:mS(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function IN(e){var t=TC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?WS(t,t.limit,"L"):t}function EN(e,t){return new pN(t.largestBatchId,IC(e.ne,t.overlayMutation))}function SN(e,t){var n=t.path.lastSegment();return[e,jC(t.path.popLast()),n]}function TN(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:kN(r.readTime),documentKey:jC(r.documentKey.path),largestBatchId:r.largestBatchId}}var CN=function(){function e(){Lu(this,e)}return Ru(e,[{key:"getBundleMetadata",value:function(e,t){return NN(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:bN(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return NN(e).put({bundleId:(n=t).id,createTime:kN(fC(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return AN(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:IN(t.bundledQuery),readTime:bN(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return AN(e).put(function(e){return{name:e.name,readTime:kN(fC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function NN(e){return fN(e,"bundles")}function AN(e){return fN(e,"namedQueries")}var ON=function(){function e(t,n){Lu(this,e),this.wt=t,this.userId=n}return Ru(e,[{key:"getOverlay",value:function(e,t){var n=this;return DN(e).get(SN(this.userId,t)).next((function(e){return e?EN(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=zT();return sE.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new pN(t,a);i.push(r.ie(e,o))})),sE.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(jC(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(DN(e).W("collectionPathOverlayIndex",i))})),sE.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=zT(),a=jC(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return DN(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=Mu(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=EN(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=zT(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return DN(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=EN(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return DN(e).put(function(e,t,n){var r=c(SN(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:_C(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function DN(e){return fN(e,"documentOverlays")}var LN=function(){function e(){Lu(this,e)}return Ru(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(PE(e.integerValue));else if("doubleValue"in e){var n=PE(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),zE(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(RE(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?oS(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):_I()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Mu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),QI.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function PN(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function RN(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=PN(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}LN.ye=new LN;var MN=function(){function e(){Lu(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ru(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Mu(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Mu(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=RN(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=RN(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Me",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),jN=function(){function e(t){Lu(this,e),this.Oe=t}return Ru(e,[{key:"de",value:function(e){this.Oe.pe(e)}},{key:"he",value:function(e){this.Oe.be(e)}},{key:"ae",value:function(e){this.Oe.ve(e)}},{key:"ue",value:function(){this.Oe.Ce()}}]),e}(),FN=function(){function e(t){Lu(this,e),this.Oe=t}return Ru(e,[{key:"de",value:function(e){this.Oe.Ee(e)}},{key:"he",value:function(e){this.Oe.Pe(e)}},{key:"ae",value:function(e){this.Oe.De(e)}},{key:"ue",value:function(){this.Oe.Ne()}}]),e}(),VN=function(){function e(){Lu(this,e),this.Oe=new MN,this.Fe=new jN(this.Oe),this.$e=new FN(this.Oe)}return Ru(e,[{key:"seed",value:function(e){this.Oe.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Me",value:function(){return this.Oe.Me()}},{key:"reset",value:function(){this.Oe.reset()}}]),e}(),UN=function(){function e(t,n,r,i){Lu(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ru(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function BN(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=zN(e.arrayValue,t.arrayValue))?n:0!==(n=zN(e.directionalValue,t.directionalValue))?n:QI.comparator(e.documentKey,t.documentKey)}function zN(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var qN=function(){function e(t){Lu(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Mu(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ru(e,[{key:"Ge",value:function(e){var t=$I(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=XI(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Mu(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),HN=function(){function e(){Lu(this,e),this.ze=new WN}return Ru(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),sE.resolve()}},{key:"getCollectionParents",value:function(e,t){return sE.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return sE.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return sE.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return sE.resolve(null)}},{key:"getIndexType",value:function(e,t){return sE.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return sE.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return sE.resolve(null)}},{key:"getMinOffset",value:function(e,t){return sE.resolve(nE.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return sE.resolve(nE.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return sE.resolve()}},{key:"updateIndexEntries",value:function(e,t){return sE.resolve()}}]),e}(),WN=function(){function e(){Lu(this,e),this.index={}}return Ru(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new TE(WI.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new TE(WI.comparator)).toArray()}}]),e}(),KN=new Uint8Array(0),GN=function(){function e(t,n){Lu(this,e),this.user=t,this.databaseId=n,this.He=new WN,this.Je=new MT((function(e){return mS(e)}),(function(e,t){return yS(e,t)})),this.uid=t.uid||""}return Ru(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:jC(i)};return QN(e).put(a)}return sE.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[BI(t),""],!1,!0);return QN(e).K(r).next((function(e){var r,i=Mu(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(UC(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=$N(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=XN(e);return a.next((function(e){o.put(TN(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=$N(e),r=XN(e),i=YN(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=YN(e),i=!0,a=new Map;return sE.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=GT(),o=[];return sE.forEach(a,(function(i,a){var u;kI("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(mS(t)));var s=function(e,t){var n=$I(t);if(void 0===n)return null;var r,i=Mu(kS(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Mu(XI(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Mu(kS(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Mu(XI(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?bS(e,o.fieldPath,e.startAt):wS(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new OS(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Mu(XI(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?wS(e,o.fieldPath,e.endAt):bS(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new OS(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return sE.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=QI.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return sE.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):KN,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,Co(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new UN(e,QI.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new UN(e,QI.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new qN(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Mu(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return sE.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new TE(GI.comparator),r=!1,i=Mu(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Mu(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new VN,i=Mu(XI(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);LN.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Me()}},{key:"nn",value:function(e){var t=new VN;return LN.ye.re(e,t.Be(0)),t.Me()}},{key:"un",value:function(e,t){var n=new VN;return LN.ye.re(ZE(this.databaseId,t),n.Be(function(e){var t=XI(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Me()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new VN);var i,a=0,o=Mu(XI(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Mu(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&tS(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);LN.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Me();return t}},{key:"an",value:function(e,t,n){var r,i=Co(e),a=[],o=Mu(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Mu(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new VN;f.seed(l.Me()),LN.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof xS&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=$N(e),i=XN(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return sE.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ZI(t.sequenceNumber,new nE(bN(t.readTime),new QI(UC(t.documentKey)),t.largestBatchId)):ZI.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new JI(GI.fromServerFormat(n),r)}));return new YI(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:VI(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=$N(e),a=XN(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return sE.forEach(t,(function(t){return a.put(TN(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return sE.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?sE.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),sE.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?sE.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return YN(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return YN(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=YN(e),i=new TE(BN);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new UN(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new TE(BN),r=this.on(t,e);if(null==r)return n;var i=$I(t);if(null!=i){var a=e.data.field(i.fieldPath);if(tS(a)){var o,u=Mu(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new UN(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new UN(t.indexId,e.key,KN,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;kI("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=NE(a),s=NE(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=NE(o)):l?(i(u),u=NE(a)):(u=NE(a),s=NE(o))}}(r,i,BN,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),sE.waitFor(o)}},{key:"ln",value:function(e){var t=1;return XN(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return BN(e,t)})).filter((function(e,t,n){return!t||0!==BN(e,n[t-1])}));var r=[];r.push(e);var i,a=Mu(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=BN(o,e),s=BN(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,KN,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,KN,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(JN)}},{key:"getMinOffset",value:function(e,t){var n=this;return sE.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||_I()}))})).next(JN)}}]),e}();function QN(e){return fN(e,"collectionParents")}function YN(e){return fN(e,"indexEntries")}function $N(e){return fN(e,"indexConfiguration")}function XN(e){return fN(e,"indexState")}function JN(e){II(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;rE(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new nE(t.readTime,t.documentKey,n)}var ZN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eA=function(){function e(t,n,r){Lu(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ru(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function tA(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){II(1===u)})));var c,l=[],f=Mu(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=qC(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return sE.waitFor(a).next((function(){return l}))}function nA(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _I();t=e.noDocument}return JSON.stringify(t).length}eA.DEFAULT_COLLECTION_PERCENTILE=10,eA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,eA.DEFAULT=new eA(41943040,eA.DEFAULT_COLLECTION_PERCENTILE,eA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),eA.DISABLED=new eA(-1,0,0);var rA=function(){function e(t,n,r,i){Lu(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Ru(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return aA(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=oA(e),o=aA(e);return o.add({}).next((function(u){II("number"==typeof u);var s,c=new hN(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return _C(e.ne,t)})),i=n.mutations.map((function(t){return _C(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new TE((function(e,t){return VI(e.canonicalString(),t.canonicalString())})),d=Mu(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=qC(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,HC))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),sE.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return aA(e).get(t).next((function(e){return e?(II(e.userId===n.userId),wN(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?sE.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return aA(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(II(t.batchId>=r),a=wN(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return aA(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return aA(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return wN(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=zC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return oA(e).J({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=UC(l);if(s===n.userId&&t.path.isEqual(h))return aA(e).get(f).next((function(e){if(!e)throw _I();II(e.userId===n.userId),a.push(wN(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new TE(VI),i=[];return t.forEach((function(t){var a=zC(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=oA(e).J({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=UC(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),sE.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=zC(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new TE(VI);return oA(e).J({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=UC(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(aA(e).get(t).next((function(e){if(null===e)throw _I();II(e.userId===n.userId),r.push(wN(n.wt,e))})))})),sE.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return tA(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),sE.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return sE.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return oA(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=UC(e[1]);i.push(a)}else r.done()})).next((function(){II(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return iA(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return uA(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return II(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function iA(e,t,n){var r=zC(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return oA(e).J({range:a,H:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function aA(e){return fN(e,"mutations")}function oA(e){return fN(e,"documentMutations")}function uA(e){return fN(e,"mutationQueues")}var sA=function(){function e(t){Lu(this,e),this.En=t}return Ru(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),cA=function(){function e(t,n){Lu(this,e),this.referenceDelegate=t,this.wt=n}return Ru(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new sA(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return qI.fromTimestamp(new zI(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return lA(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return II(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return lA(e).J((function(o,u){var s=xN(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return sE.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return lA(e).J((function(e,n){var r=xN(n);t(r)}))}},{key:"bn",value:function(e){return fA(e).get("targetGlobalKey").next((function(e){return II(null!==e),e}))}},{key:"Pn",value:function(e,t){return fA(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return lA(e).put(_N(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=mS(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return lA(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=xN(n);yS(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=hA(e);return t.forEach((function(t){var o=jC(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),sE.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=hA(e);return sE.forEach(t,(function(t){var a=jC(t.path);return sE.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=hA(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=hA(e),i=GT();return r.J({range:n,H:!0},(function(e,t,n){var r=UC(e[1]),a=new QI(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=jC(t.path),r=IDBKeyRange.bound([n],[BI(n)],!1,!0),i=0;return hA(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return lA(e).get(t).next((function(e){return e?xN(e):null}))}}]),e}();function lA(e){return fN(e,"targets")}function fA(e){return fN(e,"targetGlobal")}function hA(e){return fN(e,"targetDocuments")}function dA(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=VI(r,o);return 0===s?VI(i,u):s}var pA=function(){function e(t){Lu(this,e),this.Sn=t,this.buffer=new TE(dA),this.Dn=0}return Ru(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();dA(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),vA=function(){function e(t,n,r){Lu(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Ru(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;kI("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!dE(e.t0)){e.next=12;break}kI("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,oE(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),mA=function(){function e(t,n){Lu(this,e),this.Mn=t,this.params=n}return Ru(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.On(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return sE.resolve(bE.ot);var r=new pA(t);return this.Mn.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.Mn.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(kI("LruGarbageCollector","Garbage collection skipped; disabled"),sE.resolve(ZN)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(kI("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ZN):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(kI("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),gI()<=Ds.DEBUG&&kI("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),sE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),yA=function(){function e(t,n){Lu(this,e),this.db=t,this.garbageCollector=function(e,t){return new mA(e,t)}(this,n)}return Ru(e,[{key:"On",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return gA(e,n)}},{key:"removeReference",value:function(e,t,n){return gA(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return gA(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return uA(e).Y((function(r){return iA(e,r,t).next((function(e){return e&&(n=!0),sE.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,qI.min()),hA(e).delete([0,jC(o.path)])}))}));i.push(s)}})).next((function(){return sE.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return gA(e,t)}},{key:"Ln",value:function(e,t){var n,r=hA(e),i=bE.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==bE.ot&&t(new QI(UC(n)),i),i=s,n=u):i=bE.ot})).next((function(){i!==bE.ot&&t(new QI(UC(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function gA(e,t){return hA(e).put(function(e,t){return{targetId:0,path:jC(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var kA=function(){function e(){Lu(this,e),this.changes=new MT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ru(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,dS.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?sE.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),bA=function(){function e(t){Lu(this,e),this.wt=t}return Ru(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return IA(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return IA(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],gN(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=dS.newInvalidDocument(t);return IA(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(EA(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:dS.newInvalidDocument(t)};return IA(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(EA(t))},(function(e,i){r={document:n.Kn(t,i),size:nA(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=FT();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=FT(),i=new IE(QI.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,nA(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return sE.resolve();var r=new TE(TA);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(EA(r.first()),EA(r.last())),a=r.getIterator(),o=a.getNext();return IA(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=QI.fromSegments([].concat(Co(t.prefixPath),[t.collectionGroup,t.documentId]));o&&TA(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(EA(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),gN(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return IA(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=FT(),i=Mu(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(QI.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=FT(),o=SA(t,n),u=SA(t,nE.max());return IA(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(QI.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new xA(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return _A(e).get("remoteDocumentGlobalKey").next((function(e){return II(!!e),e}))}},{key:"qn",value:function(e,t){return _A(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=wC(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=QI.fromSegments(t.noDocument.path),i=bN(t.noDocument.readTime);n=dS.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return _I();var a=QI.fromSegments(t.unknownDocument.path),o=bN(t.unknownDocument.version);n=dS.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new zI(e[0],e[1]);return qI.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(qI.min()))return n}return dS.newInvalidDocument(e)}}]),e}();function wA(e){return new bA(e)}var xA=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new MT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ru(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new TE((function(e,t){return VI(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=yN(t.zn.wt,o);i=i.add(a.path.popLast());var c=nA(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=yN(t.zn.wt,o.convertToNoDocument(qI.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),sE.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(kA);function _A(e){return fN(e,"remoteDocumentGlobal")}function IA(e){return fN(e,"remoteDocumentsV14")}function EA(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function SA(e,t){var n=t.documentKey.path.toArray();return[e,gN(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function TA(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=VI(n[a],r[a]))return i;return(i=VI(n.length,r.length))||((i=VI(n[n.length-2],r[r.length-2]))||VI(n[n.length-1],r[r.length-1]))}var CA=Ru((function e(t,n){Lu(this,e),this.overlayedDocument=t,this.mutatedFields=n})),NA=function(){function e(t,n,r,i){Lu(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Ru(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&wT(r.mutation,e,AE.empty(),zI.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,GT()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:GT(),i=zT();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=UT();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=zT();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,GT())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=FT(),a=HT(),o=HT();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ET)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),wT(o.mutation,t,o.mutation.getFieldMask(),zI.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new CA(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=HT(),i=new IE((function(e,t){return e-t})),a=GT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Mu(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||AE.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||GT()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=qT();c.forEach((function(e){if(!a.has(e)){var n=kT(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return sE.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return QI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):sE.resolve(zT()),u=-1,s=a;return o.next((function(t){return sE.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?sE.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,GT())})).next((function(e){return{batchId:u,changes:BT(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new QI(t)).next((function(e){var t=UT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=UT();return this.indexManager.getCollectionParents(e,i).next((function(o){return sE.forEach(o,(function(o){var u=function(e,t){return new MS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,dS.newInvalidDocument(n)))}));var n=UT();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&wT(a.mutation,i,AE.empty(),zI.now()),YS(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):sE.resolve(dS.newInvalidDocument(t))}}]),e}(),AA=function(){function e(t){Lu(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Ru(e,[{key:"getBundleMetadata",value:function(e,t){return sE.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:fC(n.createTime)}),sE.resolve()}},{key:"getNamedQuery",value:function(e,t){return sE.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:IN(e.bundledQuery),readTime:fC(e.readTime)}}(t)),sE.resolve()}}]),e}(),OA=function(){function e(){Lu(this,e),this.overlays=new IE(QI.comparator),this.Xn=new Map}return Ru(e,[{key:"getOverlay",value:function(e,t){return sE.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=zT();return sE.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),sE.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),sE.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=zT(),i=t.length+1,a=new QI(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return sE.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new IE((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=zT(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=zT(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return sE.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new pN(t,n));var a=this.Xn.get(t);void 0===a&&(a=GT(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),DA=function(){function e(){Lu(this,e),this.Zn=new TE(LA.ts),this.es=new TE(LA.ns)}return Ru(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new LA(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new LA(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new QI(new WI([])),r=new LA(n,e),i=new LA(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new QI(new WI([])),n=new LA(t,e),r=new LA(t,e+1),i=GT();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new LA(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),LA=function(){function e(t,n){Lu(this,e),this.key=t,this.ls=n}return Ru(e,null,[{key:"ts",value:function(e,t){return QI.comparator(e.key,t.key)||VI(e.ls,t.ls)}},{key:"ns",value:function(e,t){return VI(e.ls,t.ls)||QI.comparator(e.key,t.key)}}]),e}(),PA=function(){function e(t,n){Lu(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new TE(LA.ts)}return Ru(e,[{key:"checkEmpty",value:function(e){return sE.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new hN(i,t,n,r);this.mutationQueue.push(a);var o,u=Mu(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new LA(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return sE.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return sE.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return sE.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return sE.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return sE.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new LA(t,0),i=new LA(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),sE.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new TE(VI);return t.forEach((function(e){var t=new LA(e,0),i=new LA(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),sE.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;QI.isDocumentKey(i)||(i=i.child(""));var a=new LA(new QI(i),0),o=new TE(VI);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),sE.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;II(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return sE.forEach(t.mutations,(function(i){var a=new LA(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new LA(t,0),r=this.ds.firstAfterOrEqual(n);return sE.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,sE.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),RA=function(){function e(t){Lu(this,e),this.ps=t,this.docs=new IE(QI.comparator),this.size=0}return Ru(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return sE.resolve(n?n.document.mutableCopy():dS.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=FT();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():dS.newInvalidDocument(e))})),sE.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=FT(),i=new QI(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||rE(tE(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return sE.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){_I()}},{key:"Is",value:function(e,t){return sE.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new MA(this)}},{key:"getSize",value:function(e){return sE.resolve(this.size)}}]),e}(),MA=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this)).zn=e,r}return Ru(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),sE.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(kA),jA=function(){function e(t){Lu(this,e),this.persistence=t,this.Ts=new MT((function(e){return mS(e)}),yS),this.lastRemoteSnapshotVersion=qI.min(),this.highestTargetId=0,this.Es=0,this.As=new DA,this.targetCount=0,this.Rs=sA.An()}return Ru(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),sE.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return sE.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return sE.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),sE.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),sE.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new sA(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,sE.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),sE.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,sE.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),sE.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return sE.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return sE.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),sE.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),sE.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),sE.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return sE.resolve(n)}},{key:"containsKey",value:function(e,t){return sE.resolve(this.As.containsKey(t))}}]),e}(),FA=function(){function e(t,n){var r=this;Lu(this,e),this.bs={},this.overlays={},this.Ps=new bE(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new jA(this),this.indexManager=new HN,this.remoteDocumentCache=new RA((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new mN(n),this.Ds=new AA(this.wt)}return Ru(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new OA,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new PA(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;kI("MemoryPersistence","Starting transaction:",e);var i=new VA(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return sE.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),VA=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ru(n)}(aE),UA=function(){function e(t){Lu(this,e),this.persistence=t,this.ks=new DA,this.Ms=null}return Ru(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw _I()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),sE.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),sE.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),sE.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sE.forEach(this.Fs,(function(r){var i=QI.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,qI.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return sE.or([function(){return sE.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}(),BA=function(){function e(t){Lu(this,e),this.wt=t}return Ru(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new cE("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BC,{unique:!0}),e.createObjectStore("documentMutations")}(e),zA(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=sE.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),zA(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:qI.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BC,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return sE.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:nN});t.createIndex("collectionPathOverlayIndex",rN,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",iN,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:WC});t.createIndex("documentKeyIndex",KC),t.createIndex("collectionGroupIndex",GC)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:JC}).createIndex("sequenceNumberIndex",ZC,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:eN}).createIndex("documentKeyIndex",tN,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=nA(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return sE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return sE.forEach(r,(function(r){II(r.userId===n.userId);var i=wN(t.wt,r);return tA(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new WI(n),o=function(e){return[0,jC(e)]}(a);r.push(t.get(o).next((function(n){return n?sE.resolve():function(n){return t.put({targetId:0,path:jC(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return sE.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:XC});var n=t.store("collectionParents"),r=new WN,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:jC(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new WI(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],UC(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=xN(r),a=_N(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new QI(WI.fromString(i.document.name).popFirst(5)):i.noDocument?QI.fromSegments(i.noDocument.path):i.unknownDocument?QI.fromSegments(i.unknownDocument.path):_I()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return sE.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=wA(this.wt),a=new FA(UA.Os,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:GT();wN(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),sE.forEach(r,(function(e,r){var o=new vI(r),u=ON.se(n.wt,o),s=a.getIndexManager(o),c=rA.se(o,n.wt,s,a.referenceDelegate);return new NA(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new lN(t,bE.ot),e).next()}))}))}}]),e}();function zA(e){e.createObjectStore("targetDocuments",{keyPath:YC}).createIndex("documentTargetsIndex",$C,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",QC,{unique:!0}),e.createObjectStore("targetGlobal")}var qA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",HA=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Lu(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new TI(SI.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yA(this,i),this.ei=n+"main",this.wt=new mN(s),this.ni=new lE(this.ei,this.Hs,new BA(this.wt)),this.Vs=new cA(this.referenceDelegate,this.wt),this.remoteDocumentCache=wA(this.wt),this.Ds=new CN,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&bI("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ru(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new TI(SI.FAILED_PRECONDITION,qA);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new bE(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Ts(Es().mark((function n(r){return Es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Ts(Es().mark((function t(n){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return KA(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(dE(t))return kI("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return kI("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return WA(e).get("owner").next((function(e){return sE.resolve(t.di(e))}))}},{key:"_i",value:function(e){return KA(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Ts(Es().mark((function e(){var t,n,r,i,a=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=fN(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return sE.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Mu(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?sE.resolve(!0):WA(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new TI(SI.FAILED_PRECONDITION,qA);return!1}}return!(!t.networkEnabled||!t.inForeground)||KA(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&kI("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ts(Es().mark((function e(){var t=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new lN(e,bE.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return KA(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return rA.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new GN(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return ON.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;kI("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?cN:14===i?sN:13===i?uN:12===i?oN:11===i?aN:void _I();return this.ni.runTransaction(e,o,u,(function(i){return a=new lN(i,r.Ps?r.Ps.next():bE.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw bI("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new TI(SI.FAILED_PRECONDITION,iE);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return WA(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new TI(SI.FAILED_PRECONDITION,qA)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return WA(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=WA(e);return n.get("owner").next((function(e){return t.di(e)?(kI("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):sE.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(bI("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!ns()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return kI("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return bI("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(vb){bI("Failed to set zombie client id.",vb)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(vb){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return lE.V()}}]),e}();function WA(e){return fN(e,"owner")}function KA(e){return fN(e,"clientMetadata")}function GA(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var QA=function(){function e(t,n,r,i){Lu(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Ru(e,null,[{key:"Vi",value:function(t,n){var r,i=GT(),a=GT(),o=Mu(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),YA=function(){function e(){Lu(this,e),this.Si=!1}return Ru(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(VS(t))return sE.resolve(null);var r=HS(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=WS(t,null,"F"),r=HS(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=GT.apply(void 0,Co(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,WS(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return VS(t)||r.isEqual(qI.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(gI()<=Ds.DEBUG&&kI("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),QS(t)),i.Oi(e,o,t,eE(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new TE(XS(e));return t.forEach((function(t,r){YS(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return gI()<=Ds.DEBUG&&kI("QueryEngine","Using full collection scan to execute query:",QS(t)),this.Di.getDocumentsMatchingQuery(e,t,nE.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),$A=function(){function e(t,n,r,i){Lu(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new IE(VI),this.Bi=new MT((function(e){return mS(e)}),yS),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Ru(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NA(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function XA(e,t,n,r){return new $A(e,t,n,r)}function JA(e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EI(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=GT(),s=Mu(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Mu(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Mu(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Mu(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ZA.apply(this,arguments)}function eO(e,t){var n=EI(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=sE.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);II(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=GT(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function tO(e){var t=EI(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function nO(e,t){var n=EI(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(OE.EMPTY_BYTE_STRING,qI.min()).withLastLimboFreeSnapshotVersion(qI.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=FT(),s=GT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(rO(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(qI.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return sE.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function rO(e,t,n){var r=GT(),i=GT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=FT();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(qI.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):kI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function iO(e,t){var n=EI(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function aO(e,t){var n=EI(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,sE.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new vN(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function oO(e,t,n){return uO.apply(this,arguments)}function uO(){return uO=Ts(Es().mark((function e(t,n,r){var i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=EI(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),dE(e.t1)){e.next=12;break}throw e.t1;case 12:kI("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),uO.apply(this,arguments)}function sO(e,t,n){var r=EI(e),i=qI.min(),a=GT();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=EI(e),i=r.Bi.get(n);return void 0!==i?sE.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,HS(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:qI.min(),n?a:GT())})).next((function(e){return fO(r,$S(t),e),{documents:e,ji:a}}))}))}function cO(e,t){var n=EI(e),r=EI(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function lO(e,t){var n=EI(e),r=n.Li.get(t)||qI.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,eE(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return fO(n,t,e),e}))}function fO(e,t,n){var r=qI.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function hO(e,t,n,r){return dO.apply(this,arguments)}function dO(){return dO=Ts(Es().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=EI(t),o=GT(),u=FT(),s=Mu(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,aO(a,function(e){return HS(FS(WI.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return rO(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),dO.apply(this,arguments)}function pO(e,t){return vO.apply(this,arguments)}function vO(){return vO=Ts(Es().mark((function e(t,n){var r,i,a,o=arguments;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:GT(),e.next=3,aO(t,HS(IN(n.bundledQuery)));case 3:return i=e.sent,a=EI(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=fC(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(OE.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),vO.apply(this,arguments)}function mO(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function yO(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function gO(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var kO=function(){function e(t,n,r,i){Lu(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ru(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new TI(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(bI("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),bO=function(){function e(t,n,r){Lu(this,e),this.targetId=t,this.state=n,this.error=r}return Ru(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new TI(i.error.code,i.error.message))),a?new e(t,i.state,r):(bI("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),wO=function(){function e(t,n){Lu(this,e),this.clientId=t,this.activeTargetIds=n}return Ru(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=YT(),o=0;i&&o<r.activeTargetIds.length;++o)i=qE(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(bI("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),xO=function(){function e(t,n){Lu(this,e),this.clientId=t,this.onlineState=n}return Ru(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(bI("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),_O=function(){function e(){Lu(this,e),this.activeTargetIds=YT()}return Ru(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),IO=function(){function e(t,n,r,i,a){Lu(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new IE(VI),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=mO(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new _O),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Ru(e,[{key:"start",value:function(){var e=Ts(Es().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Mu(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(mO(this.persistenceKey,i)))&&(o=wO.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Mu(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(gO(this.persistenceKey,e));if(n){var r=bO.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(gO(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return kI("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){kI("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){kI("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(kI("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void bI("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Ts(Es().mark((function e(){var r,i,a,o,u,s,c;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=bE.ot;if(null!=e)try{var n=JSON.parse(e);II("number"==typeof n),t=n}catch(e){bI("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==bE.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new kO(this.currentUser,e,t,n),i=yO(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=yO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=gO(this.persistenceKey,e),i=new bO(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return wO.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return kO.Ji(new vI(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return bO.Ji(r,t)}},{key:"wr",value:function(e){return xO.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:kI("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=YT();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),EO=function(){function e(){Lu(this,e),this.Fr=new _O,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ru(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new _O,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),SO=function(){function e(){Lu(this,e)}return Ru(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),TO=function(){function e(){var t=this;Lu(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Ru(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){kI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Mu(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){kI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Mu(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),CO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},NO=function(){function e(t){Lu(this,e),this.jr=t.jr,this.Wr=t.Wr}return Ru(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),AO=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ru(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new dI;o.listenOnce(sI.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case uI.NO_ERROR:var t=o.getResponseJson();kI("Connection","XHR received:",JSON.stringify(t)),i(t);break;case uI.TIMEOUT:kI("Connection",'RPC "'+e+'" timed out'),a(new TI(SI.DEADLINE_EXCEEDED,"Request time out"));break;case uI.HTTP_ERROR:var n=o.getStatus();if(kI("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(SI).indexOf(t)>=0?t:SI.UNKNOWN}(r.status);a(new TI(u,r.message))}else a(new TI(SI.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new TI(SI.UNAVAILABLE,"Connection failed."));break;default:_I()}}finally{kI("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=aI(),a=oI(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new fI({})),this.uo(o.initMessageHeaders,t,n),ts()||is()||es().indexOf("Electron/")>=0||as()||es().indexOf("MSAppHost/")>=0||rs()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");kI("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new NO({jr:function(e){l?kI("Connection","Not sending because WebChannel is closed:",e):(c||(kI("Connection","Opening WebChannel transport."),s.open(),c=!0),kI("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,hI.EventType.OPEN,(function(){l||kI("Connection","WebChannel transport opened.")})),h(s,hI.EventType.CLOSE,(function(){l||(l=!0,kI("Connection","WebChannel transport closed"),f.eo())})),h(s,hI.EventType.ERROR,(function(e){l||(l=!0,wI("Connection","WebChannel transport errored:",e),f.eo(new TI(SI.UNAVAILABLE,"The operation could not be completed")))})),h(s,hI.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];II(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){kI("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=NT[e];if(void 0!==t)return RT(t)}(a),u=i.message;void 0===o&&(o=SI.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new TI(o,u)),s.close()}else kI("Connection","WebChannel received:",n),f.no(n)}})),h(a,cI.STAT_EVENT,(function(e){e.stat===lI.PROXY?kI("Connection","Detected buffering proxy"):e.stat===lI.NOPROXY&&kI("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Lu(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ru(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);kI("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return kI("RestConnection","Received: ",e),e}),(function(t){throw wI("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+mI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=CO[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function OO(){return"undefined"!=typeof window?window:null}function DO(){return"undefined"!=typeof document?document:null}function LO(e){return new uC(e,!0)}var PO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Lu(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Ru(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&kI("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),RO=function(){function e(t,n,r,i,a,o,u,s){Lu(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new PO(t,n)}return Ru(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===SI.RESOURCE_EXHAUSTED?(bI(n.toString()),bI("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===SI.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new TI(SI.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Ts(Es().mark((function t(){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return kI("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(kI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),MO=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i,a,o,u){var s;return Lu(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return Ru(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:_I()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(II(void 0===t||"string"==typeof t),OE.fromBase64String(t||"")):(II(void 0===t||t instanceof Uint8Array),OE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?SI.UNKNOWN:RT(e.code);return new TI(t,e.message||"")}(o);n=new eC(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=vC(e,s.document.name),l=fC(s.document.updateTime),f=new fS({mapValue:{fields:s.document.fields}}),h=dS.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new JT(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=vC(e,v.document),y=v.readTime?fC(v.readTime):qI.min(),g=dS.newNoDocument(m,y),k=v.removedTargetIds||[];n=new JT([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=vC(e,b.document),x=b.removedTargetIds||[];n=new JT([],x,w,null)}else{if(!("filter"in t))return _I();t.filter;var _=t.filter;_.targetId;var I=_.count||0,E=new LT(I),S=_.targetId;n=new ZT(S,E)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return qI.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?qI.min():t.readTime?fC(t.readTime):qI.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=gC(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=gS(r)?{documents:EC(e,r)}:{query:SC(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=cC(e,t.resumeToken):t.snapshotVersion.compareTo(qI.min())>0&&(n.readTime=sC(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _I()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=gC(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(RO),jO=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i,a,o,u){var s;return Lu(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return Ru(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Uh(Uu(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(II(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(II(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?fC(e.updateTime):fC(t);return n.isEqual(qI.min())&&(n=fC(t)),new vT(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=fC(e.commitTime);return this.listener.Jo(n,t)}return II(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=gC(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return _C(t.wt,e)}))};this.Oo(n)}}]),n}(RO),FO=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i,a){var o;return Lu(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return Ru(n,[{key:"tu",value:function(){if(this.Zo)throw new TI(SI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===SI.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new TI(SI.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.bo.ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===SI.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new TI(SI.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Ru((function e(){Lu(this,e)}))}()),VO=function(){function e(t,n){Lu(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Ru(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(bI(t),this.su=!1):kI("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),UO=Ru((function e(t,n,r,i,a){var o=this;Lu(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=XO(o),!e.t0){e.next=5;break}return kI("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=EI(t)).lu.add(4),e.next=4,qO(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,BO(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new VO(r,i)}));function BO(e){return zO.apply(this,arguments)}function zO(){return zO=Ts(Es().mark((function e(t){var n,r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!XO(t)){e.next=18;break}n=Mu(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),zO.apply(this,arguments)}function qO(e){return HO.apply(this,arguments)}function HO(){return HO=Ts(Es().mark((function e(t){var n,r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mu(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),HO.apply(this,arguments)}function WO(e,t){var n=EI(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),$O(n)?YO(n):SD(n).Co()&&GO(n,t))}function KO(e,t){var n=EI(e),r=SD(n);n.hu.delete(t),r.Co()&&QO(n,t),0===n.hu.size&&(r.Co()?r.ko():XO(n)&&n._u.set("Unknown"))}function GO(e,t){e.wu.Nt(t.targetId),SD(e).Qo(t)}function QO(e,t){e.wu.Nt(t),SD(e).jo(t)}function YO(e){e.wu=new nC({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),SD(e).start(),e._u.iu()}function $O(e){return XO(e)&&!SD(e).Do()&&e.hu.size>0}function XO(e){return 0===EI(e).lu.size}function JO(e){e.wu=void 0}function ZO(e){return eD.apply(this,arguments)}function eD(){return eD=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){GO(t,e)}));case 1:case"end":return e.stop()}}),e)}))),eD.apply(this,arguments)}function tD(e,t){return nD.apply(this,arguments)}function nD(){return nD=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:JO(t),$O(t)?(t._u.uu(n),YO(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),nD.apply(this,arguments)}function rD(e,t,n){return iD.apply(this,arguments)}function iD(){return iD=Ts(Es().mark((function e(t,n,r){var i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof eC&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ts(Es().mark((function e(t,n){var r,i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Mu(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),kI("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,aD(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof JT?t.wu.Ut(n):n instanceof ZT?t.wu.zt(n):t.wu.Gt(n),r.isEqual(qI.min())){e.next=29;break}return e.prev=14,e.next=17,tO(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(OE.EMPTY_BYTE_STRING,n.snapshotVersion)),QO(e,t);var r=new vN(n.target,t,1,n.sequenceNumber);GO(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),kI("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,aD(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),iD.apply(this,arguments)}function aD(e,t,n){return oD.apply(this,arguments)}function oD(){return oD=Ts(Es().mark((function e(t,n,r){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dE(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,qO(t);case 5:t._u.set("Offline"),r||(r=function(){return tO(t.localStore)}),t.asyncQueue.enqueueRetryable(Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kI("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,BO(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),oD.apply(this,arguments)}function uD(e,t){return t().catch((function(n){return aD(e,n,t)}))}function sD(e){return cD.apply(this,arguments)}function cD(){return cD=Ts(Es().mark((function e(t){var n,r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=EI(t),r=TD(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!lD(n)){e.next=19;break}return e.prev=3,e.next=6,iO(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,fD(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,aD(n,e.t0);case 17:e.next=2;break;case 19:hD(n)&&dD(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),cD.apply(this,arguments)}function lD(e){return XO(e)&&e.au.length<10}function fD(e,t){e.au.push(t);var n=TD(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function hD(e){return XO(e)&&!TD(e).Do()&&e.au.length>0}function dD(e){TD(e).start()}function pD(e){return vD.apply(this,arguments)}function vD(){return vD=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:TD(t).Xo();case 1:case"end":return e.stop()}}),e)}))),vD.apply(this,arguments)}function mD(e){return yD.apply(this,arguments)}function yD(){return yD=Ts(Es().mark((function e(t){var n,r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=TD(t),r=Mu(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),yD.apply(this,arguments)}function gD(e,t,n){return kD.apply(this,arguments)}function kD(){return kD=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=dN.from(i,n,r),e.next=3,uD(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,sD(t);case 5:case"end":return e.stop()}}),e)}))),kD.apply(this,arguments)}function bD(e,t){return wD.apply(this,arguments)}function wD(){return wD=Ts(Es().mark((function e(t,n){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&TD(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ts(Es().mark((function e(t,n){var r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!PT(i=n.code)||i===SI.ABORTED){e.next=7;break}return r=t.au.shift(),TD(t).No(),e.next=5,uD(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,sD(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:hD(t)&&dD(t);case 5:case"end":return e.stop()}}),e)}))),wD.apply(this,arguments)}function xD(e,t){return _D.apply(this,arguments)}function _D(){return _D=Ts(Es().mark((function e(t,n){var r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=EI(t)).asyncQueue.verifyOperationInProgress(),kI("RemoteStore","RemoteStore received new credentials"),i=XO(r),r.lu.add(3),e.next=6,qO(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,BO(r);case 12:case"end":return e.stop()}}),e)}))),_D.apply(this,arguments)}function ID(e,t){return ED.apply(this,arguments)}function ED(){return ED=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=EI(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,BO(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,qO(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ED.apply(this,arguments)}function SD(e){return e.mu||(e.mu=function(e,t,n){var r=EI(e);return r.tu(),new MO(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:ZO.bind(null,e),Jr:tD.bind(null,e),Go:rD.bind(null,e)}),e.fu.push(function(){var t=Ts(Es().mark((function t(n){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),$O(e)?YO(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:JO(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function TD(e){return e.gu||(e.gu=function(e,t,n){var r=EI(e);return r.tu(),new jO(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:pD.bind(null,e),Jr:bD.bind(null,e),Yo:mD.bind(null,e),Jo:gD.bind(null,e)}),e.fu.push(function(){var t=Ts(Es().mark((function t(n){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,sD(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(kI("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var CD=function(){function e(t,n,r,i,a){Lu(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new CI,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ru(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new TI(SI.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ND(e,t){if(bI("AsyncQueue","".concat(t,": ").concat(e)),dE(e))return new TI(SI.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var AD=function(){function e(t){Lu(this,e),this.comparator=t?function(e,n){return t(e,n)||QI.comparator(e.key,n.key)}:function(e,t){return QI.comparator(e.key,t.key)},this.keyedMap=UT(),this.sortedSet=new IE(this.comparator)}return Ru(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),OD=function(){function e(){Lu(this,e),this.yu=new IE(QI.comparator)}return Ru(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):_I():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),DD=function(){function e(t,n,r,i,a,o,u,s){Lu(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ru(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&KS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,AD.emptySet(n),a,r,i,!0,!1)}}]),e}(),LD=Ru((function e(){Lu(this,e),this.Iu=void 0,this.listeners=[]})),PD=Ru((function e(){Lu(this,e),this.queries=new MT((function(e){return GS(e)}),KS),this.onlineState="Unknown",this.Tu=new Set}));function RD(e,t){return MD.apply(this,arguments)}function MD(){return MD=Ts(Es().mark((function e(t,n){var r,i,a,o,u;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=EI(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new LD),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ND(e.t0,"Initialization of query '".concat(QS(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&BD(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),MD.apply(this,arguments)}function jD(e,t){return FD.apply(this,arguments)}function FD(){return FD=Ts(Es().mark((function e(t,n){var r,i,a,o,u;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=EI(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),FD.apply(this,arguments)}function VD(e,t){var n,r=EI(e),i=!1,a=Mu(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Mu(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&BD(r)}function UD(e,t,n){var r=EI(e),i=r.queries.get(t);if(i){var a,o=Mu(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function BD(e){e.Tu.forEach((function(e){e.next()}))}var zD=function(){function e(t,n,r){Lu(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Ru(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Mu(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new DD(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=DD.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),qD=function(){function e(t,n){Lu(this,e),this.payload=t,this.byteLength=n}return Ru(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),HD=function(){function e(t){Lu(this,e),this.wt=t}return Ru(e,[{key:"Wi",value:function(e){return vC(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?wC(this.wt,e.document,!1):dS.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return fC(e)}}]),e}(),WD=function(){function e(t,n,r){Lu(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KD(t)}return Ru(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=WI.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new HD(this.wt),i=Mu(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=Mu(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||GT()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ts(Es().mark((function e(){var t,n,r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hO(this.localStore,new HD(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Mu(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,pO(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function KD(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var GD=Ru((function e(t){Lu(this,e),this.key=t})),QD=Ru((function e(t){Lu(this,e),this.key=t})),YD=function(){function e(t,n){Lu(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=GT(),this.mutatedKeys=GT(),this.Lu=XS(t),this.Uu=new AD(this.Lu)}return Ru(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new OD,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=YS(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _I()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new DD(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new OD,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=GT(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new QD(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new GD(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=GT();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return DD.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),$D=Ru((function e(t,n,r){Lu(this,e),this.query=t,this.targetId=n,this.view=r})),XD=Ru((function e(t){Lu(this,e),this.key=t,this.Xu=!1})),JD=function(){function e(t,n,r,i,a,o){Lu(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new MT((function(e){return GS(e)}),KS),this.ec=new Map,this.nc=new Set,this.sc=new IE(QI.comparator),this.ic=new Map,this.rc=new DA,this.oc={},this.uc=new Map,this.cc=sA.Rn(),this.onlineState="Unknown",this.ac=void 0}return Ru(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function ZD(e,t){return eL.apply(this,arguments)}function eL(){return eL=Ts(Es().mark((function e(t,n){var r,i,a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=KL(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,aO(r.localStore,HS(n));case 8:return u=e.sent,r.isPrimaryClient&&WO(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,tL(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),eL.apply(this,arguments)}function tL(e,t,n,r){return nL.apply(this,arguments)}function nL(){return nL=Ts(Es().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Ts(Es().mark((function e(t,n,r,i){var a,o,u;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,sO(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(xL(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,sO(t.localStore,n,!0);case 3:return a=e.sent,o=new YD(n,a.ji),u=o.Ku(a.documents),s=XT.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),xL(t,r,c.zu),l=new $D(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),nL.apply(this,arguments)}function rL(e,t){return iL.apply(this,arguments)}function iL(){return iL=Ts(Es().mark((function e(t,n){var r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=EI(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!KS(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,oO(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),KO(r.remoteStore,i.targetId),bL(r,i.targetId)})).catch(oE);case 9:e.next=14;break;case 11:return bL(r,i.targetId),e.next=14,oO(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),iL.apply(this,arguments)}function aL(e,t,n){return oL.apply(this,arguments)}function oL(){return oL=Ts(Es().mark((function e(t,n,r){var i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=GL(t),e.prev=1,e.next=4,function(e,t){var n,r,i=EI(e),a=zI.now(),o=t.reduce((function(e,t){return e.add(t.key)}),GT());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=FT(),s=GT();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Mu(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=xT(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new ET(c.key,l,hS(l.value.mapValue),mT.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:BT(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new IE(VI)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,EL(i,a.changes);case 9:return e.next=11,sD(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ND(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),oL.apply(this,arguments)}function uL(e,t){return sL.apply(this,arguments)}function sL(){return sL=Ts(Es().mark((function e(t,n){var r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EI(t),e.prev=1,e.next=4,nO(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(II(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?II(n.Xu):e.removedDocuments.size>0&&(II(n.Xu),n.Xu=!1))})),e.next=8,EL(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,oE(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),sL.apply(this,arguments)}function cL(e,t,n){var r=EI(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=EI(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Mu(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&BD(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function lL(e,t,n){return fL.apply(this,arguments)}function fL(){return fL=Ts(Es().mark((function e(t,n,r){var i,a,o,u,s,c;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=EI(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new IE(QI.comparator)).insert(o,dS.newNoDocument(o,qI.min())),s=GT().add(o),c=new $T(qI.min(),new Map,new TE(VI),u,s),e.next=9,uL(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),IL(i),e.next=16;break;case 14:return e.next=16,oO(i.localStore,n,!1).then((function(){return bL(i,n,r)})).catch(oE);case 16:case"end":return e.stop()}}),e)}))),fL.apply(this,arguments)}function hL(e,t){return dL.apply(this,arguments)}function dL(){return dL=Ts(Es().mark((function e(t,n){var r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EI(t),i=n.batch.batchId,e.prev=1,e.next=4,eO(r.localStore,n);case 4:return a=e.sent,kL(r,i,null),gL(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,EL(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,oE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),dL.apply(this,arguments)}function pL(e,t,n){return vL.apply(this,arguments)}function vL(){return vL=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EI(t),e.prev=1,e.next=4,function(e,t){var n=EI(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return II(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,kL(i,n,r),gL(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,EL(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,oE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vL.apply(this,arguments)}function mL(e,t){return yL.apply(this,arguments)}function yL(){return yL=Ts(Es().mark((function e(t,n){var r,i,a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XO((r=EI(t)).remoteStore)||kI("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=EI(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ND(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),yL.apply(this,arguments)}function gL(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function kL(e,t,n){var r=EI(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function bL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Mu(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||wL(e,t)}))}function wL(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(KO(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),IL(e))}function xL(e,t,n){var r,i=Mu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof GD?(e.rc.addReference(a.key,t),_L(e,a)):a instanceof QD?(kI("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||wL(e,a.key)):_I()}}catch(o){i.e(o)}finally{i.f()}}function _L(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(kI("SyncEngine","New document in limbo: "+n),e.nc.add(r),IL(e))}function IL(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new QI(WI.fromString(t)),r=e.cc.next();e.ic.set(r,new XD(n)),e.sc=e.sc.insert(n,r),WO(e.remoteStore,new vN(HS(FS(n.path)),r,2,bE.ot))}}function EL(e,t,n){return SL.apply(this,arguments)}function SL(){return SL=Ts(Es().mark((function e(t,n,r){var i,a,o,u;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=EI(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=QA.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Ts(Es().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EI(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return sE.forEach(n,(function(t){return sE.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return sE.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),dE(e.t0)){e.next=10;break}throw e.t0;case 10:kI("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Mu(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),SL.apply(this,arguments)}function TL(e,t){return CL.apply(this,arguments)}function CL(){return CL=Ts(Es().mark((function e(t,n){var r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=EI(t)).currentUser.isEqual(n)){e.next=11;break}return kI("SyncEngine","User change. New user:",n.toKey()),e.next=5,JA(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new TI(SI.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,EL(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),CL.apply(this,arguments)}function NL(e,t){var n=EI(e),r=n.ic.get(t);if(r&&r.Xu)return GT().add(r.key);var i=GT(),a=n.ec.get(t);if(!a)return i;var o,u=Mu(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function AL(e,t){return OL.apply(this,arguments)}function OL(){return OL=Ts(Es().mark((function e(t,n){var r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EI(t),e.next=3,sO(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&xL(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),OL.apply(this,arguments)}function DL(e,t){return LL.apply(this,arguments)}function LL(){return LL=Ts(Es().mark((function e(t,n){var r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EI(t),e.abrupt("return",lO(r.localStore,n).then((function(e){return EL(r,e)})));case 2:case"end":return e.stop()}}),e)}))),LL.apply(this,arguments)}function PL(e,t,n,r){return RL.apply(this,arguments)}function RL(){return RL=Ts(Es().mark((function e(t,n,r,i){var a,o;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=EI(t),e.next=3,function(e,t){var n=EI(e),r=EI(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):sE.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,sD(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(kL(a,n,i||null),gL(a,n),function(e,t){EI(EI(e).mutationQueue).In(t)}(a.localStore,n)):_I();case 11:return e.next=13,EL(a,o);case 13:e.next=16;break;case 15:kI("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),RL.apply(this,arguments)}function ML(e,t){return jL.apply(this,arguments)}function jL(){return jL=Ts(Es().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(KL(r=EI(t)),GL(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,FL(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,ID(r.remoteStore,!0);case 9:o=Mu(a);try{for(o.s();!(u=o.n()).done;)s=u.value,WO(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return bL(r,t),oO(r.localStore,t,!0)})),KO(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,FL(r,c);case 21:return function(e){var t=EI(e);t.ic.forEach((function(e,n){KO(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new IE(QI.comparator)}(r),r.ac=!1,e.next=25,ID(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),jL.apply(this,arguments)}function FL(e,t,n){return VL.apply(this,arguments)}function VL(){return VL=Ts(Es().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=EI(t),a=[],o=[],u=Mu(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,aO(i.localStore,HS(f[0]));case 11:l=e.sent,h=Mu(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,AL(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,cO(i.localStore,c);case 36:return y=e.sent,e.next=39,aO(i.localStore,y);case 39:return l=e.sent,e.next=42,tL(i,UL(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),VL.apply(this,arguments)}function UL(e){return jS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function BL(e){var t=EI(e);return EI(EI(t.localStore).persistence).Ri()}function zL(e,t,n,r){return qL.apply(this,arguments)}function qL(){return qL=Ts(Es().mark((function e(t,n,r,i){var a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=EI(t)).ac){e.next=3;break}return e.abrupt("return",void kI("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,lO(a.localStore,$S(o[0]));case 10:return u=e.sent,s=$T.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,EL(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,oO(a.localStore,n,!0);case 17:return bL(a,n,i),e.abrupt("break",20);case 19:_I();case 20:case"end":return e.stop()}}),e)}))),qL.apply(this,arguments)}function HL(e,t,n){return WL.apply(this,arguments)}function WL(){return WL=Ts(Es().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=KL(t)).ac){e.next=45;break}a=Mu(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return kI("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,cO(i.localStore,u);case 12:return s=e.sent,e.next=15,aO(i.localStore,s);case 15:return c=e.sent,e.next=18,tL(i,UL(s),c.targetId,!1);case 18:WO(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Mu(r),e.prev=30,h=Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,oO(i.localStore,t,!1).then((function(){KO(i.remoteStore,t),bL(i,t)})).catch(oE);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),WL.apply(this,arguments)}function KL(e){var t=EI(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lL.bind(null,t),t.Zu.Go=VD.bind(null,t.eventManager),t.Zu.lc=UD.bind(null,t.eventManager),t}function GL(e){var t=EI(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pL.bind(null,t),t}function QL(e,t,n){var r=EI(e);(function(){var e=Ts(Es().mark((function e(t,n,r){var i,a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=EI(e),r=fC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(KD(i)),a=new WD(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,EL(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=EI(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(wI("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var YL=function(){function e(){Lu(this,e),this.synchronizeTabs=!1}return Ru(e,[{key:"initialize",value:function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=LO(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return XA(this.persistence,new YA,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new FA(UA.Os,this.wt)}},{key:"dc",value:function(e){return new EO}},{key:"terminate",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),$L=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a;return Lu(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ru(n,[{key:"initialize",value:function(){var e=Ts(Es().mark((function e(t){var r=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uh(Uu(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,GL(this.yc.syncEngine);case 6:return e.next=8,sD(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return XA(this.persistence,new YA,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new vA(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new kE(t,this.persistence);return new gE(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=GA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?eA.withCacheSize(this.cacheSizeBytes):eA.DEFAULT;return new HA(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,OO(),DO(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new EO}}]),n}(YL),XL=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ru(n,[{key:"initialize",value:function(){var e=Ts(Es().mark((function e(t){var r,i=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uh(Uu(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof IO,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:PL.bind(null,r),Mr:zL.bind(null,r),Or:HL.bind(null,r),Ri:BL.bind(null,r),Nr:DL.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ML(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=OO();if(!IO.V(t))throw new TI(SI.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=GA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IO(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}($L),JL=function(){function e(){Lu(this,e)}return Ru(e,[{key:"initialize",value:function(){var e=Ts(Es().mark((function e(t,n){var r=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return cL(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=TL.bind(null,this.syncEngine),e.next=12,ID(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new PD}},{key:"createDatastore",value:function(e){var t,n=LO(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new AO(t));return function(e,t,n,r){return new FO(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return cL(o.syncEngine,e,0)},a=TO.V()?new TO:new SO,new UO(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new JD(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=EI(t),kI("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,qO(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ZL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ts(Es().mark((function r(){var i;return Es().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var eP=function(){function e(t){Lu(this,e),this.observer=t,this.muted=!1}return Ru(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):bI("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),tP=function(){function e(t,n){var r=this;Lu(this,e),this.Ec=t,this.wt=n,this.metadata=new CI,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ru(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Ts(Es().mark((function e(){var t,n,r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new qD(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Ts(Es().mark((function e(){var t,n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Ts(Es().mark((function e(){var t,n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),nP=function(){function e(t){Lu(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ru(e,[{key:"lookup",value:function(){var e=Ts(Es().mark((function e(t){var n,r=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new TI(SI.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ts(Es().mark((function e(t,n){var r,i,a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EI(t),i=gC(r.wt)+"/documents",a={documents:n.map((function(e){return pC(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=xC(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());II(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new OT(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ts(Es().mark((function e(){var t,n=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=QI.fromPath(t);n.mutations.push(new DT(r,n.precondition(r)))})),e.next=7,function(){var e=Ts(Es().mark((function e(t,n){var r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EI(t),i=gC(r.wt)+"/documents",a={writes:n.map((function(e){return _C(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _I();t=qI.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new TI(SI.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?mT.updateTime(t):mT.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(qI.min()))throw new TI(SI.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mT.updateTime(t)}return mT.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),rP=function(){function e(t,n,r,i,a){Lu(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new PO(this.asyncQueue,"transaction_retry")}return Ru(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Ts(Es().mark((function t(){var n,r;return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new nP(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!BE(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!PT(t)}return!1}}]),e}(),iP=function(){function e(t,n,r,i){var a=this;Lu(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vI.UNAUTHENTICATED,this.clientId=FI.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kI("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return kI("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ru(e,[{key:"getConfiguration",value:function(){var e=Ts(Es().mark((function e(){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new TI(SI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new CI;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ts(Es().mark((function n(){var r;return Es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ND(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function aP(e,t){return oP.apply(this,arguments)}function oP(){return oP=Ts(Es().mark((function e(t,n){var r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),kI("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,JA(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),oP.apply(this,arguments)}function uP(e,t){return sP.apply(this,arguments)}function sP(){return sP=Ts(Es().mark((function e(t,n){var r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,cP(t);case 3:return r=e.sent,kI("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return xD(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return xD(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),sP.apply(this,arguments)}function cP(e){return lP.apply(this,arguments)}function lP(){return lP=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return kI("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,aP(t,new YL);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),lP.apply(this,arguments)}function fP(e){return hP.apply(this,arguments)}function hP(){return hP=Ts(Es().mark((function e(t){return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return kI("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,uP(t,new JL);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),hP.apply(this,arguments)}function dP(e){return cP(e).then((function(e){return e.persistence}))}function pP(e){return cP(e).then((function(e){return e.localStore}))}function vP(e){return fP(e).then((function(e){return e.remoteStore}))}function mP(e){return fP(e).then((function(e){return e.syncEngine}))}function yP(e){return gP.apply(this,arguments)}function gP(){return gP=Ts(Es().mark((function e(t){var n,r;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fP(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ZD.bind(null,n.syncEngine),r.onUnlisten=rL.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),gP.apply(this,arguments)}function kP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new CI;return e.asyncQueue.enqueueAndForget(Ts(Es().mark((function i(){return Es().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new eP({next:function(a){t.enqueueAndForget((function(){return jD(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new TI(SI.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new TI(SI.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new zD(FS(n.path),a,{includeMetadataChanges:!0,Du:!0});return RD(e,o)},i.next=3,yP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function bP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new CI;return e.asyncQueue.enqueueAndForget(Ts(Es().mark((function i(){return Es().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new eP({next:function(n){t.enqueueAndForget((function(){return jD(e,o)})),n.fromCache&&"server"===r.source?i.reject(new TI(SI.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new zD(n,a,{includeMetadataChanges:!0,Du:!0});return RD(e,o)},i.next=3,yP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var wP=new Map;function xP(e,t,n){if(!n)throw new TI(SI.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function _P(e,t,n,r){if(!0===t&&!0===r)throw new TI(SI.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function IP(e){if(!QI.isDocumentKey(e))throw new TI(SI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function EP(e){if(QI.isDocumentKey(e))throw new TI(SI.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function SP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":_I()}function TP(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new TI(SI.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=SP(e);throw new TI(SI.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function CP(e,t){if(t<=0)throw new TI(SI.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var NP=function(){function e(t){var n;if(Lu(this,e),void 0===t.host){if(void 0!==t.ssl)throw new TI(SI.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new TI(SI.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,_P("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ru(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),AP=function(){function e(t,n,r){Lu(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NP({}),this._settingsFrozen=!1,t instanceof UE?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new TI(SI.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new UE(e.options.projectId)}(t))}return Ru(e,[{key:"app",get:function(){if(!this._app)throw new TI(SI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new TI(SI.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new AI;switch(e.type){case"gapi":var t=e.client;return II(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new PI(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new TI(SI.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=wP.get(e);t&&(kI("ComponentProvider","Removing Datastore"),wP.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function OP(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=TP(e,AP))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&wI("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=vI.MOCK_USER;else{o=Zu(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new TI(SI.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new vI(s)}e._authCredentials=new OI(new NI(o,u))}}var DP=function(){function e(t,n,r){Lu(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ru(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new PP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),LP=function(){function e(t,n,r){Lu(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ru(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),PP=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a;return Lu(this,n),(a=t.call(this,e,r,FS(i)))._path=i,a.type="collection",a}return Ru(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new DP(this.firestore,null,new QI(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(LP);function RP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Is(e),xP("collection","path",t),e instanceof AP){var a=WI.fromString.apply(WI,[t].concat(r));return EP(a),new PP(e,null,a)}if(!(e instanceof DP||e instanceof PP))throw new TI(SI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(WI.fromString.apply(WI,[t].concat(r)));return EP(o),new PP(e.firestore,null,o)}function MP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Is(e),1===arguments.length&&(t=FI.I()),xP("doc","path",t),e instanceof AP){var a=WI.fromString.apply(WI,[t].concat(r));return IP(a),new DP(e,null,new QI(a))}if(!(e instanceof DP||e instanceof PP))throw new TI(SI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(WI.fromString.apply(WI,[t].concat(r)));return IP(o),new DP(e.firestore,e instanceof PP?e.converter:null,new QI(o))}function jP(e,t){return e=Is(e),t=Is(t),(e instanceof DP||e instanceof PP)&&(t instanceof DP||t instanceof PP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function FP(e,t){return e=Is(e),t=Is(t),e instanceof LP&&t instanceof LP&&e.firestore===t.firestore&&KS(e._query,t._query)&&e.converter===t.converter}var VP=function(){function e(){var t=this;Lu(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new PO(this,"async_queue_retry"),this.Kc=function(){var e=DO();e&&kI("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=DO();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Ru(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=DO();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new CI;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Ts(Es().mark((function e(){var t=this;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),dE(e.t0)){e.next=12;break}throw e.t0;case 12:kI("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw bI("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=CD.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&_I()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Mu(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Mu(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function UP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Mu(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var BP=function(){function e(){Lu(this,e),this._progressObserver={},this._taskCompletionResolver=new CI,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ru(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),zP=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a;return Lu(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new VP,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ru(n,[{key:"_terminate",value:function(){return this._firestoreClient||HP(this),this._firestoreClient.terminate()}}]),n}(AP);function qP(e){return e._firestoreClient||HP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function HP(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new VE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new iP(e._authCredentials,e._appCheckCredentials,e._queue,r)}function WP(e,t,n){var r=new CI;return e.asyncQueue.enqueue(Ts(Es().mark((function i(){var a;return Es().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,aP(e,n);case 3:return i.next=5,uP(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===SI.FAILED_PRECONDITION||e.code===SI.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:wI("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function KP(e){return function(e){return e.asyncQueue.enqueue(Ts(Es().mark((function t(){var n,r;return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dP(e);case 2:return n=t.sent,t.next=5,vP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=EI(e);return t.lu.delete(0),BO(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(qP(e=TP(e,zP)))}function GP(e){return function(e){return e.asyncQueue.enqueue(Ts(Es().mark((function t(){var n,r;return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dP(e);case 2:return n=t.sent,t.next=5,vP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=EI(t)).lu.add(0),e.next=4,qO(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(qP(e=TP(e,zP)))}function QP(e,t){var n=qP(e=TP(e,zP)),r=new BP;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new tP(e,t)}(function(e,t){if(e instanceof Uint8Array)return ZL(e,t);if(e instanceof ArrayBuffer)return ZL(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,LO(t));e.asyncQueue.enqueueAndForget(Ts(Es().mark((function t(){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=QL,t.next=3,mP(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function YP(e,t){return function(e,t){return e.asyncQueue.enqueue(Ts(Es().mark((function n(){return Es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=EI(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,pP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(qP(e=TP(e,zP)),t).then((function(t){return t?new LP(e,null,t.query):null}))}function $P(e){if(e._initialized||e._terminated)throw new TI(SI.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var XP=function(){function e(){Lu(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new TI(SI.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new GI(n)}return Ru(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var JP=function(){function e(t){Lu(this,e),this._byteString=t}return Ru(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(OE.fromBase64String(t))}catch(t){throw new TI(SI.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(OE.fromUint8Array(t))}}]),e}(),ZP=Ru((function e(t){Lu(this,e),this._methodName=t})),eR=function(){function e(t,n){if(Lu(this,e),!isFinite(t)||t<-90||t>90)throw new TI(SI.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new TI(SI.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ru(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return VI(this._lat,e._lat)||VI(this._long,e._long)}}]),e}(),tR=/^__.*__$/,nR=function(){function e(t,n,r){Lu(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ru(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ET(e,this.data,this.fieldMask,t,this.fieldTransforms):new IT(e,this.data,t,this.fieldTransforms)}}]),e}(),rR=function(){function e(t,n,r){Lu(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ru(e,[{key:"toMutation",value:function(e,t){return new ET(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function iR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _I()}}var aR=function(){function e(t,n,r,i,a,o){Lu(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ru(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return ER(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(iR(this.Zc)&&tR.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),oR=function(){function e(t,n,r){Lu(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||LO(t)}return Ru(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new aR({Zc:e,methodName:t,ca:n,path:GI.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function uR(e){var t=e._freezeSettings(),n=LO(e._databaseId);return new oR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sR(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);wR("Data must be an object, but it was:",o,r);var u,s,c=kR(r,o);if(a.merge)u=new AE(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Mu(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=xR(t,d,n);if(!o.contains(p))throw new TI(SI.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));SR(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new AE(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new nR(new fS(c),u,s)}var cR=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.apply(this,arguments)}return Ru(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ZP);function lR(e,t,n){return new aR({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var fR=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.apply(this,arguments)}return Ru(n,[{key:"_toFieldTransform",value:function(e){return new pT(e.path,new oT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ZP),hR=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,e)).ha=r,i}return Ru(n,[{key:"_toFieldTransform",value:function(e){var t=lR(this,e,!0),n=this.ha.map((function(e){return gR(e,t)})),r=new uT(n);return new pT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ZP),dR=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,e)).ha=r,i}return Ru(n,[{key:"_toFieldTransform",value:function(e){var t=lR(this,e,!0),n=this.ha.map((function(e){return gR(e,t)})),r=new cT(n);return new pT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ZP),pR=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,e)).la=r,i}return Ru(n,[{key:"_toFieldTransform",value:function(e){var t=new fT(e.wt,tT(e.wt,this.la));return new pT(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ZP);function vR(e,t,n,r){var i=e.aa(1,t,n);wR("Data must be an object, but it was:",i,r);var a=[],o=fS.empty();xE(r,(function(e,r){var u=IR(t,e,n);r=Is(r);var s=i.ia(u);if(r instanceof cR)a.push(u);else{var c=gR(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new AE(a);return new rR(o,u,i.fieldTransforms)}function mR(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[xR(t,r,n)],s=[i];if(a.length%2!=0)throw new TI(SI.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(xR(t,a[c])),s.push(a[c+1]);for(var l=[],f=fS.empty(),h=u.length-1;h>=0;--h)if(!SR(l,u[h])){var d=u[h],p=s[h];p=Is(p);var v=o.ia(d);if(p instanceof cR)l.push(d);else{var m=gR(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new AE(l);return new rR(f,y,o.fieldTransforms)}function yR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gR(n,e.aa(r?4:3,t))}function gR(e,t){if(bR(e=Is(e)))return wR("Unsupported field value:",t,e),kR(e,t);if(e instanceof ZP)return function(e,t){if(!iR(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Mu(e);try{for(a.s();!(n=a.n()).done;){var o=gR(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Is(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tT(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=zI.fromDate(e);return{timestampValue:sC(t.wt,n)}}if(e instanceof zI){var r=new zI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sC(t.wt,r)}}if(e instanceof eR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof JP)return{bytesValue:cC(t.wt,e._byteString)};if(e instanceof DP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:hC(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(SP(e)))}(e,t)}function kR(e,t){var n={};return _E(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xE(e,(function(e,r){var i=gR(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function bR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zI||e instanceof eR||e instanceof JP||e instanceof DP||e instanceof ZP)}function wR(e,t,n){if(!bR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=SP(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function xR(e,t,n){if((t=Is(t))instanceof XP)return t._internalPath;if("string"==typeof t)return IR(e,t);throw ER("Field path arguments must be of type string or ",e,!1,void 0,n)}var _R=new RegExp("[~\\*/\\[\\]]");function IR(e,t,n){if(t.search(_R)>=0)throw ER("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Wu(XP,Co(t.split(".")))._internalPath}catch(r){throw ER("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ER(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new TI(SI.INVALID_ARGUMENT,u+e+s)}function SR(e,t){return e.some((function(e){return e.isEqual(t)}))}var TR=function(){function e(t,n,r,i,a){Lu(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ru(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new DP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new CR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(NR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),CR=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.apply(this,arguments)}return Ru(n,[{key:"data",value:function(){return Uh(Uu(n.prototype),"data",this).call(this)}}]),n}(TR);function NR(e,t){return"string"==typeof t?IR(e,t):t instanceof XP?t._internalPath:t._delegate._internalPath}var AR=function(){function e(t,n){Lu(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ru(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),OR=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i,a,o,u){var s;return Lu(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ru(n,[{key:"exists",value:function(){return Uh(Uu(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new DR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(NR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(TR),DR=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.apply(this,arguments)}return Ru(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Uh(Uu(n.prototype),"data",this).call(this,e)}}]),n}(OR),LR=function(){function e(t,n,r,i){Lu(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new AR(i.hasPendingWrites,i.fromCache),this.query=r}return Ru(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new DR(n._firestore,n._userDataWriter,r.key,r,new AR(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new TI(SI.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new DR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new DR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:PR(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function PR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _I()}}function RR(e,t){return e instanceof OR&&t instanceof OR?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof LR&&t instanceof LR&&e._firestore===t._firestore&&FP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function MR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new TI(SI.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jR=Ru((function e(){Lu(this,e)}));function FR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var VR=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a;return Lu(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return Ru(n,[{key:"_apply",value:function(e){var t=uR(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new TI(SI.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){$R(o,a);var s,c=[],l=Mu(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(YR(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=YR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||$R(o,a),u=yR(n,"where",o,"in"===a||"not-in"===a);var h=xS.create(i,a,u);return function(e,t){if(t.ht()){var n=BS(e);if(null!==n&&!n.isEqual(t.field))throw new TI(SI.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=US(e);null!==r&&XR(e,t.field,r)}var i=function(e,t){var n,r=Mu(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new TI(SI.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new TI(SI.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new LP(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new MS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(jR);var UR=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return Ru(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new TI(SI.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new TI(SI.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new DS(t,n);return function(e,t){if(null===US(e)){var n=BS(e);null!==n&&XR(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new LP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new MS(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(jR);var BR=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a;return Lu(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return Ru(n,[{key:"_apply",value:function(e){return new LP(e.firestore,e.converter,WS(e._query,this.ma,this.ga))}}]),n}(jR);var zR=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a;return Lu(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Ru(n,[{key:"_apply",value:function(e){var t=QR(e,this.type,this.ya,this.pa);return new LP(e.firestore,e.converter,function(e,t){return new MS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(jR);function qR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zR("startAt",t,!0)}function HR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zR("startAfter",t,!1)}var WR=function(e){Vu(n,e);var t=Hu(n);function n(e,r,i){var a;return Lu(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Ru(n,[{key:"_apply",value:function(e){var t=QR(e,this.type,this.ya,this.pa);return new LP(e.firestore,e.converter,function(e,t){return new MS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(jR);function KR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WR("endBefore",t,!1)}function GR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WR("endAt",t,!0)}function QR(e,t,n,r){if(n[0]=Is(n[0]),n[0]instanceof TR)return function(e,t,n,r,i){if(!r)throw new TI(SI.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Mu(qS(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ZE(t,r.key));else{var c=r.data.field(s.field);if(ME(c))throw new TI(SI.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new TI(SI.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new OS(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=uR(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new TI(SI.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new TI(SI.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!zS(e)&&-1!==c.indexOf("/"))throw new TI(SI.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(WI.fromString(c));if(!QI.isDocumentKey(l))throw new TI(SI.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new QI(l);u.push(ZE(t,f))}else{var h=yR(n,r,c);u.push(h)}}return new OS(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function YR(e,t,n){if("string"==typeof(n=Is(n))){if(""===n)throw new TI(SI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zS(t)&&-1!==n.indexOf("/"))throw new TI(SI.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(WI.fromString(n));if(!QI.isDocumentKey(r))throw new TI(SI.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ZE(e,new QI(r))}if(n instanceof DP)return ZE(e,n._key);throw new TI(SI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(SP(n),"."))}function $R(e,t){if(!Array.isArray(e)||0===e.length)throw new TI(SI.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new TI(SI.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function XR(e,t,n){if(!n.isEqual(t))throw new TI(SI.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var JR={maxAttempts:5},ZR=function(){function e(){Lu(this,e)}return Ru(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(KE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return PE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(RE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _I()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return xE(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new eR(PE(e.latitude),PE(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=jE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(FE(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=LE(e);return new zI(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=WI.fromString(e);II(MC(n));var r=new UE(n.get(1),n.get(3)),i=new QI(n.popFirst(5));return r.isEqual(t)||bI("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function eM(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var tM=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this)).firestore=e,r}return Ru(n,[{key:"convertBytes",value:function(e){return new JP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DP(this.firestore,null,t)}}]),n}(ZR),nM=function(){function e(t,n){Lu(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=uR(t)}return Ru(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=rM(e,this._firestore),i=eM(r.converter,t,n),a=sR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,mT.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=rM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Is(t))||t instanceof XP?mR(this._dataReader,"WriteBatch.update",i._key,t,n,o):vR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,mT.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=rM(e,this._firestore);return this._mutations=this._mutations.concat(new OT(t._key,mT.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new TI(SI.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function rM(e,t){if((e=Is(e)).firestore!==t)throw new TI(SI.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var iM=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this)).firestore=e,r}return Ru(n,[{key:"convertBytes",value:function(e){return new JP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DP(this.firestore,null,t)}}]),n}(ZR);function aM(e){e=TP(e,DP);var t=TP(e.firestore,zP),n=qP(t),r=new iM(t);return function(e,t){var n=new CI;return e.asyncQueue.enqueueAndForget(Ts(Es().mark((function r(){return Es().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ts(Es().mark((function e(t,n,r){var i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=EI(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new TI(SI.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ND(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,pP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new OR(t,r,e._key,n,new AR(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function oM(e){e=TP(e,LP);var t=TP(e.firestore,zP),n=qP(t),r=new iM(t);return function(e,t){var n=new CI;return e.asyncQueue.enqueueAndForget(Ts(Es().mark((function r(){return Es().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ts(Es().mark((function e(t,n,r){var i,a,o,u,s;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sO(t,n,!0);case 3:i=e.sent,a=new YD(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ND(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,pP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new LR(t,r,e,n)}))}function uM(e,t,n){e=TP(e,DP);var r=TP(e.firestore,zP),i=eM(e.converter,t,n);return fM(r,[sR(uR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,mT.none())])}function sM(e,t,n){e=TP(e,DP);for(var r=TP(e.firestore,zP),i=uR(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return fM(r,[("string"==typeof(t=Is(t))||t instanceof XP?mR(i,"updateDoc",e._key,t,n,o):vR(i,"updateDoc",e._key,t)).toMutation(e._key,mT.exists(!0))])}function cM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Is(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||UP(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(UP(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof DP)l=TP(e.firestore,zP),f=FS(e._key.path),c={next:function(t){n[s]&&n[s](hM(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=TP(e,LP);l=TP(p.firestore,zP),f=p._query;var v=new iM(l);c={next:function(e){n[s]&&n[s](new LR(l,v,p,e))},error:n[s+1],complete:n[s+2]},MR(e._query)}return function(e,t,n,r){var i=new eP(r),a=new zD(t,i,n);return e.asyncQueue.enqueueAndForget(Ts(Es().mark((function t(){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RD,t.next=3,yP(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Ts(Es().mark((function t(){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jD,t.next=3,yP(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qP(l),f,h,c)}function lM(e,t){return function(e,t){var n=new eP(t);return e.asyncQueue.enqueueAndForget(Ts(Es().mark((function t(){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){EI(e).Tu.add(t),t.next()},t.next=3,yP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Ts(Es().mark((function t(){return Es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){EI(e).Tu.delete(t)},t.next=3,yP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qP(e=TP(e,zP)),UP(t)?t:{next:t})}function fM(e,t){return function(e,t){var n=new CI;return e.asyncQueue.enqueueAndForget(Ts(Es().mark((function r(){return Es().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=aL,r.next=3,mP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(qP(e),t)}function hM(e,t,n){var r=n.docs.get(t._key),i=new iM(e);return new OR(e,i,t._key,r,new AR(n.hasPendingWrites,n.fromCache),t.converter)}var dM=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ru(n,[{key:"get",value:function(e){var t=this,r=rM(e,this._firestore),i=new iM(this._firestore);return Uh(Uu(n.prototype),"get",this).call(this,e).then((function(e){return new OR(t._firestore,i,r._key,e._document,new AR(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Lu(this,e),this._firestore=t,this._transaction=n,this._dataReader=uR(t)}return Ru(e,[{key:"get",value:function(e){var t=this,n=rM(e,this._firestore),r=new tM(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return _I();var i=e[0];if(i.isFoundDocument())return new TR(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new TR(t._firestore,r,n._key,null,n.converter);throw _I()}))}},{key:"set",value:function(e,t,n){var r=rM(e,this._firestore),i=eM(r.converter,t,n),a=sR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=rM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Is(t))||t instanceof XP?mR(this._dataReader,"Transaction.update",i._key,t,n,o):vR(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=rM(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function pM(e,t,n){e=TP(e,zP);var r=Object.assign(Object.assign({},JR),n);return function(e){if(e.maxAttempts<1)throw new TI(SI.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new CI;return e.asyncQueue.enqueueAndForget(Ts(Es().mark((function i(){var a;return Es().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return fP(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new rP(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(qP(e),(function(n){return t(new dM(e,n))}),r)}function vM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hR("arrayUnion",t)}function mM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dR("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){mI=e}(wc),pc(new Cs("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new zP(i,new DI(e.getProvider("auth-internal")),new MI(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Tc(pI,"3.4.14",e),Tc(pI,"3.4.14","esm2017")}();function yM(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new TI("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function gM(){if("undefined"===typeof Uint8Array)throw new TI("unimplemented","Uint8Arrays are not available in this environment.")}function kM(){if("undefined"==typeof atob)throw new TI("unimplemented","Blobs are unavailable in Firestore in this environment.")}var bM=function(){function e(t){Lu(this,e),this._delegate=t}return Ru(e,[{key:"toBase64",value:function(){return kM(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return gM(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return kM(),new e(JP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return gM(),new e(JP.fromUint8Array(t))}}]),e}();function wM(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Mu(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var xM=function(){function e(){Lu(this,e)}return Ru(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){$P(e=TP(e,zP));var n=qP(e),r=e._freezeSettings(),i=new JL;return WP(n,i,new $L(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){$P(e=TP(e,zP));var t=qP(e),n=e._freezeSettings(),r=new JL;return WP(t,r,new XL(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new TI(SI.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new CI;return e._queue.enqueueAndForgetEvenWhileRestricted(Ts(Es().mark((function n(){return Es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ts(Es().mark((function e(t){var n;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lE.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,lE.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(GA(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),_M=function(){function e(t,n,r){var i=this;Lu(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof UE||(this._appCompat=t)}return Ru(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||wI("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};OP(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return KP(this._delegate)}},{key:"disableNetwork",value:function(){return GP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&_P("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new CI;return e.asyncQueue.enqueueAndForget(Ts(Es().mark((function n(){return Es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=mL,n.next=3,mP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(qP(e=TP(e,zP)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return lM(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new TI("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new jM(this,RP(this._delegate,e))}catch(WF){throw NM(WF,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new CM(this,MP(this._delegate,e))}catch(WF){throw NM(WF,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new PM(this,function(e,t){if(e=TP(e,AP),xP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new TI(SI.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new LP(e,null,function(e){return new MS(WI.emptyPath(),e)}(t))}(this._delegate,e))}catch(WF){throw NM(WF,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return pM(this._delegate,(function(n){return e(new EM(t,n))}))}},{key:"batch",value:function(){var e=this;return qP(this._delegate),new SM(new nM(this._delegate,(function(t){return fM(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return QP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return YP(this._delegate,e).then((function(e){return e?new PM(t,e):null}))}}]),e}(),IM=function(e){Vu(n,e);var t=Hu(n);function n(e){var r;return Lu(this,n),(r=t.call(this)).firestore=e,r}return Ru(n,[{key:"convertBytes",value:function(e){return new bM(new JP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return CM.forKey(t,this.firestore,null)}}]),n}(ZR);var EM=function(){function e(t,n){Lu(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new IM(t)}return Ru(e,[{key:"get",value:function(e){var t=this,n=FM(e);return this._delegate.get(n).then((function(e){return new DM(t._firestore,new OR(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=FM(e);return n?(yM("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=FM(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=FM(e);return this._delegate.delete(t),this}}]),e}(),SM=function(){function e(t){Lu(this,e),this._delegate=t}return Ru(e,[{key:"set",value:function(e,t,n){var r=FM(e);return n?(yM("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=FM(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=FM(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),TM=function(){function e(t,n,r){Lu(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ru(e,[{key:"fromFirestore",value:function(e,t){var n=new DR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new LM(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new IM(t),n),i.set(n,a)),a}}]),e}();TM.INSTANCES=new WeakMap;var CM=function(){function e(t,n){Lu(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IM(t)}return Ru(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new jM(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new jM(this.firestore,RP(this._delegate,e))}catch(WF){throw NM(WF,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Is(e))instanceof DP&&jP(this._delegate,e)}},{key:"set",value:function(e,t){t=yM("DocumentReference.set",t);try{return t?uM(this._delegate,e,t):uM(this._delegate,e)}catch(WF){throw NM(WF,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?sM(this._delegate,e):sM.apply(void 0,[this._delegate,e,t].concat(r))}catch(WF){throw NM(WF,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return fM(TP(e.firestore,zP),[new OT(e._key,mT.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=AM(n),a=OM(n,(function(t){return new DM(e.firestore,new OR(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return cM(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?aM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=TP(e,DP);var t=TP(e.firestore,zP);return kP(qP(t),e._key,{source:"server"}).then((function(n){return hM(t,e,n)}))}(this._delegate):function(e){e=TP(e,DP);var t=TP(e.firestore,zP);return kP(qP(t),e._key).then((function(n){return hM(t,e,n)}))}(this._delegate),t.then((function(e){return new DM(n.firestore,new OR(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(TM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new TI("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new DP(n._delegate,r,new QI(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new DP(n._delegate,r,t))}}]),e}();function NM(e,t,n){return e.message=e.message.replace(t,n),e}function AM(e){var t,n=Mu(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!wM(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function OM(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=wM(e[0])?e[0]:wM(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var DM=function(){function e(t,n){Lu(this,e),this._firestore=t,this._delegate=n}return Ru(e,[{key:"ref",get:function(){return new CM(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return RR(this._delegate,e._delegate)}}]),e}(),LM=function(e){Vu(n,e);var t=Hu(n);function n(){return Lu(this,n),t.apply(this,arguments)}return Ru(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||_I()}(void 0!==t),t}}]),n}(DM),PM=function(){function e(t,n){Lu(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IM(t)}return Ru(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,FR(this._delegate,function(e,t,n){var r=t,i=NR("where",e);return new VR(i,r,n)}(t,n,r)))}catch(WF){throw NM(WF,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,FR(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=NR("orderBy",e);return new UR(n,t)}(t,n)))}catch(WF){throw NM(WF,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,FR(this._delegate,function(e){return CP("limit",e),new BR("limit",e,"F")}(t)))}catch(WF){throw NM(WF,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,FR(this._delegate,function(e){return CP("limitToLast",e),new BR("limitToLast",e,"L")}(t)))}catch(WF){throw NM(WF,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,FR(this._delegate,qR.apply(void 0,arguments)))}catch(WF){throw NM(WF,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,FR(this._delegate,HR.apply(void 0,arguments)))}catch(WF){throw NM(WF,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,FR(this._delegate,KR.apply(void 0,arguments)))}catch(WF){throw NM(WF,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,FR(this._delegate,GR.apply(void 0,arguments)))}catch(WF){throw NM(WF,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return FP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?oM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=TP(e,LP);var t=TP(e.firestore,zP),n=qP(t),r=new iM(t);return bP(n,e._query,{source:"server"}).then((function(n){return new LR(t,r,e,n)}))}(this._delegate):function(e){e=TP(e,LP);var t=TP(e.firestore,zP),n=qP(t),r=new iM(t);return MR(e._query),bP(n,e._query).then((function(n){return new LR(t,r,e,n)}))}(this._delegate),t.then((function(e){return new MM(n.firestore,new LR(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=AM(n),a=OM(n,(function(t){return new MM(e.firestore,new LR(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return cM(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(TM.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),RM=function(){function e(t,n){Lu(this,e),this._firestore=t,this._delegate=n}return Ru(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new LM(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),MM=function(){function e(t,n){Lu(this,e),this._firestore=t,this._delegate=n}return Ru(e,[{key:"query",get:function(){return new PM(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new LM(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new RM(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new LM(n._firestore,r))}))}},{key:"isEqual",value:function(e){return RR(this._delegate,e._delegate)}}]),e}(),jM=function(e){Vu(n,e);var t=Hu(n);function n(e,r){var i;return Lu(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ru(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new CM(this.firestore,e):null}},{key:"doc",value:function(e){try{return new CM(this.firestore,void 0===e?MP(this._delegate):MP(this._delegate,e))}catch(WF){throw NM(WF,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=TP(e.firestore,zP),r=MP(e),i=eM(e.converter,t);return fM(n,[sR(uR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,mT.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new CM(t.firestore,e)}))}},{key:"isEqual",value:function(e){return jP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(TM.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(PM);function FM(e){return TP(e,DP)}var VM=function(){function e(){Lu(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Wu(XP,n)}return Ru(e,[{key:"isEqual",value:function(e){return(e=Is(e))instanceof XP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(GI.keyField().canonicalString())}}]),e}(),UM=function(){function e(t){Lu(this,e),this._delegate=t}return Ru(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new fR("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new cR("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=vM.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=mM.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new pR("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),BM={Firestore:_M,GeoPoint:eR,Timestamp:zI,Blob:bM,Transaction:EM,WriteBatch:SM,DocumentReference:CM,DocumentSnapshot:DM,Query:PM,QueryDocumentSnapshot:LM,QuerySnapshot:MM,CollectionReference:jM,FieldPath:VM,FieldValue:UM,setLogLevel:function(e){!function(e){yI.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Cs("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},BM)))}(e,(function(e,t){return new _M(e,t,new xM)})),e.registerVersion("@firebase/firestore-compat","0.1.23")}(Xc);Xc.initializeApp({apiKey:"AIzaSyC_FfQg9Qs5d-2L9Q6VUgvzmv6Xkh-2NfI",authDomain:"tiktok-app-e426e.firebaseapp.com",projectId:"tiktok-app-e426e",storageBucket:"tiktok-app-e426e.appspot.com",messagingSenderId:"764220515332",appId:"1:764220515332:web:20c247aae5398467904151",measurementId:"G-0H4EY946X4"}),Xc.analytics();var zM=Xc.firestore(),qM=Xc.auth(),HM=Xc,WM=(0,r.createContext)();var KM=function(e){var t=e.children,n=c((0,r.useState)({}),2),i=n[0],a=n[1],o=c((0,r.useState)(!1),2),u=o[0],s=o[1];return(0,r.useEffect)((function(){i&&s(!1)}),[i]),(0,r.useEffect)((function(){var e=qM.onAuthStateChanged((function(e){if(e){var t=e.displayName,n=e.photoURL,r=e.email,i=e.uid;a({displayName:t,photoURL:n,email:r,uid:i})}else a({})}));return function(){e()}}),[window.location.pathname]),(0,Gr.jsx)(WM.Provider,{value:{user:i,showModal:u,setUser:a,handleLogOut:function(){qM.signOut(),window.location.pathname="/"},handleShowModal:function(){s(!u)}},children:t})},GM=Or().bind(Do);var QM=function(e){var t=e.children,n=e.data,i=(0,r.useContext)(WM).handleLogOut,a=c((0,r.useState)([{data:n}]),2),o=a[0],u=a[1],s=o[o.length-1],l=function(e){e.children&&u((function(t){return[].concat(Co(t),[e.children])})),e.signOut&&(i(),window.location.reload(),window.location.pathname="/")},f=function(){var e=o.splice(0,o.length-1);u(e)};return(0,r.useEffect)((function(){u([{data:n}])}),[n]),(0,Gr.jsx)(Du,{delay:[10,700],placement:"bottom-start",interactive:!0,className:GM(Do.menu),render:function(e){return(0,Gr.jsxs)("div",So(So({className:GM(Do.body),tabIndex:"-1"},e),{},{children:[o.length>1&&(0,Gr.jsx)(Oo,{onClick:f,justifyContent:"unset",iconLeft:(0,Gr.jsx)(Cr,{icon:ee}),children:s.title}),s.data.map((function(e,t){return(0,Gr.jsx)(Oo,{onClick:l,data:e,to:e.to,iconLeft:e.icon,borderTop:e.borderTop&&!0,justifyContent:"unset",gap:"10",children:e.title},t)}))]}))},onHidden:function(){u([o[0]])},children:(0,Gr.jsx)("div",{className:GM(Do.content),children:t})})},YM={title:"SearchAccounts_title__-AE2Q",listAccounts:"SearchAccounts_listAccounts__LG9Vz"};var $M=function(){var e=c((0,r.useState)(document.documentElement.clientWidth||document.documentElement.offsetWidth),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=function(){var e=document.documentElement.clientWidth||document.documentElement.offsetWidth;n(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[t]),t},XM={accountItems:"SearchAccountsItems_accountItems__wIjEA",load:"SearchAccountsItems_load__Cck0g",accountImg:"SearchAccountsItems_accountImg__wDpst",accountInfor:"SearchAccountsItems_accountInfor__-6pZl",accountNickname:"SearchAccountsItems_accountNickname__z2BMG",accountName:"SearchAccountsItems_accountName__soP-V",check:"SearchAccountsItems_check__0ZEC9",checkIcon:"SearchAccountsItems_checkIcon__ybvfc"},JM=Or().bind(XM);var ZM=function(e){var t=e.data,n=e.widthImg,r=e.isLoading,i=$M();return(0,Gr.jsx)("div",{className:JM(XM.accountItems,r&&"load"),style:{alignItems:"".concat(r?"center":"start")},children:!0===r?(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("div",{style:{width:"".concat(n,"px"),height:"".concat(n,"px")},className:JM(XM.accountImg),children:(0,Gr.jsx)("div",{className:JM(XM.accountImg,"loading","card-chart")})}),(0,Gr.jsxs)("div",{className:JM(XM.accountInfor),children:[(0,Gr.jsx)("div",{className:JM(XM.accountNickname,"loading","card-title")}),(0,Gr.jsx)("div",{className:JM(XM.accountName,"loading","card-title","shorter-m")})]})]}):(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("div",{style:{width:"".concat(n,"px"),height:"".concat(n,"px")},className:JM(XM.accountImg),children:(0,Gr.jsx)("img",{src:t.img||t.photoURL,alt:""})}),i>900&&(0,Gr.jsxs)("div",{className:JM(XM.accountInfor),children:[(0,Gr.jsx)("h2",{className:JM(XM.accountNickname),children:t.nickName||t.displayName}),(0,Gr.jsx)("p",{className:JM(XM.accountName),children:t.name||t.displayName})]}),t.sticker&&(0,Gr.jsx)("div",{className:JM(XM.check),children:(0,Gr.jsx)(Cr,{className:JM(XM.checkIcon),icon:te})})]})})},ej=Or().bind(YM);var tj=function(){return(0,Gr.jsxs)("div",{children:[(0,Gr.jsx)("p",{className:ej(YM.title),children:"T\xe0i kho\u1ea3n"}),(0,Gr.jsx)("div",{className:ej(YM.listAccounts),children:(0,Gr.jsx)(ZM,{widthImg:34})})]})},nj={layout:"SearchLayout_layout__hK-C5"},rj=Or().bind(nj);var ij=function(){return(0,Gr.jsx)("div",{className:rj(nj.layout),children:(0,Gr.jsx)(Oo,{iconLeft:(0,Gr.jsx)(Cr,{icon:le}),smallIcon:!0,children:"Luu quynh anh"})})},aj={navbarContainer:"Navbar_navbarContainer__ixC42",navbar:"Navbar_navbar__-NP3v",logo:"Navbar_logo__nxpRy",search:"Navbar_search__iiHYz",searchLayout:"Navbar_searchLayout__oMSmH",inp:"Navbar_inp__qdqyx",searchWrap:"Navbar_searchWrap__mXKPw",searchIcon:"Navbar_searchIcon__BesoO",closeIcon:"Navbar_closeIcon__8XeMe",control:"Navbar_control__YWsu9",icon:"Navbar_icon__UV17j",desc:"Navbar_desc__lF266",img:"Navbar_img__WeLlg"},oj=Or().bind(aj);var uj=function(){var e=(0,r.useContext)(WM),t=e.user,n=e.handleShowModal,i=$M(),a=c((0,r.useState)(""),2),o=a[0],u=a[1];return(0,Gr.jsx)("div",{className:oj(aj.navbarContainer),children:(0,Gr.jsxs)("div",{className:oj(aj.navbar,"container"),children:[(0,Gr.jsx)($,{to:"/",className:oj(aj.logo),children:(0,Gr.jsx)("img",{src:_o.logo,alt:"logo"})}),(0,Gr.jsxs)("div",{className:oj(aj.search),children:[(0,Gr.jsx)("input",{placeholder:"T\xecm ki\u1ebfm t\xe0i kho\u1ea3n v\xe0 video",value:o,onChange:function(e){return t=e.target.value,void u(t);var t},type:"text",className:oj(aj.inp)}),o&&(0,Gr.jsx)(Cr,{className:oj(aj.closeIcon),onClick:function(){u("")},icon:re}),(0,Gr.jsx)("div",{className:oj(aj.searchWrap),children:(0,Gr.jsx)(Kr,{className:oj(aj.searchIcon)})}),o&&(0,Gr.jsxs)("div",{className:oj(aj.searchLayout),children:[(0,Gr.jsx)(ij,{}),(0,Gr.jsx)(tj,{})]})]}),(0,Gr.jsxs)("div",{style:{width:"".concat(i<=600&&null!==t&&void 0!==t&&t.uid?"80%":"40%")},className:oj(aj.control),children:[i>600&&(0,Gr.jsx)(Oo,{onClick:!t.uid&&n,to:t.uid&&"upload",borderRadius:!0,smallBtn:!0,iconLeft:(0,Gr.jsx)(Cr,{icon:he}),gap:"6",children:"T\u1ea3i l\xean"}),t&&t.uid?(0,Gr.jsxs)(Gr.Fragment,{children:[i<=600&&(0,Gr.jsx)(Oo,{onClick:!t.uid&&n,to:t.uid&&"upload",borderRadius:!0,smallBtn:!0,iconLeft:(0,Gr.jsx)(Cr,{icon:he}),gap:"6",children:"T\u1ea3i l\xean"}),(0,Gr.jsx)(xo,{content:"Tin nh\u1eafn",children:(0,Gr.jsx)(Cr,{className:oj(aj.icon),icon:fe})}),(0,Gr.jsx)(xo,{content:"H\u1ed9p th\u01b0",children:(0,Gr.jsx)(Cr,{className:oj(aj.icon),icon:X})})]}):(0,Gr.jsx)(Oo,{onClick:n,borderRadius:!0,smallBtn:!0,primary:!0,children:"\u0110\u0103ng nh\u1eadp"}),(0,Gr.jsx)(QM,{data:t&&t.uid?Yr:Qr,children:t&&t.uid?(0,Gr.jsx)("img",{className:oj(aj.img),src:t.photoURL,alt:""}):(0,Gr.jsx)(Cr,{icon:oe})})]})]})})},sj={video:"Video_video__va0O5"},cj={inforWrap:"InforUser_inforWrap__E99MV",img:"InforUser_img__89a4e",inforUserWrap:"InforUser_inforUserWrap__-D4eX",inforUser:"InforUser_inforUser__4-yrN",infor:"InforUser_infor__RpLCs",inforLink:"InforUser_inforLink__wxou-",inforNickName:"InforUser_inforNickName__N4w6S",inforName:"InforUser_inforName__Yug7a",desc:"InforUser_desc__Pdzdb",inforMusic:"InforUser_inforMusic__KUCX5",inforIcon:"InforUser_inforIcon__vWsf+"},lj=function(e,t,n,r){var i,a=zM.collection("users").doc(e);n?(i=t.filter((function(e){if(e.uid!==r.uid)return e})),a.update({following:i})):t.includes(r.id)||a.update({following:[].concat(Co(t),[r])})},fj=function(){var e=Ts(Es().mark((function e(t,n){var r,i,a;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=zM.collection(t),!n){e.next=10;break}return r=r.where(n.fieldName,n.operator,n.compareValue),e.next=6,r.get().then((function(e){return e.docs.map((function(e){return So(So({},e.data()),{},{id:e.id})}))}));case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.next=12,r.get().then((function(e){return e.docs.map((function(e){return So(So({},e.data()),{},{id:e.id})}))}));case 12:return a=e.sent,e.abrupt("return",a);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error get document");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}();var hj=function(e,t){var n=(0,r.useContext)(WM).user,i=c((0,r.useState)({}),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){if(null!==n&&void 0!==n&&n.uid){var r=zM.collection(e);if(!t)return void o([]);(r=r.where(t.fieldName,t.operator,t.compareValue)).onSnapshot((function(e){var t=e.docs.map((function(e){return So(So({},e.data()),{},{id:e.id})}));o(t)}))}}),[e,t]),a};var dj=function(e){var t=c((0,r.useState)(),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){zM.collection(e).onSnapshot((function(e){var t=e.docs.map((function(e){return So(So({},e.data()),{},{id:e.id})}));i(t)}))}),[e]),n},pj=(0,r.createContext)();var vj=function(e){var t=e.children,n=(0,r.useContext)(WM).user,i=c((0,r.useState)({}),2),a=i[0],o=i[1],u=c((0,r.useState)([]),2),s=u[0],l=u[1],f=c((0,r.useState)([]),2),h=f[0],d=f[1],p=c((0,r.useState)([]),2),v=p[0],m=p[1],y=dj("videos"),g=(0,r.useMemo)((function(){return{fieldName:"uid",operator:"==",compareValue:n.uid}}),[n]),k=hj("users",g),b=function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fj("users",{fieldName:"uid",operator:"!=",compareValue:n.uid});case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){n.uid&&b()}),[n]),(0,r.useEffect)((function(){k.length>0&&(o(k[0]),d(k[0].following),m(k[0].liked))}),[k,k[0]]),(0,Gr.jsx)(pj.Provider,{value:{listVideos:y,currentUser:a,listCurrentUsers:s,newFollow:h,likedVideos:v,setLikedVideos:m,setNewFollow:d},children:t})},mj=Or().bind(cj);var yj=function(e){var t=e.data,n=e.loading,i=e.children,a=(0,r.useContext)(WM).handleShowModal,o=(0,r.useContext)(pj),u=o.currentUser,s=o.newFollow,l=$M(),f=c((0,r.useState)(!1),2),h=f[0],d=f[1],p=function(){u.uid?h?(lj(u.id,s,h,t),d(!1)):(lj(u.id,s,h,t),d(!0)):a()};return(0,r.useEffect)((function(){s&&s.length>=0&&(d(!1),s&&s.length>0&&s.map((function(e){t&&t.uid===e.uid&&d(!0)})))}),[s]),(0,Gr.jsx)("div",{className:mj(cj.inforWrap),children:n?(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("div",{className:mj(cj.img,n&&"loading")}),(0,Gr.jsx)("div",{className:mj(cj.inforUser),children:(0,Gr.jsxs)("div",{className:mj(cj.infor),children:[(0,Gr.jsx)("div",{className:mj(cj.inforLink,"loading card-title shorter-m")}),(0,Gr.jsx)("p",{className:mj(cj.desc,"loading card-title")}),i]})})]}):(0,Gr.jsxs)(Gr.Fragment,{children:[l>600&&(0,Gr.jsx)("img",{className:mj(cj.img),src:t.photoURL||t.img,alt:""}),(0,Gr.jsxs)("div",{className:mj(cj.inforUserWrap),children:[(0,Gr.jsxs)("div",{className:mj(cj.inforUser),children:[(0,Gr.jsxs)("div",{className:mj(cj.infor),children:[(0,Gr.jsxs)("a",{href:"#",className:mj(cj.inforLink),children:[l<=600&&(0,Gr.jsx)("img",{className:mj(cj.img),src:t.photoURL||t.img,alt:""}),(0,Gr.jsx)("strong",{className:mj(cj.inforNickName),children:t.nickName}),l<=600?(0,Gr.jsx)(Oo,{onClick:p,followedBtn:h&&!0,followBtn:!h&&!0,data:t,borderRadius:!0,children:h?"\u0110ang Follow":"Follow"}):(0,Gr.jsx)("p",{className:mj(cj.inforName),children:t.name})]}),(0,Gr.jsx)("p",{className:mj(cj.desc),children:t.desc}),(0,Gr.jsxs)("a",{href:"#",className:mj(cj.inforMusic),children:[(0,Gr.jsx)(qr,{className:mj(cj.inforIcon)}),(0,Gr.jsx)("strong",{className:mj(cj.inforMusicName),children:t.music})]})]}),i]}),!n&&t.uid!==u.uid&&l>600&&(0,Gr.jsx)(Oo,{onClick:p,followedBtn:h&&!0,followBtn:!h&&!0,data:t,borderRadius:!0,children:h?"\u0110ang Follow":"Follow"})]})]})})};function gj(e){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(e)}function kj(e){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"}}]})(e)}var bj=function(e,t,n,r){var i=zM.collection("videos").doc(r.id),a=zM.collection("users").doc(e);if(n){i.update({likes:r.likes-1});var o=t.filter((function(e){return e!==r.id}));a.update({liked:Co(o)})}else i.update({likes:r.likes+1}),t.includes(r.id)||a.update({liked:[].concat(Co(t),[r.id])})};var wj=function(e,t){var n=c((0,r.useState)(),2),i=n[0],a=n[1],o=function(e){var t=c(e,1)[0];a(t.isIntersecting)},u=(0,r.useMemo)((function(){return e}),[e]);return(0,r.useEffect)((function(){var e=new IntersectionObserver(o,u),n=t.current;return n&&e.observe(n),function(){n&&e.unobserve(n)}}),[t,u]),i},xj={layout:"LayoutComments_layout__Hc1Q2",show:"LayoutComments_show__dLod7",layoutVideo:"LayoutComments_layoutVideo__lM6YL",layoutCotent:"LayoutComments_layoutCotent__wAe8a"},_j=function(e,t,n){zM.collection("videos").doc(e).update({comments:[].concat(Co(n.comments),[t])})},Ij={item:"VideoAction_item__eg-77",row:"VideoAction_row__EMiuc",itemIcon:"VideoAction_itemIcon__s5rQm",small:"VideoAction_small__jiM+6",active:"VideoAction_active__iHEmY",icon:"VideoAction_icon__4NAJh",liked:"VideoAction_liked__Gmka4",iconEffect:"VideoAction_iconEffect__QmNkS",likeEffect:"VideoAction_likeEffect__YP1hZ",number:"VideoAction_number__XVoOl"},Ej=Or().bind(Ij);var Sj=function(e){var t=e.Icon,n=e.number,r=e.liked,i=e.onClick,a=e.small,o=e.row,u=n.length>=0?n.length:n;return(0,Gr.jsxs)("div",{className:Ej(Ij.item,a&&"small",o&&"row"),children:[(0,Gr.jsxs)("div",{onClick:i,className:Ej(Ij.itemIcon,r?"active":""),children:[(0,Gr.jsx)(t,{className:Ej(Ij.icon)}),(0,Gr.jsx)("div",{className:Ej(Ij.iconEffect)})]}),(0,Gr.jsx)("p",{className:Ej(Ij.number),children:u})]})},Tj={item:"CommentAccout_item__u8m4k",itemMenu:"CommentAccout_itemMenu__aPc9Z",itemWrap:"CommentAccout_itemWrap__oOwzG",img:"CommentAccout_img__yu-B5",itemLink:"CommentAccout_itemLink__eAW1E",content:"CommentAccout_content__7icDg",time:"CommentAccout_time__H5tLL",modal:"CommentAccout_modal__C+hXv",modalBtn:"CommentAccout_modalBtn__8vc4p"};function Cj(e){return jr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}var Nj=Or().bind(Tj);var Aj=function(e){var t=e.data;return(0,Gr.jsxs)("div",{className:Nj(Tj.item),children:[(0,Gr.jsxs)("div",{className:Nj(Tj.itemWrap),children:[(0,Gr.jsx)("img",{className:Nj(Tj.img),src:t.photoURL,alt:""}),(0,Gr.jsxs)("div",{className:Nj(Tj.itemContent),children:[(0,Gr.jsx)("a",{className:Nj(Tj.itemLink),href:"",children:t.nickName}),(0,Gr.jsx)("p",{className:Nj(Tj.content),children:t.comment}),(0,Gr.jsx)("p",{className:Nj(Tj.time),children:t.createdAt})]})]}),(0,Gr.jsx)(Du,{delay:[200,0],offset:[10,-20],interactive:!0,arrow:!0,placement:"left-end",render:function(e){return(0,Gr.jsx)("div",So(So({className:Nj(Tj.modal),tabIndex:"-1"},e),{},{children:(0,Gr.jsx)("button",{className:Nj(Tj.modalBtn),children:"Delete"})}))},children:(0,Gr.jsx)("div",{children:(0,Gr.jsx)(Cj,{className:Nj(Tj.itemMenu)})})})]})};var Oj=[{icon:function(e){return jr({tag:"svg",attr:{version:"1.1",viewBox:"0 0 20 16"},child:[{tag:"path",attr:{d:"M13 11.5l1.5 1.5 5-5-5-5-1.5 1.5 3.5 3.5z"}},{tag:"path",attr:{d:"M7 4.5l-1.5-1.5-5 5 5 5 1.5-1.5-3.5-3.5z"}},{tag:"path",attr:{d:"M10.958 2.352l1.085 0.296-3 11-1.085-0.296 3-11z"}}]})(e)},backgroundColor:"#50525a",title:"Embed"},{icon:function(e){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M435.9 64.9l-367.1 160c-6.5 3.1-6.3 12.4.3 15.3l99.3 56.1c5.9 3.3 13.2 2.6 18.3-1.8l195.8-168.8c1.3-1.1 4.4-3.2 5.6-2 1.3 1.3-.7 4.3-1.8 5.6L216.9 320.1c-4.7 5.3-5.4 13.1-1.6 19.1l64.9 104.1c3.2 6.3 12.3 6.2 15.2-.2L447.2 76c3.3-7.2-4.2-14.5-11.3-11.1z"}}]})(e)},backgroundColor:"#fe2c55",title:"Send"},{icon:zr,backgroundColor:"#0075fa",title:"Share to Facebook"},{icon:function(e){return jr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"}}]})(e)},backgroundColor:"#25d366",title:"Share to WhatsApp"},{icon:function(e){return jr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"}}]})(e)},backgroundColor:"#1da1f2",title:"Share to Twitter"}],Dj={contentWrap:"LayoutContent_contentWrap__NV-V6",header:"LayoutContent_header__rb2Qq",actions:"LayoutContent_actions__rwCnG",social:"LayoutContent_social__jgLIn",icon:"LayoutContent_icon__3CovH",linkVideo:"LayoutContent_linkVideo__HDDuE",desc:"LayoutContent_desc__ZAqLx",copyBtn:"LayoutContent_copyBtn__C-Ilh",body:"LayoutContent_body__JAgsW",bottom:"LayoutContent_bottom__91n1j",inp:"LayoutContent_inp__tfnEV",postBtn:"LayoutContent_postBtn__s-NPO",active:"LayoutContent_active__J64jn"},Lj=Or().bind(Dj);var Pj=function(e){var t=e.data,n=e.loading,i=(0,r.useContext)(WM).handleShowModal,a=(0,r.useContext)(pj),o=a.currentUser,u=a.likedVideos,s=c((0,r.useState)(!1),2),l=s[0],f=s[1],h=(0,r.useRef)();return(0,r.useEffect)((function(){t&&u.includes(t.id)?f(!0):f(!1)}),[u]),(0,Gr.jsxs)("div",{className:Lj(Dj.contentWrap),children:[(0,Gr.jsxs)("div",{className:Lj(Dj.header),children:[(0,Gr.jsx)(yj,{data:t,loading:n}),(0,Gr.jsxs)("div",{className:Lj(Dj.actions),children:[(0,Gr.jsx)(Sj,{Icon:Br,onClick:function(){o.uid?(bj(o.id,u,l,t),f(!l)):i()},liked:l,number:t.likes,data:t,small:!0,row:!0}),(0,Gr.jsx)("div",{className:Lj(Dj.social),children:Oj.map((function(e,t){return(0,Gr.jsx)(xo,{content:e.title,children:(0,Gr.jsx)("a",{href:"#",children:(0,Gr.jsx)(e.icon,{style:{backgroundColor:"".concat(e.backgroundColor)},className:Lj(Dj.icon)})})},t)}))})]}),(0,Gr.jsxs)("div",{className:Lj(Dj.linkVideo),children:[(0,Gr.jsx)("p",{className:Lj(Dj.desc),children:"https://www.tiktok.com/@meowmeow_2204/video/7133402560525946158?is_from_webapp=1&sender_device=pc&web_id=7117324751291647490"}),(0,Gr.jsx)("button",{className:Lj(Dj.copyBtn),children:"Copy link"})]})]}),(0,Gr.jsx)("div",{className:Lj(Dj.body),children:t.comments.length>0&&t.comments.map((function(e,t){return(0,Gr.jsx)(Aj,{data:e},t)}))}),(0,Gr.jsxs)("div",{className:Lj(Dj.bottom),children:[(0,Gr.jsx)("input",{ref:h,maxLength:150,placeholder:"Add comment...",className:Lj(Dj.inp),type:"text"}),(0,Gr.jsx)("button",{onClick:function(){var e=h.current.value,n=o.name,r=o.nickName,i=o.photoURL,a=o.uid,u=o.tick,s=new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(Date.now());_j(t.id,{name:n,nickName:r,photoURL:i,uid:a,tick:u,comment:e,createdAt:s},t),h.current.value=""},className:Lj(Dj.postBtn),children:"Post"})]})]})};function Rj(e){return jr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"}}]})(e)}function Mj(e){return jr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"}}]})(e)}var jj={videoControl:"ControlVideo_videoControl__8YKuz",controlVolume:"ControlVideo_controlVolume__Qrjpk",volumeWrap:"ControlVideo_volumeWrap__sWeDf",icon:"ControlVideo_icon__PFpDw",volume:"ControlVideo_volume__joHaU",volumeProgress:"ControlVideo_volumeProgress__6g5yx",progress:"ControlVideo_progress__y1yx0"},Fj=Or().bind(jj);var Vj=function(e){var t=e.volume,n=e.onClick,r=e.muted,i=e.onPlay,a=e.isPlaying;return(0,Gr.jsxs)("div",{className:Fj(jj.videoControl),children:[a?(0,Gr.jsx)(Hr,{onClick:i,className:Fj(jj.pause,jj.icon)}):(0,Gr.jsx)(Wr,{onClick:i,className:Fj(jj.play,jj.icon)}),(0,Gr.jsxs)("div",{className:Fj(jj.controlVolume),children:[(0,Gr.jsxs)("div",{className:Fj(jj.volumeWrap),children:[(0,Gr.jsx)("input",{className:Fj(jj.volume),value:t/100,type:"range",onChange:function(e){return n(e.target.value)},max:1,min:0,step:.1}),(0,Gr.jsx)("div",{className:Fj(jj.volumeProgress),children:(0,Gr.jsx)("div",{style:{width:"".concat(t,"%")},className:Fj(jj.progress)})})]}),0===t?(0,Gr.jsx)(kj,{onClick:r,className:Fj(jj.volumeIcon,jj.icon)}):(0,Gr.jsx)(Mj,{onClick:r,className:Fj(jj.volumeIcon,jj.icon)})]})]})},Uj={layout:"LayoutVideo_layout__DndWq",layoutHeader:"LayoutVideo_layoutHeader__8JGGz",closeBtn:"LayoutVideo_closeBtn__uHbOu",logo:"LayoutVideo_logo__3ke6Y",layoutBody:"LayoutVideo_layoutBody__kZrle",layoutBottom:"LayoutVideo_layoutBottom__M6glS"},Bj=Or().bind(Uj);var zj=function(e){var t=e.onClick,n=e.data,i=e.volume,a=e.volumeChange,o=e.muted,u=e.show,s=(0,r.useRef)(),l=$M(),f=c((0,r.useState)(!0),2),h=f[0],d=f[1],p=function(){h?(s.current.pause(),d(!h)):(s.current.play(),d(!h))};return(0,r.useEffect)((function(){u&&l>900?(s.current.play(),s.current.currentTime=0,d(!0)):(s.current.pause(),d(!1))}),[u]),(0,Gr.jsxs)("div",{className:Bj(Uj.layout),children:[(0,Gr.jsxs)("div",{className:Bj(Uj.layoutHeader),children:[(0,Gr.jsx)(Rj,{onClick:t,className:Bj(Uj.closeBtn)}),(0,Gr.jsx)("div",{className:Bj(Uj.logo),children:(0,Gr.jsx)("img",{src:_o.tiktokIcon,alt:""})})]}),(0,Gr.jsxs)("div",{className:Bj(Uj.layoutBody),children:[(0,Gr.jsx)("video",{onClick:p,ref:s,loop:!0,muted:0===i,src:n.video}),(0,Gr.jsx)(Vj,{onPlay:p,isPlaying:h,data:n,volume:i,onClick:a,muted:o})]})]})},qj=Or().bind(xj);var Hj=function(e){var t=e.show,n=e.onClick,r=e.data,i=e.volume,a=e.volumeChange,o=e.muted;return(0,Gr.jsx)("div",{className:qj(xj.layout,t&&"show"),children:r.uid&&(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("div",{className:qj(xj.layoutVideo),children:(0,Gr.jsx)(zj,{data:r,volume:i,volumeChange:a,muted:o,show:t,onClick:n})}),(0,Gr.jsx)("div",{className:qj(xj.layoutCotent),children:(0,Gr.jsx)(Pj,{data:r,loading:!1})})]})})},Wj={video:"VideoContent_video__knV3x",videoLoading:"VideoContent_videoLoading__tFoN3",videoContent:"VideoContent_videoContent__ki9mm",videoAction:"VideoContent_videoAction__TmbCy"},Kj=Or().bind(Wj);var Gj=function(e){var t=e.data,n=e.volume,i=e.onClick,a=e.muted,o=e.loading,u=e.handleStopAllVideo,s=e.isStopAllVideos,l=(0,r.useContext)(WM).handleShowModal,f=(0,r.useContext)(pj),h=f.currentUser,d=f.likedVideos,p=(0,r.useRef)(),v=c((0,r.useState)(!1),2),m=v[0],y=v[1],g=c((0,r.useState)(!0),2),k=g[0],b=g[1],w=c((0,r.useState)(!1),2),x=w[0],_=w[1],I=c((0,r.useState)({}),2),E=I[0],S=I[1],T=function(){u(),_(!x)},C=function(){k?(p.current.pause(),b(!k)):(p.current.play(),b(!k))},N=wj({root:null,rootMargin:"0px",threshold:.3},p);return(0,r.useEffect)((function(){o||(N&&!s?(p.current.play(),b(!0)):(s||(p.current.currentTime=0),p.current.pause()))}),[N,o,s]),(0,r.useEffect)((function(){t&&d.includes(t.id)?y(!0):y(!1)}),[d,s]),(0,r.useEffect)((function(){x&&S(t)}),[t]),(0,Gr.jsx)(Gr.Fragment,{children:o?(0,Gr.jsx)("div",{className:Kj(Wj.videoLoading,"loading")}):(0,Gr.jsxs)("div",{className:Kj(Wj.video),children:[(0,Gr.jsxs)("div",{className:Kj(Wj.videoContent),children:[(0,Gr.jsx)("video",{onClick:C,controls:"false",autoPlay:k,muted:0===n,ref:p,loop:!0,src:t?t.video:"https://v16-webapp.tiktok.com/384815b66bef7df0cc285e23aa25d2e0/63090c52/video/tos/useast2a/tos-useast2a-pve-0037-aiso/9057be79936b4f1cb5b865c7dfaae770/?a=1988&ch=0&cr=0&dr=0&lr=tiktok&cd=0%7C0%7C1%7C0&cv=1&br=1682&bt=841&cs=0&ds=3&ft=eXd.6Hk_Myq8ZDMR0he2NM4jml7Gb&mime_type=video_mp4&qs=0&rc=NTQ7PDM6NDk7aTM1ZmZpZkBpMzY2djY6Zmg1ZTMzZjgzM0AwYy8tMTI2NjUxNC01Yy0yYSNqLWMycjRfMl5gLS1kL2Nzcw%3D%3D&l=202208261208560102452441780B1234E2&btag=80000"}),(0,Gr.jsx)(Vj,{volume:n,onClick:i,muted:a,onPlay:C,isPlaying:k})]}),(0,Gr.jsxs)("div",{className:Kj(Wj.videoAction),children:[(0,Gr.jsx)(Sj,{Icon:Br,onClick:function(){h.uid?(bj(h.id,d,m,t),y(!m)):l()},liked:m,number:t.likes,data:t}),(0,Gr.jsx)(Sj,{onClick:function(){!function(e){h.uid?(T(),S(e)):l()}(t)},Icon:Vr,number:t.comments}),(0,Gr.jsx)(Sj,{Icon:gj,number:t.shares})]}),(0,Gr.jsx)(Hj,{data:E,volume:n,volumeChange:i,muted:a,show:x,onClick:T})]})})},Qj={},Yj=Or().bind(Qj);var $j=function(e){var t=e.data,n=e.volume,r=e.onClick,i=e.muted,a=e.loading,o=e.handleStopAllVideo,u=e.isStopAllVideos;return(0,Gr.jsx)("div",{className:Yj(Qj.item),children:(0,Gr.jsx)("div",{className:Yj(Qj.itemWrap),children:(0,Gr.jsx)(yj,{data:t,loading:a,children:a?(0,Gr.jsx)(Gj,{loading:!0}):(0,Gr.jsx)(Gj,{volume:n,onClick:r,muted:i,data:t,handleStopAllVideo:o,isStopAllVideos:u})})})})},Xj=Or().bind(sj);var Jj=function(e){var t=e.data,n=c((0,r.useState)(0),2),i=n[0],a=n[1],o=c((0,r.useState)(!0),2),u=o[0],s=o[1],l=c((0,r.useState)(!1),2),f=l[0],h=l[1],d=function(){h(!f)},p=function(e){a(100*e)},v=function(){0!==i&&a(0),0===i&&a(100)};return(0,r.useEffect)((function(){t&&s(!1)}),[t]),(0,Gr.jsx)("div",{className:Xj(sj.video),children:u?(0,Gr.jsx)($j,{loading:u}):(0,Gr.jsx)(Gr.Fragment,{children:t&&t.map((function(e,t){return(0,Gr.jsx)($j,{data:e,volume:i,isStopAllVideos:f,handleStopAllVideo:d,onClick:p,muted:v},t)}))})})},Zj={},eF=Or().bind(Zj);var tF=function(){var e=(0,r.useContext)(pj).listVideos;return(0,Gr.jsx)("div",{className:eF(Zj.content),children:(0,Gr.jsx)(Jj,{data:e})})},nF=[{title:"D\xe0nh cho b\u1ea1n",icon:(0,Gr.jsx)(Cr,{icon:se}),to:"/"},{title:"\u0110ang theo d\xf5i",icon:(0,Gr.jsx)(Cr,{icon:de}),to:"/following"},{title:"Live",icon:(0,Gr.jsx)(Cr,{icon:pe}),to:"/live"}],rF=[{title:"T\xe0i kho\u1ea3n \u0111\u01b0\u1ee3c \u0111\u1ec1 xu\u1ea5t",collection:"users",type:"suggestAccounts"},{title:"T\xe0i kho\u1ea3n \u0111ang theo d\xf5i",collection:"users",type:"followingAccounts"},{title:"Kh\xe1m ph\xe1",collection:"users",type:"explore"}],iF={sideBar:"Sidebar_sideBar__SYZV5"},aF={footer:"Footer_footer__1vKHr",footerLine:"Footer_footerLine__qQhT5",copyRight:"Footer_copyRight__6yMt8",ruleModal:"Footer_ruleModal__roSoz",ruleContent:"Footer_ruleContent__71GRm",rule:"Footer_rule__3eXtk",footerBottom:"Footer_footerBottom__DG83X"},oF={listItem:"FooterItem_listItem__hRF6n",item:"FooterItem_item__3ipLt"},uF=Or().bind(oF);var sF=function(e){var t=e.data;return(0,Gr.jsx)("div",{className:uF(oF.listItem),children:t.category.map((function(e,t){return(0,Gr.jsx)("a",{href:e.link,className:uF(oF.item),children:e.title},t)}))})},cF=[{category:[{title:"Gi\u1edbi thi\u1ec7u",link:"https://www.tiktok.com/about?lang=vi-VN"},{title:"TikTok",link:"https://newsroom.tiktok.com/vi-vn/"},{title:"Li\xean h\u1ec7",link:"https://www.tiktok.com/about/contact?lang=vi-VN"},{title:"S\u1ef1 nghi\u1ec7p",link:"https://careers.tiktok.com/"},{title:"ByteDance",link:"https://www.bytedance.com/"}]},{category:[{title:"TikTok for Good",link:"https://www.tiktok.com/forgood"},{title:"Qu\u1ea3ng c\xe1o",link:"https://www.tiktok.com/business/?attr_medium=tt_official_site_guidance&attr_source=tt_official_site&refer=tiktok_web"},{title:"Developers",link:"https://developers.tiktok.com/?refer=tiktok_web"},{title:"Transparency",link:"https://www.tiktok.com/transparency?lang=vi-VN"},{title:"TikTok Rewards",link:"https://www.tiktok.com/tiktok-rewards/vi-VN"}]},{category:[{title:"Tr\u1ee3 gi\xfap",link:"https://support.tiktok.com/vi-VN"},{title:"An to\xe0n",link:"https://www.tiktok.com/safety/vi-vn"},{title:"\u0110i\u1ec1u kho\u1ea3n",link:"https://www.tiktok.com/legal/terms-of-service?lang=vi-VN"},{title:"Quy\u1ec1n ri\xeang t\u01b0",link:"https://www.tiktok.com/legal/privacy-policy-row?lang=vi-VN"},{title:"Creator Portal",link:"https://www.tiktok.com/creators/creator-portal/en-us/"},{title:"H\u01b0\u1edbng d\u1eabn C\u1ed9ng \u0111\u1ed3ng",link:"https://www.tiktok.com/community-guidelines?lang=vi-VN"}]}],lF=Or().bind(aF);var fF=function(){return(0,Gr.jsxs)("div",{className:lF(aF.footer),children:[(0,Gr.jsx)("div",{className:lF(aF.footerLine)}),cF.map((function(e,t){return(0,Gr.jsx)(sF,{data:e},t)})),(0,Gr.jsxs)("div",{className:lF(aF.footerBottom),children:[(0,Gr.jsx)(xo,{arrow:!1,className:lF(aF.ruleModal),placement:"top-end",maxWidth:200,interactive:!0,content:(0,Gr.jsx)("div",{className:lF(aF.ruleContent),children:"NGUY\xcaN T\u1eaeC TH\u1ef0C THI PH\xc1P LU\u1eacT C\u1ee6A TIKTOK"}),children:(0,Gr.jsx)("p",{className:lF(aF.rule),children:"Th\xeam"})}),(0,Gr.jsx)("p",{className:lF(aF.copyRight),children:"\xa9 2022 TikTok"})]})]})},hF={link:"ButtonCategory_link__1CT1a",icon:"ButtonCategory_icon__qUfs4",title:"ButtonCategory_title__SFqXT"},dF=Or().bind(hF);var pF=function(e){var t=e.Icon,n=e.title,r=e.link,i=e.isLoading;return(0,Gr.jsx)(Gr.Fragment,{children:i?(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("a",{href:r,className:dF(hF.link,"loading","desc"),children:(0,Gr.jsx)("span",{className:dF(hF.title)})}),(0,Gr.jsx)("a",{href:r,className:dF(hF.link,"loading","desc"),children:(0,Gr.jsx)("span",{className:dF(hF.title)})})]}):(0,Gr.jsxs)("a",{href:r,className:dF(hF.link),children:[(0,Gr.jsx)(t,{className:dF(hF.icon)}),(0,Gr.jsx)("p",{className:dF(hF.title),children:n})]})})},vF={modalWrap:"SidebarItem_modalWrap__TMcXX",modal:"SidebarItem_modal__9f7SX"},mF={modalWrap:"ModalAccount_modalWrap__TOo84",header:"ModalAccount_header__21C-1",img:"ModalAccount_img__T9hgL",linkUser:"ModalAccount_linkUser__fF0Ew",nickName:"ModalAccount_nickName__tBLCi",stick:"ModalAccount_stick__s85VJ",name:"ModalAccount_name__tWKy8",desc:"ModalAccount_desc__OET+1"},yF=Or().bind(mF);var gF=function(e){var t=e.data,n=void 0===t?{}:t,i=(0,r.useContext)(WM).handleShowModal,a=(0,r.useContext)(pj),o=a.currentUser,u=a.newFollow,s=(a.setNewFollow,c((0,r.useState)(!1),2)),l=s[0],f=s[1];return(0,r.useEffect)((function(){u&&u.length>=0&&(f(!1),u.length>0&&u.map((function(e){n.uid===e.uid&&f(!0)})))}),[u]),(0,Gr.jsxs)("div",{className:yF(mF.modalWrap),children:[(0,Gr.jsxs)("div",{className:yF(mF.header),children:[(0,Gr.jsx)("div",{className:yF(mF.img),children:(0,Gr.jsx)("img",{src:n.photoURL,alt:""})}),(0,Gr.jsx)(Oo,{onClick:function(){if(o.uid){var e,t=zM.collection("users").doc(o.id);if(l)e=u.filter((function(e){if(e.uid!==n.uid)return e})),console.log(e),t.update({following:e}),f(!1);else{var r=zM.collection("users").doc(o.id);u.includes(n.id)||(console.log(u.includes(n.id)),r.update({following:[].concat(Co(u),[n])})),f(!0)}}else i()},followedBtn:l&&!0,followBtn:!l&&!0,data:n,borderRadius:!0,children:l?"\u0110ang Follow":"Follow"})]}),(0,Gr.jsxs)("a",{href:"",className:yF(mF.linkUser),children:[(0,Gr.jsxs)("div",{className:yF(mF.nickName),children:[(0,Gr.jsx)("strong",{children:n.nickName}),(0,Gr.jsx)(Cr,{icon:te,className:yF(mF.stick)})]}),(0,Gr.jsx)("strong",{className:yF(mF.name),children:n.name})]}),(0,Gr.jsxs)("div",{className:yF(mF.desc),children:[(0,Gr.jsxs)("p",{className:yF(mF.content),children:[(0,Gr.jsx)("strong",{children:"7.1M "}),"Follower"]}),(0,Gr.jsxs)("p",{className:yF(mF.content),children:[(0,Gr.jsx)("strong",{children:"10M "}),"Likes"]})]})]})},kF=Or().bind(vF);var bF=function(e){var t=e.data,n=e.isLoading,r=e.type,i=$M();return(0,Gr.jsx)("div",{className:kF(vF.modalWrap),children:"suggestAccounts"===r&&i>900?(0,Gr.jsx)(Du,{delay:[800,0],offset:[0,1],placement:"bottom",interactive:!0,render:function(e){return(0,Gr.jsx)("div",So(So({className:kF(vF.modal),tabIndex:"-1"},e),{},{children:(0,Gr.jsx)(gF,{data:t})}))},children:(0,Gr.jsx)("div",{className:kF(vF.item),children:(0,Gr.jsx)(ZM,{isLoading:n,data:t,widthImg:32})})}):(0,Gr.jsx)("div",{className:kF(vF.item),children:(0,Gr.jsx)(ZM,{isLoading:n,data:t,widthImg:32})})})};function wF(e){return jr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7.784 14l.42-4H4V8h4.415l.525-5h2.011l-.525 5h3.989l.525-5h2.011l-.525 5H20v2h-3.784l-.42 4H20v2h-4.415l-.525 5h-2.011l.525-5H9.585l-.525 5H7.049l.525-5H4v-2h3.784zm2.011 0h3.99l.42-4h-3.99l-.42 4z"}}]}]})(e)}var xF=[{title:"suthala",icon:wF,link:"#"},{title:"mackedoi",icon:wF,link:"#"},{title:"sansangthaydoi",icon:wF,link:"#"},{title:"Y\xeau \u0110\u01a1n Ph\u01b0\u01a1ng L\xe0 G\xec (MEE Remix) - Mee Media & h0n",icon:qr,link:"#"},{title:"V\u1ec1 Nghe M\u1eb9 Ru - NSND Bach Tuyet & H\u1ee9a Kim Tuy\u1ec1n & 14 Casper & Ho\xe0ng D\u0169ng",icon:qr,link:"#"},{title:"Thi\xean Th\u1ea7n T\xecnh Y\xeau - RICKY STAR",icon:qr,link:"#"},{title:"7749hieuung",icon:wF,link:"#"},{title:"genzlife",icon:wF,link:"#"},{title:"T\xecnh \u0110\xe3 \u0110\u1ea7y M\u1ed9t Tim - Huy\u1ec1n T\xe2m M\xf4n",icon:qr,link:"#"},{title:"Th\u1eb1ng H\u1ea7u (Th\xe1i Ho\xe0ng Remix) [Short Version] - Dunghoangpham",icon:qr,link:"#"}],_F={listItem:"SidebarList_listItem__+idus",item:"SidebarList_item__KTjsZ",line:"SidebarList_line__tn1VL",title:"SidebarList_title__drlYB",btnShow:"SidebarList_btnShow__L6X-T",itemWrap:"SidebarList_itemWrap__9qT35"},IF=Or().bind(_F);var EF=function(e){var t=e.type,n=e.collection,i=e.title,a=(0,r.useContext)(pj),o=a.currentUser,u=a.listCurrentUsers,s=c((0,r.useState)([]),2),l=s[0],f=s[1],h=c((0,r.useState)(5),2),d=h[0],p=h[1],v=c((0,r.useState)(!1),2),m=v[0],y=v[1],g=c((0,r.useState)(!0),2),k=g[0],b=g[1],w=$M(),x=o.uid?u.slice(0,d):l.slice(0,d),_=function(){m?(p(5),y(!m)):(p(l.length),y(!m))},I=function(){var e=Ts(Es().mark((function e(){var t;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fj(n);case 3:t=e.sent,f(t),b(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){n&&I()}),[]),(0,Gr.jsx)("div",{className:IF(_F.listItem),children:"suggestAccounts"===t||"followingAccounts"===t?(0,Gr.jsxs)(Gr.Fragment,{children:[k?(0,Gr.jsx)(bF,{isLoading:k}):"suggestAccounts"===t?(0,Gr.jsxs)("div",{className:IF(_F.item),children:[x.length>0&&(w>900?(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("div",{className:IF(_F.line)}),(0,Gr.jsx)("h3",{className:IF(_F.title),children:i})]}):(0,Gr.jsx)("div",{className:IF(_F.line)})),x.length>0&&x.map((function(e,n){return(0,Gr.jsx)(bF,{type:t,data:e},n)}))]}):(0,Gr.jsxs)("div",{className:IF(_F.item),children:[(null===o||void 0===o?void 0:o.uid)&&o.following.length>0&&(w>900?(0,Gr.jsxs)(Gr.Fragment,{children:[(0,Gr.jsx)("div",{className:IF(_F.line)}),(0,Gr.jsx)("h3",{className:IF(_F.title),children:i})]}):(0,Gr.jsx)("div",{className:IF(_F.line)})),o&&o.uid&&o.following.map((function(e,n){return(0,Gr.jsx)(bF,{type:t,data:e},n)}))]}),l.length>5&&(m?(0,Gr.jsx)("p",{onClick:_,className:IF(_F.btnShow),children:"\u1ea8n b\u1edbt"}):(0,Gr.jsx)("p",{onClick:_,className:IF(_F.btnShow),children:"Xem t\u1ea5t c\u1ea3"}))]}):(0,Gr.jsx)("div",{children:w>900&&(0,Gr.jsxs)("div",{className:IF(_F.item),children:[(0,Gr.jsx)("div",{className:IF(_F.line)}),(0,Gr.jsx)("h3",{className:IF(_F.title),children:i}),(0,Gr.jsx)("div",{className:IF(_F.itemWrap),children:k?(0,Gr.jsx)(pF,{isLoading:k}):(0,Gr.jsx)(Gr.Fragment,{children:xF.map((function(e,t){return(0,Gr.jsx)(pF,{title:e.title,Icon:e.icon,link:e.link},t)}))})})]})})})},SF=Or().bind(iF);var TF=function(){var e=c((0,r.useState)(window.location.pathname),2),t=e[0],n=e[1],i=$M();return(0,Gr.jsxs)("div",{className:SF(iF.sideBar),children:[(0,Gr.jsx)("div",{className:SF(iF.header),children:nF.map((function(e,r){return(0,Gr.jsx)(Oo,{onClick:function(){var r;(r=e.to)!==t&&n(r)},to:e.to,active:e.to===t,largeBtn:!0,iconLeft:e.icon,borderRadius:!0,gap:"14",justifyContent:"unset",children:i>900&&e.title},r)}))}),rF.map((function(e,t){return(0,Gr.jsx)(EF,{type:e.type,title:e.title,collection:e.collection},t)})),i>900&&(0,Gr.jsx)(fF,{})]})},CF={layout:"DefaultLayout_layout__bgs3c",sideBar:"DefaultLayout_sideBar__2LG3F",content:"DefaultLayout_content__lziaP"},NF=Or().bind(CF);var AF=function(e){var t=e.children;return(0,Gr.jsxs)("div",{className:NF(CF.layout,"p-top","container"),children:[(0,Gr.jsx)("div",{className:NF(CF.sideBar),children:(0,Gr.jsx)(TF,{})}),(0,Gr.jsx)("div",{className:NF(CF.content),children:t})]})},OF=function(e,t){zM.collection(e).add(So(So({},t),{},{createdAt:HM.firestore.FieldValue.serverTimestamp()}))},DF={upload:"Upload_upload__QXxrt",uploadHeader:"Upload_uploadHeader__kpsXA",title:"Upload_title__u6-yN",desc:"Upload_desc__IQ4QU",uploadContent:"Upload_uploadContent__EIvVx",video:"Upload_video__OaUv4",uploadLayout:"Upload_uploadLayout__TEV8u",uploadIcon:"Upload_uploadIcon__Ua2bB",layoutTitle:"Upload_layoutTitle__8Gz7j",uploadDesc:"Upload_uploadDesc__qzrFv",uploadBtn:"Upload_uploadBtn__dkNFq",inpWrap:"Upload_inpWrap__Xa9PT",inpItem:"Upload_inpItem__e+Eb3",inpDesc:"Upload_inpDesc__p8YcF",inp:"Upload_inp__Pl+CE"},LF=Or().bind(DF);var PF=function(){var e=(0,r.useContext)(WM).user,t=(0,r.useContext)(pj).currentUser,n=$M(),i=c((0,r.useState)([]),2),a=i[0],o=i[1],u=(0,r.useRef)(),s=(0,r.useRef)();return(0,r.useEffect)((function(){e.uid||(window.location.pathname="/")}),[]),(0,Gr.jsxs)("div",{className:LF("container",DF.upload),children:[(0,Gr.jsxs)("div",{className:LF(DF.uploadHeader),children:[(0,Gr.jsx)("h1",{className:LF(DF.title),children:"T\u1ea3i video l\xean"}),(0,Gr.jsx)("h2",{className:LF(DF.desc),children:"\u0110\u0103ng video v\xe0o t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"})]}),(0,Gr.jsxs)("div",{className:LF(DF.uploadContent),children:[(0,Gr.jsx)("input",{onChange:function(e){return o(e.target.files)},id:"upload",type:"file",style:{display:"none"}}),a.length>0?(0,Gr.jsx)("video",{controls:!0,src:URL.createObjectURL(a[0]),className:LF(DF.video)}):(0,Gr.jsxs)("label",{htmlFor:"upload",className:LF(DF.uploadLayout),children:[(0,Gr.jsx)(Ur,{className:LF(DF.uploadIcon)}),(0,Gr.jsx)("h3",{className:LF(DF.layoutTitle),children:"Ch\u1ecdn video \u0111\u1ec3 t\u1ea3i l\xean"}),(0,Gr.jsx)("p",{className:LF(DF.uploadDesc),children:"Ho\u1eb7c k\xe9o v\xe0 th\u1ea3 t\u1eadp tin"}),(0,Gr.jsx)("p",{className:LF(DF.uploadDesc),children:"MP4 ho\u1eb7c WebM \u0110\u1ed9 ph\xe2n gi\u1ea3i 720x1280 tr\u1edf l\xean T\u1ed1i \u0111a 10 ph\xfat \xcdt h\u01a1n 2 GB"}),(0,Gr.jsx)("label",{htmlFor:"upload",className:LF(DF.uploadBtn),children:"Ch\u1ecdn t\u1eadp tin"})]}),(0,Gr.jsxs)("div",{className:LF(DF.inpWrap),children:[(0,Gr.jsxs)("div",{className:LF(DF.inpItem),children:[(0,Gr.jsx)("p",{className:LF(DF.inpDesc),children:"M\xf4 t\u1ea3 video"}),(0,Gr.jsx)("input",{maxLength:150,ref:s,className:LF(DF.inp),type:"text"})]}),(0,Gr.jsxs)("div",{className:LF(DF.inpItem),children:[(0,Gr.jsx)("p",{className:LF(DF.inpDesc),children:"\xc2m thanh video"}),(0,Gr.jsx)("input",{maxLength:150,ref:u,className:LF(DF.inp),type:"text"})]}),(0,Gr.jsx)(Oo,{onClick:function(){var e=t.name,n=t.nickName,r=t.photoURL,i=t.uid,o=s.current.value,c=u.current.value;OF("videos",{name:e,nickName:n,photoURL:r,uid:i,video:URL.createObjectURL(a[0]),music:c,desc:o,comments:[],likes:0,shares:0})},fitContentBtn:!(n<900),borderRadius:!0,smallBtn:!0,primary:!0,children:"upload"})]})]})]})},RF={},MF=Or().bind(RF);var jF=[{path:"/",layout:AF,content:tF},{path:"/upload",content:PF},{path:"/following",layout:AF,content:function(){var e=(0,r.useContext)(pj),t=e.currentUser,n=e.newFollow,i=e.listVideos,a=c((0,r.useState)([]),2),o=a[0],u=a[1];return(0,r.useEffect)((function(){if(null!==t&&void 0!==t&&t.uid){var e=n.map((function(e){return e.uid})),r=i.filter((function(t){return e.includes(t.uid)}));u(Co(r))}}),[t]),(0,Gr.jsx)("div",{className:MF(RF.Following),children:o.length>0?(0,Gr.jsx)(Jj,{data:o}):null!==t&&void 0!==t&&t.uid?(0,Gr.jsx)("h1",{children:"B\u1ea1n ch\u01b0a follow ai c\u1ea3!!!"}):(0,Gr.jsx)("h1",{children:"\u0110\u0103ng nh\u1eadp \u0111\xe3 b\u1ea1n \u01a1i!!!"})})}},{path:"/live",layout:AF,content:tF}],FF={modal:"Modal_modal__RTtfl",show:"Modal_show__slFAc",layoutClose:"Modal_layoutClose__1VHO2",layout:"Modal_layout__K4dnU",closeBtn:"Modal_closeBtn__uNV-I",closeBtnIcon:"Modal_closeBtnIcon__2++4f",title:"Modal_title__2Fokm",listItem:"Modal_listItem__LNcVS",item:"Modal_item__0KOKu",itemIcon:"Modal_itemIcon__aR7JF",itemContent:"Modal_itemContent__C5BkE",desc:"Modal_desc__qu7n-",footer:"Modal_footer__XNh+u",footerLink:"Modal_footerLink__NggfT"};function VF(e){return jr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",stroke:"#000",strokeWidth:"2",d:"M3,3 L21,21 M3,21 L21,3"}}]})(e)}var UF=new HM.auth.GoogleAuthProvider,BF=[{icon:zr,title:"Ti\u1ebfp t\u1ee5c v\u1edbi facebook",provider:new HM.auth.FacebookAuthProvider},{icon:function(e){return jr({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"}}]})(e)},title:"Ti\u1ebfp t\u1ee5c v\u1edbi Google",provider:UF}],zF=Or().bind(FF);var qF=function(e){var t=e.show,n=e.onClick,i=c((0,r.useState)(!1),2),a=i[0],o=i[1],u=function(){var e=Ts(Es().mark((function e(t){var n,r,i;return Es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qM.signInWithPopup(t);case 3:n=e.sent,r=n.additionalUserInfo,i=n.user,r&&r.isNewUser&&OF("users",{name:i.displayName,photoURL:i.photoURL,email:i.email,nickName:i.displayName.toLocaleLowerCase().split(" ").join(""),following:[],liked:[],tick:!1,isFollow:!1,uid:i.uid}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,Gr.jsxs)("div",{className:zF(FF.modal,t&&"show"),children:[(0,Gr.jsx)("div",{onClick:n,className:zF(FF.layoutClose)}),(0,Gr.jsxs)("div",{className:zF(FF.layout,t&&"show"),children:[(0,Gr.jsx)("div",{onClick:n,className:zF(FF.closeBtn),children:(0,Gr.jsx)(VF,{className:zF(FF.closeBtnIcon)})}),(0,Gr.jsx)("h1",{className:zF(FF.title),children:"\u0110\u0103ng nh\u1eadp v\xe0o tiktok"}),(0,Gr.jsx)("div",{className:zF(FF.listItem),children:BF.map((function(e,t){return(0,Gr.jsxs)("button",{onClick:function(){u(e.provider)},className:zF(FF.item),children:[(0,Gr.jsx)(e.icon,{className:zF(FF.itemIcon)}),(0,Gr.jsx)("p",{className:zF(FF.itemContent),children:e.title})]},t)}))}),a&&(0,Gr.jsx)("p",{className:zF(FF.desc),children:"B\u1eb1ng c\xe1ch ti\u1ebfp t\u1ee5c, b\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi \u0110i\u1ec1u kho\u1ea3n S\u1eed d\u1ee5ng c\u1ee7a TikTok v\xe0 x\xe1c nh\u1eadn r\u1eb1ng b\u1ea1n \u0111\xe3 \u0111\u1ecdc hi\u1ec3u Ch\xednh s\xe1ch Quy\u1ec1n ri\xeang t\u01b0 c\u1ee7a TikTok."}),(0,Gr.jsxs)("div",{className:zF(FF.footer),children:[(0,Gr.jsx)("p",{className:zF(FF.footerContent),children:"B\u1ea1n kh\xf4ng c\xf3 t\xe0i kho\u1ea3n?"}),(0,Gr.jsx)("a",{onClick:function(){return o(!a)},href:"#",className:zF(FF.footerLink),children:a?"\u0110\u0103ng k\xfd":"\u0110\u0103ng nh\u1eadp"})]})]})]})};var HF=function(){var e=(0,r.useContext)(WM),t=(e.setUser,e.showModal),n=e.handleShowModal;return(0,r.useEffect)((function(){}),[]),(0,Gr.jsx)(Y,{children:(0,Gr.jsxs)("div",{className:"App",children:[(0,Gr.jsx)(uj,{}),(0,Gr.jsx)(qF,{show:t,onClick:n}),(0,Gr.jsx)(H,{children:jF.map((function(e){var t=r.Fragment,n=e.content;return e.layout&&(t=e.layout),(0,Gr.jsx)(z,{path:e.path,element:(0,Gr.jsx)(t,{children:(0,Gr.jsx)(n,{})})},e.path)}))})]})})};i.createRoot(document.getElementById("root")).render((0,Gr.jsx)(r.StrictMode,{children:(0,Gr.jsx)(KM,{children:(0,Gr.jsx)(vj,{children:(0,Gr.jsx)(HF,{})})})}))}()}();
//# sourceMappingURL=main.9896ada3.js.map